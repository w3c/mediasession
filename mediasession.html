<!doctype html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  
  
  <title>Media Session Standard</title>
  
  
  <link href="https://www.whatwg.org/style/specification" rel="stylesheet">
  
  
  <link href="https://resources.whatwg.org/bikeshed.css" rel="stylesheet">
  
  
  <link href="https://resources.whatwg.org/logo.svg" rel="icon">
  

  <meta content="Bikeshed 1.0.0" name="generator">
  <style>/* http://prismjs.com/download.html?themes=prism&languages=clike */
/**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */

code[class*="language-"],
pre[class*="language-"] {
	color: black;
	text-shadow: 0 1px white;
	font-family: Consolas, Monaco, 'Andale Mono', monospace;
	direction: ltr;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
	text-shadow: none;
	background: #b3d4fc;
}

pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection {
	text-shadow: none;
	background: #b3d4fc;
}

@media print {
	code[class*="language-"],
	pre[class*="language-"] {
		text-shadow: none;
	}
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #f5f2f0;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: slategray;
}

.token.punctuation {
	color: #999;
}

.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
	color: #905;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #690;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
	color: #a67f59;
	background: hsla(0, 0%, 100%, .5);
}

.token.atrule,
.token.attr-value,
.token.keyword {
	color: #07a;
}

.token.function {
	color: #DD4A68;
}

.token.regex,
.token.important,
.token.variable {
	color: #e90;
}

.token.important {
	font-weight: bold;
}

.token.entity {
	cursor: help;
}
</style>
 </head>
 <body class="h-entry status-LS">

  <div class="head">
  
   <p data-fill-with="logo"><a class="logo" href="https://whatwg.org/">
    <img alt="WHATWG" height="100" src="https://resources.whatwg.org/logo.svg">
</a>
</p>
  
   <h1 class="p-name no-ref" id="title">Media Session</h1>
  
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Living Standard — Last Updated
    <time class="dt-updated" datetime="2015-05-26">26 May 2015</time></span></h2>
  
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>Participate:
     <dd><span><a href="https://github.com/whatwg/mediasession/issues/new">File an issue</a> (<a href="https://github.com/whatwg/mediasession/issues?state=open">open issues</a>)</span>
     <dd><span><a href="https://wiki.whatwg.org/wiki/IRC">IRC: #whatwg on Freenode</a></span>
     <dt>Version History:
     <dd><span><a href="https://github.com/whatwg/mediasession/commits">https://github.com/whatwg/mediasession/commits</a></span>
    </dl>
   </div>
  
   <div data-fill-with="warning"></div>
</div>
  


  <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
  

  <div class="p-summary" data-fill-with="abstract">
   <p>This specification enables web developers to obtain different levels

of platform media focus and access to platform media keys such as
hardware keys found on keyboards, headsets, remote controls, and
software keys found in notification areas and on lock screens of
mobile devices.</p>

</div>
  

  <div data-fill-with="at-risk"></div>
  


  <h2 class="no-num no-toc no-ref heading settled" id="contents"><span class="content">Table of Contents</span></h2>
  

  <div data-fill-with="table-of-contents" role="navigation">
   <ul class="toc" role="directory">
    <li><a href="#introduction"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li><a href="#conformance"><span class="secno">2</span> <span class="content">Conformance</span></a>
    <li><a href="#dependencies"><span class="secno">3</span> <span class="content">Dependencies</span></a>
    <li><a href="#media-sessions"><span class="secno">4</span> <span class="content">Media sessions</span></a>
     <ul class="toc">
      <li><a href="#mediasession interface"><span class="secno">4.1</span> <span class="content">The <code class="idl"><span>MediaSession</span></code> interface</span></a>
     </ul>
    <li><a href="#media-categories"><span class="secno">5</span> <span class="content">Media categories</span></a>
    <li><a href="#media-remote-controls"><span class="secno">6</span> <span class="content">Media remote controls</span></a>
     <ul class="toc">
      <li><a href="#the-mediaremotecontrols-interface"><span class="secno">6.1</span> <span class="content">The <code class="idl"><span>MediaRemoteControls</span></code>
interface</span></a>
      <li><a href="#event-handlers-on-mediaremotecontrols-objects"><span class="secno">6.2</span> <span class="content">Event handlers on
<code class="idl"><span>MediaRemoteControls</span></code> objects</span></a>
      <li><a href="#media-remote-controls-events-summary"><span class="secno">6.3</span> <span class="content">Events summary</span></a>
     </ul>
    <li><a href="#assigning-a-media-session-to-media-elements"><span class="secno">7</span> <span class="content">Assigning a media session
to media elements</span></a>
     <ul class="toc">
      <li><a href="#extensions-to-the-htmlmediaelement-interface"><span class="secno">7.1</span> <span class="content">Extensions to the
<code class="idl"><span>HTMLMediaElement</span></code> interface</span></a>
      <li><a href="#assigning-a-media-session-declaratively"><span class="secno">7.2</span> <span class="content">Assigning a media session
declaratively</span></a>
       <ul class="toc">
        <li><a href="#extensions-to-the-video-element"><span class="secno">7.2.1</span> <span class="content">Extensions to the <code><span>video</span></code> element</span></a>
        <li><a href="#extensions-to-the-audio-element"><span class="secno">7.2.2</span> <span class="content">Extensions to the <code><span>audio</span></code> element</span></a>
       </ul>
     </ul>
    <li><a href="#media-session-invocation"><span class="secno">8</span> <span class="content">Media session invocation</span></a>
    <li><a href="#media-session-interruption"><span class="secno">9</span> <span class="content">Media session interruption</span></a>
    <li><a href="#media-session-release"><span class="secno">10</span> <span class="content">Media session release</span></a>
    <li><a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ul class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ul>
    <li><a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ul class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ul>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
   </ul></div>
  

  <main>



   <script async="" src="https://resources.whatwg.org/file-issue.js"></script>




   <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#introduction"></a></h2>


   <p><em>This section is non-normative.</em></p>


   <p>Media is used extensively today on the web to play a variety of different types
of content. It is often used to play music, podcasts and radio content. At other
times media elements are used to provide background music, sound effects,
notification sounds and to render WebRTC media stream content.</p>


   <p>When playing media on the web, developers are currently forced to adopt a single
default platform modality for playing all media content. On the other hand,
native applications can access much richer media integration options with an
underlying platform. On mobile devices, native application developers can
request many different forms of media integration with the platform to obtain
access to headphone buttons, lock screens and notification areas as needed. On
desktop devices, native applications have access to keyboard media key events.
Native application developers can specify the conditions in which media content
should pause or duck on audio interruptions (i.e. pause or lower the volume for
the duration of an interruption), continue playing out when application focus is
lost or the device screen is switched off and interface with internal and
external remote controllers.</p>


   <p>This specification provides these platform media integration features for web
media. By allowing web developers to express the intended usage of their media
content, user agents can supply the most suitable platform-level interactions
for that content and enforce logical inter-operation behavior on the current
platform between any number of different sources of media.</p>


   <p>This specification describes the mechanism that allows web developers to specify
the most appropriate category for their media content and for user agents to
then use these supplied hints to enforce how different sources of web media
should interact with each other, other native media content and the underlying
platform.</p>


   <h2 class="heading settled" data-level="2" id="conformance"><span class="secno">2. </span><span class="content">Conformance</span><a class="self-link" href="#conformance"></a></h2>


   <p>All diagrams, examples, and notes in this specification are non-normative, as
are all sections explicitly marked non-normative. Everything else in this
specification is normative.</p>


   <p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD",
"SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this
document are to be interpreted as described in RFC 2119. For readability, these
words do not appear in all uppercase letters in this specification. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a></p>


   <p>Requirements phrased in the imperative as part of algorithms (such as "strip any
leading space characters" or "return false and terminate these steps") are to be
interpreted with the meaning of the key word ("must", "should", "may", etc) used
in introducing the algorithm.</p>


   <p>Conformance requirements phrased as algorithms or specific steps may be
implemented in any manner, so long as the end result is equivalent. (In
particular, the algorithms defined in this specification are intended to be easy
to follow, and not intended to be performant.)</p>


   <p>User agents may impose implementation-specific limits on otherwise unconstrained
inputs, e.g. to prevent denial of service attacks, to guard against running out
of memory, or to work around platform-specific limitations.</p>


   <p>When a method or an attribute is said to call another method or attribute, the
user agent must invoke its internal API for that attribute or method so that
e.g. the author can’t change the behavior by overriding attributes or methods
with custom properties or functions in JavaScript.</p>


   <p>Unless otherwise stated, string comparisons are done in a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#case-sensitivity-and-string-comparison">case-sensitive</a>
manner.</p>


   <h2 class="heading settled" data-level="3" id="dependencies"><span class="secno">3. </span><span class="content">Dependencies</span><a class="self-link" href="#dependencies"></a></h2>


   <p>The IDL fragments in this specification must be interpreted as required for
conforming IDL fragments, as described in the Web IDL specification. <a data-link-type="biblio" href="#biblio-webidl">[WEBIDL]</a></p>


   <h2 class="heading settled" data-level="4" id="media-sessions"><span class="secno">4. </span><span class="content">Media sessions</span><a class="self-link" href="#media-sessions"></a></h2>


   <p>A <dfn data-dfn-type="dfn" data-noexport="" id="media-session">media session<a class="self-link" href="#media-session"></a></dfn> represents one or more <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media elements</a> within
the same <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level browsing context</a> that share the same <a data-link-type="dfn" href="#media-category">media
category</a>. Each <a data-link-type="dfn" href="#media-session">media session</a> then defines the interactions of those
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media elements</a> with both the underlying platform and other <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media
elements</a> belonging to other <a data-link-type="dfn" href="#media-session">media sessions</a> within the user agent.</p>


   <p>A <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> can have a <dfn data-dfn-type="dfn" data-noexport="" id="current-media-session">current media session<a class="self-link" href="#current-media-session"></a></dfn>, which is a
<a data-link-type="dfn" href="#media-session">media session</a>. When a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> is created the user agent must
set its <a data-link-type="dfn" href="#current-media-session">current media session</a> to the current <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level browsing
context</a>’s <a data-link-type="dfn" href="#media-session">media session</a>.</p>


   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="participating-media-elements">participating media elements<a class="self-link" href="#participating-media-elements"></a></dfn> of a <a data-link-type="dfn" href="#media-session">media session</a> are the
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media elements</a> whose <a data-link-type="dfn" href="#current-media-session">current media session</a> is that
<a data-link-type="dfn" href="#media-session">media session</a>. A <a data-link-type="dfn" href="#media-session">media session</a>’s <dfn data-dfn-type="dfn" data-noexport="" id="active-participating-media-elements">active participating media
elements<a class="self-link" href="#active-participating-media-elements"></a></dfn> are the <a data-link-type="dfn" href="#participating-media-elements">participating media elements</a> of a <a data-link-type="dfn" href="#media-session">media
session</a> that have a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-paused">paused</a></code> attribute of false.</p>


   <p><a data-link-type="dfn" href="#media-session">Media sessions</a> have a <dfn data-dfn-type="dfn" data-noexport="" id="current-state">current state<a class="self-link" href="#current-state"></a></dfn>, which describes their
current status with respect to any interaction with other <a data-link-type="dfn" href="#media-session">media sessions</a>.
The possible values are as follows:</p>


   <dl>
  
    <dt>
    <dfn data-dfn-type="dfn" data-lt="idle media session state" data-noexport="" id="idle-media-session-state"><code>IDLE</code><a class="self-link" href="#idle-media-session-state"></a></dfn>
  
  
    <dd>
    The <a data-link-type="dfn" href="#media-session">media session</a> does not have any platform-level media focus nor is
    it in a suspended state.
  
  
    <dt>
    <dfn data-dfn-type="dfn" data-lt="active media session state" data-noexport="" id="active-media-session-state"><code>ACTIVE</code><a class="self-link" href="#active-media-session-state"></a></dfn>
  
  
    <dd>
    The <a data-link-type="dfn" href="#media-session">media session</a> currently has platform-level media focus.
  
  
    <dt>
    <dfn data-dfn-type="dfn" data-lt="interrupted media session state" data-noexport="" id="interrupted-media-session-state"><code>INTERRUPTED</code><a class="self-link" href="#interrupted-media-session-state"></a></dfn>
  
  
    <dd>
    The <a data-link-type="dfn" href="#media-session">media session</a> is currently suspended from having platform-level
    media focus and its <a data-link-type="dfn" href="#active-participating-media-elements">active participating media elements</a> are either <a data-link-type="dfn" href="#pause">paused</a> or
    <a data-link-type="dfn" href="#duck">ducked</a> based on the <a data-link-type="dfn" href="#media-session">media session</a>’s <a data-link-type="dfn" href="#media-category">media
    category</a> and pending completion of another <a data-link-type="dfn" href="#media-session">media session</a>’s media
    focus.
  
</dl>


   <p>When a new <a data-link-type="dfn" href="#media-session">media session</a> is created its <a data-link-type="dfn" href="#current-state">current state</a> must be
initially set to
<code><a data-link-type="dfn" href="#idle-media-session-state">IDLE</a></code>.</p>


   <p>When the <a data-link-type="dfn" href="#media-session-invocation-algorithm">media session invocation algorithm</a> is run a <a data-link-type="dfn" href="#media-session">media
session</a>’s <a data-link-type="dfn" href="#current-state">current state</a> may be set from <code><a data-link-type="dfn" href="#idle-media-session-state">IDLE</a></code> to
<code><a data-link-type="dfn" href="#active-media-session-state">ACTIVE</a></code>.</p>


   <p>When the <a data-link-type="dfn" href="#media-session-interruption-algorithm">media session interruption algorithm</a> is run a <a data-link-type="dfn" href="#media-session">media
session</a>’s <a data-link-type="dfn" href="#current-state">current state</a> may be set from
<code><a data-link-type="dfn" href="#active-media-session-state">ACTIVE</a></code> to either <code><a data-link-type="dfn" href="#idle-media-session-state">IDLE</a></code> or <code><a data-link-type="dfn" href="#interrupted-media-session-state">INTERRUPTED</a></code> depending on its associated <a data-link-type="dfn" href="#media-category">media
category</a>.</p>


   <p>When the <a data-link-type="dfn" href="#media-session-continuation-algorithm">media session continuation algorithm</a> is run a <a data-link-type="dfn" href="#media-session">media
session</a>’s <a data-link-type="dfn" href="#current-state">current state</a> may be set from <code><a data-link-type="dfn" href="#interrupted-media-session-state">INTERRUPTED</a></code>
to <code><a data-link-type="dfn" href="#active-media-session-state">ACTIVE</a></code>.</p>


   <p>When the <a data-link-type="dfn" href="#media-session-release-algorithm">media session release algorithm</a> is run a <a data-link-type="dfn" href="#media-session">media session</a>’s
<a data-link-type="dfn" href="#current-state">current state</a>
may be set from either <code><a data-link-type="dfn" href="#active-media-session-state">ACTIVE</a></code> or <code><a data-link-type="dfn" href="#interrupted-media-session-state">INTERRUPTED</a></code> to
<code><a data-link-type="dfn" href="#idle-media-session-state">IDLE</a></code>.</p>


   <p>The <a data-link-type="dfn" href="#media-session-interruption-algorithm">media session interruption algorithm</a> may cause a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>
to either <a data-link-type="dfn" href="#pause">pause</a> or <a data-link-type="dfn" href="#duck">duck</a> depending on its <a data-link-type="dfn" href="#media-category">media category</a>.
When a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> is to <dfn data-dfn-type="dfn" data-noexport="" id="pause">pause<a class="self-link" href="#pause"></a></dfn> the user agent must run its
<code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-pause">pause()</a></code> method. When a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> is to <dfn data-dfn-type="dfn" data-noexport="" id="duck">duck<a class="self-link" href="#duck"></a></dfn>
then the user agent must ensure its output volume is lowered.</p>


   <p>The <a data-link-type="dfn" href="#media-session-continuation-algorithm">media session continuation algorithm</a> may cause a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>
to either <a data-link-type="dfn" href="#unpause">unpause</a> or <a data-link-type="dfn" href="#unduck">unduck</a> depending on its <a data-link-type="dfn" href="#media-category">media
category</a>. When a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> is to <dfn data-dfn-type="dfn" data-noexport="" id="unduck">unduck<a class="self-link" href="#unduck"></a></dfn>
then the user agent should restore its output volume to the same level that was
observed prior to the original corresponding <a data-link-type="dfn" href="#duck">duck</a> request. When a
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> is to <dfn data-dfn-type="dfn" data-noexport="" id="unpause">unpause<a class="self-link" href="#unpause"></a></dfn> the user agent must run its
<code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-play">play()</a></code> method.</p>


   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="intrinsic-media-category-state">intrinsic media category state<a class="self-link" href="#intrinsic-media-category-state"></a></dfn> of a <a data-link-type="dfn" href="#media-session">media session</a> is the
state value of the <a data-link-type="dfn" href="#media-category">media category</a> that was set when a <a data-link-type="dfn" href="#media-session">media
session</a> was created. The
<a href="#media-categories">possible media categories and their states</a> are
defined below.</p>


   <h3 class="heading settled" data-level="4.1" id="mediasession interface"><span class="secno">4.1. </span><span class="content">The <code class="idl"><a data-link-type="idl" href="#mediasession">MediaSession</a></code> interface</span><a class="self-link" href="#mediasession%20interface"></a></h3>


   <p><a data-link-type="dfn" href="#media-session">Media sessions</a> implement the following interface:</p>


   <pre class="idl">[<a class="idl-code" data-global-name="MediaSession<interface>/MediaSession(kind)<constructor>" data-link-type="constructor" href="#dom-mediasession-mediasessionkind">Constructor</a>(<a data-link-type="idl-name" href="#enumdef-mediasessionkind">MediaSessionKind</a> <dfn class="idl-code" data-dfn-for="MediaSession/MediaSession(kind)" data-dfn-type="argument" data-export="" data-global-name="MediaSession<interface>/MediaSession(kind)<method>/kind<argument>" id="dom-mediasession-mediasessionkind-kind">kind<a class="self-link" href="#dom-mediasession-mediasessionkind-kind"></a></dfn>)]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="mediasession">MediaSession<a class="self-link" href="#mediasession"></a></dfn> {
  readonly attribute <a data-link-type="idl-name" href="#enumdef-mediasessionkind">MediaSessionKind</a> <a class="idl-code" data-global-name="MediaSession<interface>/kind<attribute>" data-link-type="attribute" data-readonly="" data-type="MediaSessionKind " href="#dom-mediasession-kind">kind</a>;

  readonly attribute <a data-link-type="idl-name" href="#mediaremotecontrols">MediaRemoteControls</a>? <a class="idl-code" data-global-name="MediaSession<interface>/controls<attribute>" data-link-type="attribute" data-readonly="" data-type="MediaRemoteControls? " href="#dom-mediasession-controls">controls</a>;

  void <a class="idl-code" data-global-name="MediaSession<interface>/release()<method>" data-link-type="method" href="#dom-mediasession-release">release</a>();
};
</pre>


   <dl class="domintro">
  
    <dt>
    <code><var>session</var> = new <a class="idl-code" data-link-type="constructor" href="#dom-mediasession-mediasessionkind">MediaSession</a>(<var>kind</var>)</code>
  
  
    <dd>
    Returns a new <code class="idl"><a data-link-type="idl" href="#mediasession">MediaSession</a></code> object.
  
</dl>


   <p>The
<dfn class="idl-code" data-dfn-for="MediaSession" data-dfn-type="constructor" data-export="" id="dom-mediasession-mediasessionkind">MediaSession(<var>kind</var>)<a class="self-link" href="#dom-mediasession-mediasessionkind"></a></dfn>
constructor must create a new <code class="idl"><a data-link-type="idl" href="#mediasession">MediaSession</a></code> object with its
<code class="idl"><a data-link-type="idl" href="#dom-mediasession-kind">kind</a></code> attribute set to <var>kind</var>, its
<code class="idl"><a data-link-type="idl" href="#dom-mediasession-controls">controls</a></code> attribute set to a new <code class="idl"><a data-link-type="idl" href="#mediaremotecontrols">MediaRemoteControls</a></code> object
if its <code class="idl"><a data-link-type="idl" href="#dom-mediasession-kind">kind</a></code> is "<a data-link-type="dfn" href="#content-attribute-value"><code>content</code></a>" or null otherwise, and then return it.</p>


   <dl class="domintro">
  
    <dt>
    <code><var>session</var> . <code class="idl"><a data-link-type="idl" href="#dom-mediasession-kind">kind</a></code></code>
  
  
    <dd>
    Returns the DOMString value of the <a data-link-type="dfn" href="#intrinsic-media-category-state">intrinsic media category state</a> the
    <a data-link-type="dfn" href="#media-session">media session</a> represents.
  
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="MediaSession" data-dfn-type="attribute" data-export="" id="dom-mediasession-kind"><code>kind</code><a class="self-link" href="#dom-mediasession-kind"></a></dfn>
attribute must return the DOMString value of the <a data-link-type="dfn" href="#intrinsic-media-category-state">intrinsic media category
state</a> of the <a data-link-type="dfn" href="#media-session">media session</a>.</p>


   <dl class="domintro">
  
    <dt>
    <code><var>session</var> . <code class="idl"><a data-link-type="idl" href="#dom-mediasession-controls">controls</a></code></code>
  
  
    <dd>
    Returns the <code class="idl"><a data-link-type="idl" href="#mediaremotecontrols">MediaRemoteControls</a></code> object assigned for the <a data-link-type="dfn" href="#media-session">media
    session</a>, if any.
  
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="MediaSession" data-dfn-type="attribute" data-export="" id="dom-mediasession-controls"><code>controls</code><a class="self-link" href="#dom-mediasession-controls"></a></dfn>
attribute must return the <code class="idl"><a data-link-type="idl" href="#mediaremotecontrols">MediaRemoteControls</a></code> object that was assigned to
the <a data-link-type="dfn" href="#media-session">media session</a> when it was created. If <code class="idl"><a data-link-type="idl" href="#dom-mediasession-kind">kind</a></code> is not
"<a data-link-type="dfn" href="#content-attribute-value"><code>content</code></a>" then this
attribute should return null.</p>


   <dl class="domintro">
  
    <dt>
    <code><var>session</var> . <code class="idl"><a data-link-type="idl" href="#dom-mediasession-release">release()</a></code></code>
  
  
    <dd>
    Releases platform-level media focus, sets the <a data-link-type="dfn" href="#media-session">media session</a>’s
    <a data-link-type="dfn" href="#current-state">current state</a> to <code><a data-link-type="dfn" href="#idle-media-session-state">IDLE</a></code> and applies any changes necessary to its
    <a data-link-type="dfn" href="#active-participating-media-elements">active participating media elements</a>.
  
</dl>


   <p>When the <dfn class="idl-code" data-dfn-for="MediaSession" data-dfn-type="method" data-export="" id="dom-mediasession-release"><code>release()</code><a class="self-link" href="#dom-mediasession-release"></a></dfn> method is invoked, the user agent
must run the following steps:</p>


   <ol>
  
    <li>
    <a data-link-type="dfn" href="#pause">Pause</a> each of <a data-link-type="dfn" href="#media-session">media session</a>’s <a data-link-type="dfn" href="#active-participating-media-elements">active participating media
    elements</a>.
  
  
    <li>
    Run the <a data-link-type="dfn" href="#media-session-release-algorithm">media session release algorithm</a> passing in the
    <a data-link-type="dfn" href="#media-session">media session</a> as the only argument.
  
</ol>


   <h2 class="heading settled" data-level="5" id="media-categories"><span class="secno">5. </span><span class="content">Media categories</span><a class="self-link" href="#media-categories"></a></h2>


   <p>A <dfn data-dfn-type="dfn" data-noexport="" id="media-category">media category<a class="self-link" href="#media-category"></a></dfn> is a keyword that maps to a well-defined interaction
state for a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> that user agents use to enforce
platform-specific interaction and interoperation between web media.</p>


   <pre class="idl">enum <dfn class="idl-code" data-dfn-type="enum" data-export="" data-global-name="" id="enumdef-mediasessionkind">MediaSessionKind<a class="self-link" href="#enumdef-mediasessionkind"></a></dfn> {
  "content",
  "transient",
  "transient-solo",
  "ambient"
};
</pre>


   <p>The following table lists the available <a data-link-type="dfn" href="#media-category">media categories</a> keywords and
states — the keywords in the left column map to the states in the cell in the
second column on the same row as the keyword. The attribute should be set based
on the preferred definitions in the table’s third and fourth columns.</p>


   <table id="valid-media-categories">
  
    <tbody>
     <tr>
    
      <th>Category
      
    
      <th>State
      
    
      <th>Definition
      
    
      <th>Examples
      
  
     
  
     <tr>
    
      <td>
      "<dfn data-dfn-type="dfn" data-lt="content attribute value" data-noexport="" id="content-attribute-value"><code>content</code><a class="self-link" href="#content-attribute-value"></a></dfn>"
    
      
    
      <td>
      <dfn data-dfn-type="dfn" data-lt="content media state" data-noexport="" id="content-media-state">Content<a class="self-link" href="#content-media-state"></a></dfn>
    
      
    
      <td>
      
       <ul>
        
        <li>
          Indefinitely <a data-link-type="dfn" href="#pause">pauses</a> all other <a data-link-type="dfn" href="#active-participating-media-elements">active</a>
          <code><a data-link-type="dfn" href="#default-media-state">Default</a></code> and <code><a data-link-type="dfn" href="#content-media-state">Content</a></code> content when <a href="#media-session-invocation">playback begins</a>.
        
        
        
        <li>
          Displays lock-screen and notification area user interfaces when
          <a href="#media-session-invocation">playback begins</a>.
        
        
        
        <li>
          Reacts to changes in both hardware and software-based media key
          buttons when <a href="#media-session-invocation">playback begins</a>.
        
        
        
        <li>
          <a data-link-type="dfn" href="#duck">Ducks</a> itself when <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code> content <a href="#media-session-interruption">starts interrupting</a>.
          <a data-link-type="dfn" href="#unduck">Unducks</a>
          itself when <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code>
          content is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-paused">paused</a> or <a href="#media-session-release">ends
          playback</a>.
        
        
        
        <li>
          <a data-link-type="dfn" href="#pause">Pauses</a> itself when <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code> content <a href="#media-session-interruption">starts interrupting</a>.
          <a data-link-type="dfn" href="#unpause">Unpauses</a> itself when <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code> content is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-paused">paused</a> or <a href="#media-session-release">ends playback</a>.
        
        
        
        <li>
          Continues playing normally when <code><a data-link-type="dfn" href="#ambient-media-state">Ambient</a></code> content <a href="#media-session-interruption">starts interrupting</a>.
        
        
      
       </ul>
       
    
      
    
      <td>
      Music, podcasts, radio streams.
    
      
  
     
  
     <tr>
    
      <td>
      "<dfn data-dfn-type="dfn" data-lt="transient attribute
      value" data-noexport="" id="transient-attribute-value"><code>transient</code><a class="self-link" href="#transient-attribute-value"></a></dfn>"
    
      
    
      <td>
      <dfn data-dfn-type="dfn" data-lt="transient media state" data-noexport="" id="transient-media-state">Transient<a class="self-link" href="#transient-media-state"></a></dfn>
    
      
    
      <td>
      
       <ul>
        
        <li>
          <a data-link-type="dfn" href="#duck">Ducks</a> all other <a data-link-type="dfn" href="#active-participating-media-elements">active</a>
          <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>
          and <code><a data-link-type="dfn" href="#content-media-state">Content</a></code> content when
          <a href="#media-session-invocation">playback begins</a>.
          <a data-link-type="dfn" href="#unduck">Unducks</a> all other <a data-link-type="dfn" href="#interrupted-media-session-state">interrupted</a> <code><a data-link-type="dfn" href="#default-media-state">Default</a></code> and <code><a data-link-type="dfn" href="#content-media-state">Content</a></code> content when <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-paused">paused</a> or <a href="#media-session-release">playback ends</a>.
        
        
        
        <li>
          Does not display lock-screen and notification area user interfaces
          when <a href="#media-session-invocation">playback begins</a>.
        
        
        
        <li>
          Does not react to changes in both hardware and software-based media
          key buttons when <a href="#media-session-invocation">playback
          begins</a>.
        
        
        
        <li>
          <a data-link-type="dfn" href="#pause">Pauses</a> itself when <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code> content <a href="#media-session-interruption">starts interrupting</a>.
          <a data-link-type="dfn" href="#unpause">Unpauses</a> itself when <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code> content is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-paused">paused</a> or <a href="#media-session-release">ends playback</a>.
        
        
        
        <li>
          Continues playing normally when other <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code> or <code><a data-link-type="dfn" href="#ambient-media-state">Ambient</a></code> content <a href="#media-session-interruption">starts interrupting</a>.
        
        
      
       </ul>
       
    
      
    
      <td>
      Notification sounds. Spoken driving directions where playback of music in
      the background is acceptable.
    
      
  
     
  
     <tr>
    
      <td>
      "<dfn data-dfn-type="dfn" data-lt="transient-solo attribute
      value" data-noexport="" id="transient_solo-attribute-value"><code>transient-solo</code><a class="self-link" href="#transient_solo-attribute-value"></a></dfn>"
    
      
    
      <td>
      <dfn data-dfn-type="dfn" data-lt="transient solo media state" data-noexport="" id="transient-solo-media-state">Transient Solo<a class="self-link" href="#transient-solo-media-state"></a></dfn>
    
      
    
      <td>
      
       <ul>
        
        <li>
          <a data-link-type="dfn" href="#pause">Pauses</a> all other <a data-link-type="dfn" href="#active-participating-media-elements">active</a>
          <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>,
          <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>, <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code> and
          <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code>
          content when <a href="#media-session-invocation">playback begins</a>.
          <a data-link-type="dfn" href="#unpause">Unpauses</a> all <a data-link-type="dfn" href="#interrupted-media-session-state">interrupted</a>
          <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>, <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>, <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code> and <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code>
          content when <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-paused">paused</a> or <a href="#media-session-release">playback ends</a>.
        
        
        
        <li>
          Does not display lock-screen and notification area user interfaces
          when <a href="#media-session-invocation">playback begins</a>.
        
        
        
        <li>
          Does not react to changes in both hardware and software-based media
          key buttons when <a href="#media-session-invocation">playback
          begins</a>.
        
        
        
        <li>
          <a data-link-type="dfn" href="#pause">Pauses</a> itself when other <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code> content <a href="#media-session-interruption">starts interrupting</a>.
          <a data-link-type="dfn" href="#unpause">Unpauses</a>
          itself when other <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient
          Solo</a></code> content is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-paused">paused</a> or <a href="#media-session-release">ends playback</a>.
        
        
        
        <li>
          Continues playing normally when <code><a data-link-type="dfn" href="#ambient-media-state">Ambient</a></code> content <a href="#media-session-interruption">starts interrupting</a>.
        
        
      
       </ul>
       
    
      
    
      <td>
      Playback of driving directions. Other spoken notifications.
    
      
  
     
  
     <tr>
    
      <td>
      "<dfn data-dfn-type="dfn" data-lt="ambient attribute value" data-noexport="" id="ambient-attribute-value"><code>ambient</code><a class="self-link" href="#ambient-attribute-value"></a></dfn>"
    
      
    
      <td>
      <dfn data-dfn-type="dfn" data-lt="ambient media state" data-noexport="" id="ambient-media-state">Ambient<a class="self-link" href="#ambient-media-state"></a></dfn>
    
      
    
      <td>
      
       <ul>
        
        <li>
          Does not interact with any other <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>,
          <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>, <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code>,
          <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code> or
          <code><a data-link-type="dfn" href="#ambient-media-state">Ambient</a></code> content during
          playback.
        
        
        
        <li>
          Does not display lock-screen and notification area user interfaces
          when <a href="#media-session-invocation">playback begins</a>.
        
        
        
        <li>
          Does not react to changes in both hardware and software-based media
          key buttons when <a href="#media-session-invocation">playback
          begins</a>.
        
        
        
        <li>
          <a data-link-type="dfn" href="#pause">Pauses</a> itself when its <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level browsing context</a> is not
          visible (i.e. the page is placed in the background or the user agent
          is minimized or the screen is switched off). <a data-link-type="dfn" href="#unpause">Unpauses</a> itself
          when its
          <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level browsing context</a> is at least partially visible on at
          least one screen again (i.e. the user agent is in the foreground and
          the page is focused again).
        
        
      
       </ul>
       
    
      
    
      <td>
      UI sounds. In-game sound effects and background music.
    
      
  
     
  
     <tr>
    
      <td>
      "<strong id="default-media-value"><code></code></strong>" (empty
      string)
    
      
    
      <td>
      <dfn data-dfn-type="dfn" data-lt="default media state" data-noexport="" id="default-media-state">Default<a class="self-link" href="#default-media-state"></a></dfn>
    
      
    
      <td>
      
       <ul>
        
        <li>
          No explicit kind, or the kind of the media given is not recognized by
          the user agent.
        
        
      
       </ul>
       
    
      
    
      <td>
      Legacy media content
    
      
  
     
</table>


   <h2 class="heading settled" data-level="6" id="media-remote-controls"><span class="secno">6. </span><span class="content">Media remote controls</span><a class="self-link" href="#media-remote-controls"></a></h2>


   <p><dfn data-dfn-type="dfn" data-lt="media remote control" data-noexport="" id="media-remote-control">Media remote controls<a class="self-link" href="#media-remote-control"></a></dfn> enable a <a data-link-type="dfn" href="#media-session">media
session</a> to respond to hardware or software remote control events. Such
events may be triggered by e.g. keyboard media keys, headphone buttons, remote
controller buttons or notification and lock screen media buttons.</p>


   <h3 class="heading settled" data-level="6.1" id="the-mediaremotecontrols-interface"><span class="secno">6.1. </span><span class="content">The <code class="idl"><a data-link-type="idl" href="#mediaremotecontrols">MediaRemoteControls</a></code>
interface</span><a class="self-link" href="#the-mediaremotecontrols-interface"></a></h3>


   <p><a data-link-type="dfn" href="#media-remote-control">Media remote controls</a> implement the following interface:</p>


   <pre class="idl">interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="mediaremotecontrols">MediaRemoteControls<a class="self-link" href="#mediaremotecontrols"></a></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#interface-eventtarget">EventTarget</a> {
  attribute boolean <a class="idl-code" data-global-name="MediaRemoteControls<interface>/previousTrackEnabled<attribute>" data-link-type="attribute" data-type="boolean " href="#dom-mediaremotecontrols-previoustrackenabled">previousTrackEnabled</a>;
  attribute boolean <a class="idl-code" data-global-name="MediaRemoteControls<interface>/nextTrackEnabled<attribute>" data-link-type="attribute" data-type="boolean " href="#dom-mediaremotecontrols-nexttrackenabled">nextTrackEnabled</a>;
  attribute boolean <a class="idl-code" data-global-name="MediaRemoteControls<interface>/seekForwardEnabled<attribute>" data-link-type="attribute" data-type="boolean " href="#dom-mediaremotecontrols-seekforwardenabled">seekForwardEnabled</a>;
  attribute boolean <a class="idl-code" data-global-name="MediaRemoteControls<interface>/seekBackwardEnabled<attribute>" data-link-type="attribute" data-type="boolean " href="#dom-mediaremotecontrols-seekbackwardenabled">seekBackwardEnabled</a>;

  // Event handlers
  attribute <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="idl-code" data-global-name="MediaRemoteControls<interface>/onprevioustrack<attribute>" data-link-type="attribute" data-type="EventHandler " href="#dom-mediaremotecontrols-onprevioustrack">onprevioustrack</a>;
  attribute <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="idl-code" data-global-name="MediaRemoteControls<interface>/onnexttrack<attribute>" data-link-type="attribute" data-type="EventHandler " href="#dom-mediaremotecontrols-onnexttrack">onnexttrack</a>;
  attribute <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="idl-code" data-global-name="MediaRemoteControls<interface>/onseekforward<attribute>" data-link-type="attribute" data-type="EventHandler " href="#dom-mediaremotecontrols-onseekforward">onseekforward</a>;
  attribute <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="idl-code" data-global-name="MediaRemoteControls<interface>/onseekbackward<attribute>" data-link-type="attribute" data-type="EventHandler " href="#dom-mediaremotecontrols-onseekbackward">onseekbackward</a>;
};
</pre>


   <dl class="domintro">
  
    <dt>
    <code><var>controls</var> .
    <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-previoustrackenabled">previousTrackEnabled</a></code></code>
  
  
    <dd>
    Determines if a user can interact with a 'previous track' button.
  
  
    <dt>
    <code><var>controls</var> . <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-nexttrackenabled">nextTrackEnabled</a></code></code>
  
  
    <dd>
    Determines if a user can interact with a 'next track' button.
  
  
    <dt>
    <code><var>controls</var> .
    <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-seekforwardenabled">seekForwardEnabled</a></code></code>
  
  
    <dd>
    Determines if a user can interact with a 'seek forward' button.
  
  
    <dt>
    <code><var>controls</var> .
    <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-seekbackwardenabled">seekBackwardEnabled</a></code></code>
  
  
    <dd>
    Determines if a user can interact with a 'seek backward' button.
  
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="MediaRemoteControls" data-dfn-type="attribute" data-export="" id="dom-mediaremotecontrols-previoustrackenabled"><code>previousTrackEnabled</code><a class="self-link" href="#dom-mediaremotecontrols-previoustrackenabled"></a></dfn>
attribute is intended to provide a hint that the user agent should enable a
'previous track' button for users in all applicable hardware or software remote
control interfaces. By default, this attribute is false.</p>


   <p>The <dfn class="idl-code" data-dfn-for="MediaRemoteControls" data-dfn-type="attribute" data-export="" id="dom-mediaremotecontrols-nexttrackenabled"><code>nextTrackEnabled</code><a class="self-link" href="#dom-mediaremotecontrols-nexttrackenabled"></a></dfn>
attribute is intended to provide a hint that the user agent should enable a
'next track' button for users in all applicable hardware or software remote
control interfaces. By default, this attribute is false.</p>


   <p>The <dfn class="idl-code" data-dfn-for="MediaRemoteControls" data-dfn-type="attribute" data-export="" id="dom-mediaremotecontrols-seekbackwardenabled"><code>seekBackwardEnabled</code><a class="self-link" href="#dom-mediaremotecontrols-seekbackwardenabled"></a></dfn>
attribute is intended to provide a hint that the user agent should enable a
'seek backward' button for users in all applicable hardware or software remote
control interfaces. By default, this attribute is false.</p>


   <p>The <dfn class="idl-code" data-dfn-for="MediaRemoteControls" data-dfn-type="attribute" data-export="" id="dom-mediaremotecontrols-seekforwardenabled"><code>seekForwardEnabled</code><a class="self-link" href="#dom-mediaremotecontrols-seekforwardenabled"></a></dfn>
attribute is intended to provide a hint that the user agent should enable a
'seek forward' button for users in all applicable hardware or software remote
control interfaces. By default, this attribute is false.</p>


   <p class="note" role="note">
  While the attributes above can be set at any time they will only be read by
  the user agent during the <a data-link-type="dfn" href="#media-session-invocation-algorithm">media session invocation algorithm</a> in order
  to correctly configure any connected remote control interfaces at the point
  they become <code><a data-link-type="dfn" href="#active-media-session-state">ACTIVE</a></code>.
</p>


   <p class="note" role="note">
  A user agent is not required to always implement each of these buttons
  separately in an ongoing notification area or lock screen interface. For
  example, if both <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-nexttrackenabled">nextTrackEnabled</a></code> and
  <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-seekforwardenabled">seekForwardEnabled</a></code> are set to true, the user agent may
  present a single unified button. When short-pressed this button may trigger a
  <a data-link-type="dfn" href="#event-nexttrack"><code>nexttrack</code></a> event to be fired. When
  long-pressed this same button may trigger a <a data-link-type="dfn" href="#event-seekforward"><code>seekforward</code></a> event to be fired. The exact
  notification and lock screen interfaces required to acheive this interaction
  are left up to implementers.
</p>


   <h3 class="heading settled" data-level="6.2" id="event-handlers-on-mediaremotecontrols-objects"><span class="secno">6.2. </span><span class="content">Event handlers on
<code class="idl"><a data-link-type="idl" href="#mediaremotecontrols">MediaRemoteControls</a></code> objects</span><a class="self-link" href="#event-handlers-on-mediaremotecontrols-objects"></a></h3>


   <p>The following are the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers">event handlers</a> (and their corresponding <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type">event
handler event types</a>) that must be supported, as IDL attributes, by all
objects implementing the <code class="idl"><a data-link-type="idl" href="#mediaremotecontrols">MediaRemoteControls</a></code> interface:</p>


   <table>
  
    <thead>
    
     <tr>
      
      <th>
        <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers">Event handler</a>
      
      
      
      <th>
        <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type">Event handler event type</a>
      
      
    
     
  
  
    <tbody>
    
     <tr>
      
      <td>
        <dfn class="idl-code" data-dfn-for="MediaRemoteControls" data-dfn-type="attribute" data-export="" id="dom-mediaremotecontrols-onprevioustrack"><code>onprevioustrack</code><a class="self-link" href="#dom-mediaremotecontrols-onprevioustrack"></a></dfn>
      
      
      
      <td>
        <code><a data-link-type="dfn" href="#event-previoustrack">previoustrack</a></code>
      
      
    
     
    
     <tr>
      
      <td>
        <dfn class="idl-code" data-dfn-for="MediaRemoteControls" data-dfn-type="attribute" data-export="" id="dom-mediaremotecontrols-onnexttrack"><code>onnexttrack</code><a class="self-link" href="#dom-mediaremotecontrols-onnexttrack"></a></dfn>
      
      
      
      <td>
        <code><a data-link-type="dfn" href="#event-nexttrack">nexttrack</a></code>
      
      
    
     
    
     <tr>
      
      <td>
        <dfn class="idl-code" data-dfn-for="MediaRemoteControls" data-dfn-type="attribute" data-export="" id="dom-mediaremotecontrols-onseekbackward"><code>onseekbackward</code><a class="self-link" href="#dom-mediaremotecontrols-onseekbackward"></a></dfn>
      
      
      
      <td>
        <code><a data-link-type="dfn" href="#event-seekbackward">seekbackward</a></code>
      
      
    
     
    
     <tr>
      
      <td>
        <dfn class="idl-code" data-dfn-for="MediaRemoteControls" data-dfn-type="attribute" data-export="" id="dom-mediaremotecontrols-onseekforward"><code>onseekforward</code><a class="self-link" href="#dom-mediaremotecontrols-onseekforward"></a></dfn>
      
      
      
      <td>
        <code><a data-link-type="dfn" href="#event-seekforward">seekforward</a></code>
      
      
    
     
  
</table>


   <p>The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source">task source</a> for the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task">tasks</a> listed in this section is the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source">DOM
manipulation task source</a>.</p>


   <p>When the user presses the <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/DOM-Level-3-Events-key/#key-MediaPlayPause">MediaPlayPause</a></code> media key, or an equivalent key, on
any hardware or software interface (e.g. on a keyboard or OS-level button) then
the user agent must, for each <a data-link-type="dfn" href="#media-session">media session</a> known by the user agent, run
the following steps:</p>


   <ol>
  
    <li>
    Let <var>m</var> be the <a data-link-type="dfn" href="#media-session">media session</a>.
  
  
    <li>
    If <var>m</var> is empty or <var>m</var>’s <a data-link-type="dfn" href="#intrinsic-media-category-state">intrinsic media category
    state</a> is not <code><a data-link-type="dfn" href="#default-media-state">Default</a></code> or
    <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>; or <var>m</var>’s
    <a data-link-type="dfn" href="#current-state">current state</a> is not
    <code><a data-link-type="dfn" href="#active-media-session-state">ACTIVE</a></code> then abort these
    steps.
  
  
    <li>
    For each <a data-link-type="dfn" href="#active-participating-media-elements">active participating media element</a> in <var>m</var>, called
    <var>active element</var>, run the following substeps:

    
     <ol>
      
      <li>
        If <var>active element</var> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-paused">paused</a> then <a data-link-type="dfn" href="#unpause">unpause</a>
        <var>active element</var>. Otherwise, <a data-link-type="dfn" href="#pause">pause</a> <var>active
        element</var>.
      
      
    
     </ol>
     
  
</ol>


   <p>When the user presses the <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/DOM-Level-3-Events-key/#key-MediaTrackPrevious">MediaTrackPrevious</a></code> media key, or an equivalent
key, on any hardware or software interface (e.g. on a keyboard or OS-level
button) then the user agent must, if
<code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-previoustrackenabled">previousTrackEnabled</a></code> is true, for each
<code><a data-link-type="dfn" href="#content-media-state">Content</a></code>-based <a data-link-type="dfn" href="#media-session">media session</a>
that is currently <code><a data-link-type="dfn" href="#active-media-session-state">ACTIVE</a></code>,
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">queue a task</a> to <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#fire-a-simple-event">fire a simple event</a> named <a data-link-type="dfn" href="#event-previoustrack"><code>previoustrack</code></a> at its child
<code class="idl"><a data-link-type="idl" href="#mediaremotecontrols">MediaRemoteControls</a></code> object.</p>


   <p>When the user presses the <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/DOM-Level-3-Events-key/#key-MediaTrackNext">MediaTrackNext</a></code> media key, or an equivalent key, on
any hardware or software interface (e.g. on a keyboard or OS-level button) then
the user agent must, if <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-nexttrackenabled">nextTrackEnabled</a></code> is true, for
each <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>-based <a data-link-type="dfn" href="#media-session">media
session</a> that is currently <code><a data-link-type="dfn" href="#active-media-session-state">ACTIVE</a></code>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">queue a task</a> to
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#fire-a-simple-event">fire a simple event</a> named <a data-link-type="dfn" href="#event-nexttrack"><code>nexttrack</code></a> at its child <code class="idl"><a data-link-type="idl" href="#mediaremotecontrols">MediaRemoteControls</a></code>
object.</p>


   <p>When the user presses a 'seek backward' media key, or an equivalent key, on any
hardware or software interface (e.g. on a keyboard or OS-level button) then the
user agent must, if <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-seekbackwardenabled">seekBackwardEnabled</a></code> is true, for
each <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>-based <a data-link-type="dfn" href="#media-session">media
session</a> that is currently <code><a data-link-type="dfn" href="#active-media-session-state">ACTIVE</a></code>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">queue a task</a> to
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#fire-a-simple-event">fire a simple event</a> named <a data-link-type="dfn" href="#event-seekbackward"><code>seekbackward</code></a> at its child <code class="idl"><a data-link-type="idl" href="#mediaremotecontrols">MediaRemoteControls</a></code>
object.</p>


   <p>When the user presses a 'seek forward' media key, or an equivalent key, on any
hardware or software interface (e.g. on a keyboard or OS-level button) then the
user agent must, if <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-seekforwardenabled">seekForwardEnabled</a></code> is true, for each
<code><a data-link-type="dfn" href="#content-media-state">Content</a></code>-based <a data-link-type="dfn" href="#media-session">media session</a>
that is currently <code><a data-link-type="dfn" href="#active-media-session-state">ACTIVE</a></code>,
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">queue a task</a> to
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#fire-a-simple-event">fire a simple event</a> named <a data-link-type="dfn" href="#event-seekforward"><code>seekforward</code></a> at its child <code class="idl"><a data-link-type="idl" href="#mediaremotecontrols">MediaRemoteControls</a></code>
object.</p>


   <h3 class="heading settled" data-level="6.3" id="media-remote-controls-events-summary"><span class="secno">6.3. </span><span class="content">Events summary</span><a class="self-link" href="#media-remote-controls-events-summary"></a></h3>


   <p><em>This section is non-normative.</em></p>


   <p>The following events fire on <a data-link-type="dfn" href="#media-remote-control">media remote controls</a> objects as part of the
processing model described above:</p>


   <table>
  
    <thead>
    
     <tr>
      
      <th>
        Event name
      
      
      
      <th>
        Interface
      
      
      
      <th>
        Fired when...
      
      
      
      <th>
        Preconditions
      
      
    
     
  
  
    <tbody>
    
     <tr>
      
      <td>
        <dfn data-dfn-type="dfn" data-lt="event previoustrack" data-noexport="" id="event-previoustrack"><code>previoustrack</code><a class="self-link" href="#event-previoustrack"></a></dfn>
      
      
      
      <td>
        <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#interface-event">Event</a></code>
      
      
      
      <td>
        The user presses the 'previous track' media key or button on any
        hardware or software media interface.
      
      
      
      <td>
        <a data-link-type="dfn" href="#intrinsic-media-category-state">intrinsic media category state</a> is <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>, <a data-link-type="dfn" href="#current-state">current state</a> is <code><a data-link-type="dfn" href="#active-media-session-state">ACTIVE</a></code> and
        <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-previoustrackenabled">previousTrackEnabled</a></code> is true.
      
      
    
     
    
     <tr>
      
      <td>
        <dfn data-dfn-type="dfn" data-lt="event nexttrack" data-noexport="" id="event-nexttrack"><code>nexttrack</code><a class="self-link" href="#event-nexttrack"></a></dfn>
      
      
      
      <td>
        <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#interface-event">Event</a></code>
      
      
      
      <td>
        The user presses the 'next track' media key or button on any hardware or
        software media interface.
      
      
      
      <td>
        <a data-link-type="dfn" href="#intrinsic-media-category-state">intrinsic media category state</a> is <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>, <a data-link-type="dfn" href="#current-state">current state</a> is <code><a data-link-type="dfn" href="#active-media-session-state">ACTIVE</a></code> and
        <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-nexttrackenabled">nextTrackEnabled</a></code> is true.
      
      
    
     
    
     <tr>
      
      <td>
        <dfn data-dfn-type="dfn" data-lt="event seekbackward" data-noexport="" id="event-seekbackward"><code>seekbackward</code><a class="self-link" href="#event-seekbackward"></a></dfn>
      
      
      
      <td>
        <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#interface-event">Event</a></code>
      
      
      
      <td>
        The user presses the 'seek backward' media key or button on any hardware
        or software media interface.
      
      
      
      <td>
        <a data-link-type="dfn" href="#intrinsic-media-category-state">intrinsic media category state</a> is <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>, <a data-link-type="dfn" href="#current-state">current state</a> is <code><a data-link-type="dfn" href="#active-media-session-state">ACTIVE</a></code> and
        <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-seekbackwardenabled">seekBackwardEnabled</a></code> is true.
      
      
    
     
    
     <tr>
      
      <td>
        <dfn data-dfn-type="dfn" data-lt="event seekforward" data-noexport="" id="event-seekforward"><code>seekforward</code><a class="self-link" href="#event-seekforward"></a></dfn>
      
      
      
      <td>
        <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#interface-event">Event</a></code>
      
      
      
      <td>
        The user presses the 'seek forward' media key or button on any hardware
        or software media interface.
      
      
      
      <td>
        <a data-link-type="dfn" href="#intrinsic-media-category-state">intrinsic media category state</a> is <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>, <a data-link-type="dfn" href="#current-state">current state</a> is <code><a data-link-type="dfn" href="#active-media-session-state">ACTIVE</a></code> and
        <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-seekforwardenabled">seekForwardEnabled</a></code> is true.
      
      
    
     
  
</table>


   <h2 class="heading settled" data-level="7" id="assigning-a-media-session-to-media-elements"><span class="secno">7. </span><span class="content">Assigning a media session
to media elements</span><a class="self-link" href="#assigning-a-media-session-to-media-elements"></a></h2>


   <p>In order to activate and use a <a data-link-type="dfn" href="#media-session">media session</a> it must be assigned to one
or more <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media elements</a>. This section describes how a web developer can
assign a <a data-link-type="dfn" href="#media-session">media session</a> to a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> both declaratively and
programmatically.</p>


   <h3 class="heading settled" data-level="7.1" id="extensions-to-the-htmlmediaelement-interface"><span class="secno">7.1. </span><span class="content">Extensions to the
<code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#htmlmediaelement">HTMLMediaElement</a></code> interface</span><a class="self-link" href="#extensions-to-the-htmlmediaelement-interface"></a></h3>


   <pre class="idl">partial interface <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/embedded-content.html#htmlmediaelement">HTMLMediaElement</a> {
  // media session
  attribute DOMString <a class="idl-code" data-global-name="HTMLMediaElement<interface>/kind<attribute>" data-link-type="attribute" data-type="DOMString " href="#dom-htmlmediaelement-kind">kind</a>;
  attribute <a data-link-type="idl-name" href="#mediasession">MediaSession</a>? <a class="idl-code" data-global-name="HTMLMediaElement<interface>/session<attribute>" data-link-type="attribute" data-type="MediaSession? " href="#dom-htmlmediaelement-session">session</a>;
};
</pre>


   <dl class="domintro">
  
    <dt>
    <code><var>media</var> . <code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-kind">kind</a></code></code>
  
  
    <dd>
    Returns the category the given media falls into. The <a href="#media-categories">possible media categories</a> are defined above.
  
  
    <dt>
    <code><var>media</var> . <code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-session">session</a></code></code> [ = <code>
    session</code> ]
  
  
    <dd>
    Returns the <a data-link-type="dfn" href="#current-media-session">current media session</a> for the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>, if
    any; returns null otherwise.


     <p>Can be set, to set an explicit <code class="idl"><a data-link-type="idl" href="#mediasession">MediaSession</a></code>. Doing so updates the
    <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>’s <code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-kind">kind</a></code> attribute.</p>
     
  
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="HTMLMediaElement" data-dfn-type="attribute" data-export="" id="dom-htmlmediaelement-kind"><code>kind</code><a class="self-link" href="#dom-htmlmediaelement-kind"></a></dfn> IDL
attribute is intended to provide a hint to the user agent about what the author
thinks will lead to the best user experience for media playback. The attribute
may be ignored altogether, for example based on explicit user preferences or
based on the capabilities of the underlying platform.</p>


   <p>The <code><code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-kind">kind</a></code></code> attribute must
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#reflect">reflect</a> the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#video">video</a></code> and <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a></code> element content attribute of the same name, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#limited-to-only-known-values">limited
to only known values</a>.</p>


   <p>When a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>’s <code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-kind">kind</a></code> attribute is set,
changed, or removed then the user agent must run the <a data-link-type="dfn" href="#update-the-attached-media-session-algorithm">update the attached
media session algorithm</a>, passing in <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> as the only
argument.</p>


   <p>A <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>’s <code><code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-kind">kind</a></code></code> attribute can be
changed at any time even once the media resource is being played; but it is only
read by the user agent at the time that it is set, changed or removed. Thus,
setting, changing or removing this attribute once the media element is
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#potentially-playing">potentially playing</a> does not dynamically change the <a data-link-type="dfn" href="#media-session">media session</a>
to which the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> belongs until the <a data-link-type="dfn" href="#media-session-invocation-algorithm">media session invocation
algorithm</a> is subsequently re-run.</p>


   <p>The <dfn class="idl-code" data-dfn-for="HTMLMediaElement" data-dfn-type="attribute" data-export="" id="dom-htmlmediaelement-session"><code>session</code><a class="self-link" href="#dom-htmlmediaelement-session"></a></dfn> attribute on a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>, on
getting, must return the element’s <a data-link-type="dfn" href="#current-media-session">current media session</a>, if any, or null
otherwise. On setting, the user agent must run the following steps:</p>


   <ol>
  
    <li>
    Let <var>m</var> be the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> in question.
  
  
    <li>
    Let <var>old media session</var> be <var>m</var>’s <a data-link-type="dfn" href="#current-media-session">current media
    session</a>, if it has one, and null otherwise.
  
  
    <li>
    Let <var>new media session</var> be null.
  
  
    <li>
    Let <var>m</var> have no <a data-link-type="dfn" href="#current-media-session">current media session</a>, if it currently has
    one.
  
  
    <li>
    If the new value is null then set the element’s <code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-kind">kind</a></code>
    attribute to the empty string. Otherwise, set element’s
    <code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-kind">kind</a></code> attribute to the value of <a data-link-type="dfn" href="#current-media-session">current media
    session</a>’s <code class="idl"><a data-link-type="idl" href="#dom-mediasession-kind">kind</a></code> attribute.
  
  
    <li>
    Let <var>m</var>’s <a data-link-type="dfn" href="#current-media-session">current media session</a> be the new value or the
    <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level browsing context</a>’s <a data-link-type="dfn" href="#media-session">media session</a> if the new value is
    null.
  
  
    <li>
    Let <var>new media session</var> be <var>m</var>’s <a data-link-type="dfn" href="#current-media-session">current media
    session</a>.
  
  
    <li>
    <var>Update media sessions</var>: If <var>old media session</var> and
    <var>new media session</var> are the same (whether both null or both the
    same <a data-link-type="dfn" href="#media-session">media session</a>) then abort these steps.
  
  
    <li>
    If <var>m</var> is an <a data-link-type="dfn" href="#active-participating-media-elements">active participating media element</a> of <var>old
    media session</var> then <a data-link-type="dfn" href="#pause">pause</a> <var>m</var>.
  
  
    <li>
    Remove <var>m</var> from <var>old media session</var>’s <a data-link-type="dfn" href="#participating-media-elements">participating
    media elements</a>.
  
  
    <li>
    If <var>old media session</var> is not null and no longer has one or more
    <a data-link-type="dfn" href="#active-participating-media-elements">active participating media elements</a>, then run the <a data-link-type="dfn" href="#media-session-release-algorithm">media session
    release algorithm</a>, passing in <var>old media session</var> as the only
    argument.
  
  
    <li>
    Add <var>m</var> to <var>new media session</var>’s <a data-link-type="dfn" href="#participating-media-elements">participating media
    elements</a>.
  
</ol>


   <p> </p>


   <div class="example" id="example-48396142"><a class="self-link" href="#example-48396142"></a>
  As both <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a></code> and <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#video">video</a></code>
  elements implement the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#htmlmediaelement">HTMLMediaElement</a></code> interface, these element’s
  <code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-kind">kind</a></code> attribute can be set via JavaScript:

  
    <pre class="lang-javascript">var myAudio = document.createElement("audio");
myAudio.src = "music.mp3";

console.log(myAudio.session) // --> null
myAudio.kind = "content";
console.log(myAudio.session) // --> [object MediaSession]

myAudio.play(); // Go!
</pre>


    <p>A <a data-link-type="dfn" href="#media-session">media session</a> can also be assigned to one or more <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a></code> and <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#video">video</a></code>
  elements by setting their <code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-session">session</a></code> attribute directly in
  JavaScript:</p>

  
    <pre class="lang-javascript">var myAudio = document.createElement("audio");
myAudio.src = "music.mp3";

var mySession = new MediaSession("content");

myAudio.session = mySession;
console.log(myAudio.kind) // --> "content"

myAudio.play(); // Go!
</pre>
</div>


   <div class="example" id="example-9e013e6a"><a class="self-link" href="#example-9e013e6a"></a>
  An <code class="idl"><a data-link-type="idl" href="https://webaudio.github.io/web-audio-api/#audiocontext">AudioContext</a></code> object <a data-link-type="biblio" href="#biblio-webaudio">[WEBAUDIO]</a> can be rendered via <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a></code> or <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#video">video</a></code>
  elements. As both <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a></code> and <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#video">video</a></code>
  elements implement the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#htmlmediaelement">HTMLMediaElement</a></code> interface, these element’s
  <code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-kind">kind</a></code> attribute can be set via JavaScript:

  
    <pre class="lang-javascript">var audioCtx = new AudioContext();
// ...
var destinationNode = audioCtx.createMediaStreamDestination();

var myAudio = document.createElement("audio");
myAudio.srcObject = destinationNode.stream;

console.log(myAudio.session) // --> null
myAudio.kind = "transient-solo";
console.log(myAudio.session) // --> [object MediaSession]

myAudio.play(); // Go!
</pre>

  
    <p class="note" role="note">
    Web developers should ensure that, when an <code class="idl"><a data-link-type="idl" href="https://webaudio.github.io/web-audio-api/#audiocontext">AudioContext</a></code> object is
    attached to an <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a></code> or <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#video">video</a></code>
    element, that they apply subsequent <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-pause">pause</a></code> and <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-play">play</a></code> events dispatched
    on that <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a></code> or <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#video">video</a></code>
    element to their <code class="idl"><a data-link-type="idl" href="https://webaudio.github.io/web-audio-api/#audiocontext">AudioContext</a></code> object appropriately.
  </p>
</div>


   <h3 class="heading settled" data-level="7.2" id="assigning-a-media-session-declaratively"><span class="secno">7.2. </span><span class="content">Assigning a media session
declaratively</span><a class="self-link" href="#assigning-a-media-session-declaratively"></a></h3>


   <p>The <dfn data-dfn-type="dfn" data-lt="kind content attribute" data-noexport="" id="kind-content-attribute"><code>kind</code><a class="self-link" href="#kind-content-attribute"></a></dfn> content attribute
on <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media elements</a> is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#enumerated-attribute">enumerated attribute</a>
and must return the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>’s <a data-link-type="dfn" href="#media-category">media category</a>, if it has one,
or the empty string otherwise.</p>


   <p>When a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> is created with a <code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-kind">kind</a></code> content
attribute then the user agent must run the <a data-link-type="dfn" href="#update-the-attached-media-session-algorithm">update the attached media session
algorithm</a>, passing in <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> as the only argument.</p>


   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="update-the-attached-media-session-algorithm">update the attached media session algorithm<a class="self-link" href="#update-the-attached-media-session-algorithm"></a></dfn> takes one argument,
<var>current media element</var>, and consists of running the following steps:</p>


   <ol>
  
    <li>
    Let <var>media category state</var> be the <var>current media
    element</var>’s <code class="idl"><a data-link-type="idl" href="#dom-mediasession-kind">kind</a></code> attribute’s state value as defined in
    the list of
    <a href="#valid-media-categories">possible media categories</a>. If no known
    category match is found, let <var>media category state</var> be <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>.
  
  
    <li>
    If <var>media category state</var> is <code><a data-link-type="dfn" href="#default-media-state">Default</a></code> then let <var>media session</var> be the current
    <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level browsing context</a>’s <a data-link-type="dfn" href="#media-session">media session</a> and set
    <var>current media element</var>’s <a data-link-type="dfn" href="#current-media-session">current media session</a> to the
    current
    <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level browsing context</a>’s <a data-link-type="dfn" href="#media-session">media session</a>. Otherwise, if
    <var>current media element</var>’s <a data-link-type="dfn" href="#intrinsic-media-category-state">intrinsic media category state</a> is
    the same as <var>media category state</var> then let <var>media
    session</var> be <var>current media element</var>’s <a data-link-type="dfn" href="#current-media-session">current media
    session</a> object. Otherwise, let
    <var>media session</var> be a new <code class="idl"><a data-link-type="idl" href="#mediasession">MediaSession</a></code> object and set <var>media
    session</var>’s <a data-link-type="dfn" href="#intrinsic-media-category-state">intrinsic media category state</a> to the value of
    <var>media category state</var>.
  
  
    <li>
    If <var>media category state</var> is <code><a data-link-type="dfn" href="#default-media-state">Default</a></code> then set <var>current media element</var>’s
    <code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-session">session</a></code> attribute to null, abort the remaining steps
    and return.
    
     <p class="note" role="note">
      <code><a data-link-type="dfn" href="#default-media-state">Default</a></code> <a data-link-type="dfn" href="#media-category">media categories</a> do not expose a
      <code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-session">session</a></code> attribute but still maintain an internal
      <a data-link-type="dfn" href="#current-media-session">current media session</a> reference.
    </p>
     
  
</ol>


   <h4 class="heading settled" data-level="7.2.1" id="extensions-to-the-video-element"><span class="secno">7.2.1. </span><span class="content">Extensions to the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#video">video</a></code> element</span><a class="self-link" href="#extensions-to-the-video-element"></a></h4>


   <dl class="element">
  
    <dt>
    Additional content attributes:
  
  
    <dd>
    <a data-link-type="dfn" href="#kind-content-attribute"><code>kind</code></a> — The type of video
  
</dl>


   <div class="example" id="example-52af20c3"><a class="self-link" href="#example-52af20c3"></a>
  A <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#video">video</a></code> element’s <code><a data-link-type="dfn" href="#kind-content-attribute">kind</a></code> content attribute can be declared as follows HTML:

  
    <pre class="lang-markup">&lt;video src="short_ping.webm" kind="transient">
</pre>
</div>


   <h4 class="heading settled" data-level="7.2.2" id="extensions-to-the-audio-element"><span class="secno">7.2.2. </span><span class="content">Extensions to the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a></code> element</span><a class="self-link" href="#extensions-to-the-audio-element"></a></h4>


   <dl class="element">
  
    <dt>
    Additional content attributes:
  
  
    <dd>
    <a data-link-type="dfn" href="#kind-content-attribute"><code>kind</code></a> — The type of audio
  
</dl>


   <div class="example" id="example-623b50f0"><a class="self-link" href="#example-623b50f0"></a>
  An <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a></code> element’s <code><a data-link-type="dfn" href="#kind-content-attribute">kind</a></code> content attribute can be declared as follows in
  HTML:

  
    <pre class="lang-markup">&lt;audio src="track1.ogg" kind="content">
</pre>
</div>


   <h2 class="heading settled" data-level="8" id="media-session-invocation"><span class="secno">8. </span><span class="content">Media session invocation</span><a class="self-link" href="#media-session-invocation"></a></h2>


   <p>When the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-play">play()</a></code> method on a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> is invoked and the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media
element</a>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-paused">paused</a></code> attribute is true and the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>’s
<code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-readystate">readyState</a></code> attribute has the value <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-have_future_data">HAVE_FUTURE_DATA</a></code> or
<code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-have_enough_data">HAVE_ENOUGH_DATA</a></code>, then the user agent must run the <a data-link-type="dfn" href="#media-session-invocation-algorithm">media session
invocation algorithm</a>, passing in the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> as
<var>current media element</var>. <a data-link-type="biblio" href="#biblio-html">[HTML]</a></p>


   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="media-session-invocation-algorithm">media session invocation algorithm<a class="self-link" href="#media-session-invocation-algorithm"></a></dfn> takes one argument,
<var>current media element</var>, and consists of the following steps:</p>


   <ol>
  
    <li>
    Let <var>media session</var> be the value of <var>current media
    element</var>’s <a data-link-type="dfn" href="#current-media-session">current media session</a>.
  
  
    <li>
    If <var>media session</var> is empty or <var>media session</var>’s
    <a data-link-type="dfn" href="#current-state">current state</a> is
    <code><a data-link-type="dfn" href="#active-media-session-state">ACTIVE</a></code> abort the
    remaining steps and return.
  
  
    <li>
    Optionally, based on platform conventions, request the most appropriate
    platform-level media focus for <var>media session</var> based on its current
    <a data-link-type="dfn" href="#intrinsic-media-category-state">intrinsic media category state</a>.


     <p>If this step is run and platform-level media focus can not be obtained for
    any reason then <a data-link-type="dfn" href="#pause">pause</a> <var>current media element</var>, abort the
    remaining steps and return.</p>
     
  
  
    <li>
    Run these substeps:

    
     <dl class="switch">
      
      <dt>
        If <var>media session</var>’s <a data-link-type="dfn" href="#intrinsic-media-category-state">intrinsic media category state</a> is
        <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>
      
      
      
      <dd>
        
       <ol>
          
        <li>
            Optionally, based on platform conventions, the user agent may show
            an ongoing media interface in the underlying platform’s
            notifications area and/or show an ongoing media interface in the
            underlying platform’s lock screen area for <var>media session</var>
            based on the requested <a data-link-type="dfn" href="#media-remote-control">media remote controls</a>.
          
        
          
        <li>
            Optionally, based on platform conventions, the user agent may allow
            hardware and/or software media keys to control playback of
            <var>media session</var>’s <a data-link-type="dfn" href="#active-participating-media-elements">active participating media
            elements</a> based on the requested <a data-link-type="dfn" href="#media-remote-control">media remote controls</a>.
          
        
        
       </ol>
       
      
      
      
      <dt>
        If <var>media session</var>’s <a data-link-type="dfn" href="#intrinsic-media-category-state">intrinsic media category state</a> is
        <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code> or <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code>
      
      
      
      <dd class="note" role="note">
        The user agent should not provide user access to any hardware or
        software media keys and not display any ongoing media interface in the
        underlying platform’s notifications area or show any ongoing media
        interface in the underlying platform’s lock screen area for
        <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code> or
        <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code>-based
        <a data-link-type="dfn" href="#media-session">media sessions</a>.
      
      
      
      <dt>
        If <var>media session</var>’s <a data-link-type="dfn" href="#intrinsic-media-category-state">intrinsic media category state</a> is
        <code><a data-link-type="dfn" href="#ambient-media-state">Ambient</a></code>
      
      
      
      <dd>
        If the <var>current media element</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level browsing
        context</a> is not at least partially visible on at least one screen
        then <a data-link-type="dfn" href="#pause">pause</a>
        <var>current media element</var>, abort the remaining steps and return.

        
       <p class="note" role="note">
          The user agent should not provide user access to any hardware or
          software media keys and not display any ongoing media interface in the
          underlying platform’s notifications area or show any ongoing media
          interface in the underlying platform’s lock screen area for
          <code><a data-link-type="dfn" href="#ambient-media-state">Ambient</a></code>-based <a data-link-type="dfn" href="#media-session">media
          sessions</a>.
        </p>
       
      
      
    
     </dl>
     
  
  
    <li>
    Set <var>media session</var>’s <a data-link-type="dfn" href="#current-state">current state</a> to
    <code><a data-link-type="dfn" href="#active-media-session-state">ACTIVE</a></code>.
  
</ol>


   <h2 class="heading settled" data-level="9" id="media-session-interruption"><span class="secno">9. </span><span class="content">Media session interruption</span><a class="self-link" href="#media-session-interruption"></a></h2>


   <p>A <a data-link-type="dfn" href="#media-session">media session</a> may be interrupted at any time after its
<a data-link-type="dfn" href="#media-session-invocation-algorithm">media session invocation algorithm</a> has been run. This typically occurs
when another application or <a data-link-type="dfn" href="#media-session">media session</a> requests and is granted
platform-level media focus.</p>


   <p>Interruptions can be both transient or permanent. A transient interruption means
we can either choose to <a data-link-type="dfn" href="#duck">duck</a> our content and continue playing it out at a
reduced volume for the duration of the interruption; or <a data-link-type="dfn" href="#pause">pause</a> our content
for the duration of the interruption and then resume playback when the
interruption ends. A permanent interruption means we must <a data-link-type="dfn" href="#pause">pause</a> our media
content indefinitely.</p>


   <p>When a <a data-link-type="dfn" href="#media-session">media session</a> receives a start-of-interruption notification from
the platform then the user agent must run the
<a data-link-type="dfn" href="#media-session-interruption-algorithm">media session interruption algorithm</a> passing in the <a data-link-type="dfn" href="#media-session">media session</a>
as <var>interrupted media session</var>.</p>


   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="media-session-interruption-algorithm">media session interruption algorithm<a class="self-link" href="#media-session-interruption-algorithm"></a></dfn> takes one argument,
<var>interrupted media session</var>, and consists of running the following
steps.</p>


   <ol>
  
    <li>
    If <var>interrupted media session</var>’s <a data-link-type="dfn" href="#current-state">current state</a> is not
    <code><a data-link-type="dfn" href="#active-media-session-state">ACTIVE</a></code> abort the
    remaining steps and return.
  
  
    <li>
    Let <var>interrupting media category</var> be the <a data-link-type="dfn" href="#media-category">media category</a> that
    triggered this interruption. If this interruption has no known
    <a data-link-type="dfn" href="#media-category">media category</a>, let <var>interrupting media category</var> be
    <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>.
  
  
    <li>
    Run these substeps:

    
     <dl class="switch">
      
      <dt>
        If <var>interrupting media category</var> is <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>
      
      
      
      <dd>
        
       <ol>
          
        <li>
            If <var>interrupted media session</var>’s <a data-link-type="dfn" href="#intrinsic-media-category-state">intrinsic media
            category state</a> is <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>
            or <code><a data-link-type="dfn" href="#content-media-state">Content</a></code> then
            <a data-link-type="dfn" href="#pause">pause</a> all of <var>interrupted media session</var>’s
            <a data-link-type="dfn" href="#active-participating-media-elements">active participating media elements</a> and set
            <var>interrupted media session</var>’s <a data-link-type="dfn" href="#current-state">current state</a> to
            <code><a data-link-type="dfn" href="#idle-media-session-state">IDLE</a></code>.

            
         <p class="note" role="note">
              This implies that the next time the <a data-link-type="dfn" href="#media-session-invocation-algorithm">media session invocation
              algorithm</a>
              is run against a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> in <a data-link-type="dfn" href="#media-session">media session</a>
              that we will re-request media focus according to the steps defined
              in that algorithm.
            </p>
         
          
        
          
        <li>
            Optionally, based on platform conventions, the user agent must
            remove any previously established ongoing media interface in the
            underlying platform’s notifications area and any ongoing media
            interface in the underlying platform’s lock screen area for
            <var>interrupted media session</var>, if any.
          
        
          
        <li>
            Optionally, based on platform conventions, the user agent must
            prevent any hardware and/or software media keys from controlling
            playback of
            <var>interrupted media session</var>’s <a data-link-type="dfn" href="#active-participating-media-elements">active participating media
            elements</a>.
          
        
        
       </ol>
       
      
      
      
      <dt>
        If <var>interrupting media category</var> is <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code>
      
      
      
      <dd>
        
       <ol>
          
        <li>
            If <var>interrupted media session</var>’s <a data-link-type="dfn" href="#intrinsic-media-category-state">intrinsic media
            category state</a> is <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>
            or <code><a data-link-type="dfn" href="#content-media-state">Content</a></code> then
            <a data-link-type="dfn" href="#duck">duck</a>
            all of <var>interrupted media session</var>’s <a data-link-type="dfn" href="#active-participating-media-elements">active
            participating media elements</a> and set
            <var>interrupted media session</var>’s
            <a data-link-type="dfn" href="#current-state">current state</a> to <code><a data-link-type="dfn" href="#interrupted-media-session-state">INTERRUPTED</a></code>.
            
         <p class="note" role="note">
              This implies that the next time the <a data-link-type="dfn" href="#media-session-release-algorithm">media session release
              algorithm</a>
              is run that we will re-activate this <a data-link-type="dfn" href="#media-session">media session</a>
              according to the steps defined in that algorithm.
            </p>
         
          
        
        
       </ol>
       
      
      
      
      <dt>
        If <var>interrupting media category</var> is <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code>
      
      
      
      <dd>
        
       <ol>
          
        <li>
            If <var>interrupted media session</var>’s <a data-link-type="dfn" href="#intrinsic-media-category-state">intrinsic media
            category state</a> is <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>, <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>, <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code> or <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code> then <a data-link-type="dfn" href="#pause">pause</a> all of
            <var>interrupted media session</var>’s
            <a data-link-type="dfn" href="#active-participating-media-elements">active participating media elements</a> and set <var>current
            media session</var>’s <a data-link-type="dfn" href="#current-state">current state</a> to
            <code><a data-link-type="dfn" href="#interrupted-media-session-state">INTERRUPTED</a></code>.

            
         <div class="note" role="note">
              
          <p>
                This implies that the next time the <a data-link-type="dfn" href="#media-session-invocation-algorithm">media session invocation
                algorithm</a>
                is run against a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> in <a data-link-type="dfn" href="#media-session">media session</a>
                that we will re-request media focus according to the steps
                defined in that algorithm.
              </p>
          

              
          <p>
                It also implies that the next time the <a data-link-type="dfn" href="#media-session-release-algorithm">media session release
                algorithm</a>
                is run that we will re-activate this <a data-link-type="dfn" href="#media-session">media session</a>
                according to the steps defined in that algorithm.
              </p>
          
            
         </div>
         
          
        
        
       </ol>
       
      
      
    
     </dl>
     
  
</ol>


   <p> </p>


   <p>When a <a data-link-type="dfn" href="#media-session">media session</a> receives an end-of-interruption notification from
the platform then the user agent must run the <a data-link-type="dfn" href="#media-session-continuation-algorithm">media session continuation
algorithm</a> against all known <a data-link-type="dfn" href="#media-session">media sessions</a>, passing in each <a data-link-type="dfn" href="#media-session">media
session</a> as <var>incumbent media session</var>.</p>


   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="media-session-continuation-algorithm">media session continuation algorithm<a class="self-link" href="#media-session-continuation-algorithm"></a></dfn> takes one argument,
<var>incumbent media session</var>, and consists of running the following steps.</p>


   <ol>
  
    <li>
    If <var>incumbent media session</var>’s <a data-link-type="dfn" href="#current-state">current state</a> is not
    <code><a data-link-type="dfn" href="#interrupted-media-session-state">INTERRUPTED</a></code>
    then abort the remaining steps and return.
  
  
    <li>
    Let <var>interrupting media category</var> be the <a data-link-type="dfn" href="#media-category">media category</a> that
    intially triggered this interruption. If this interruption has no known
    <a data-link-type="dfn" href="#media-category">media category</a>, let <var>interrupting media category</var> be
    <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>.
  
  
    <li>
    Run these substeps:

    
     <dl class="switch">
      
      <dt>
        If <var>interrupting media category</var> is <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code>
      
      
      
      <dd>
        
       <ol>
          
        <li>
            If <var>incumbent media session</var>’s <a data-link-type="dfn" href="#intrinsic-media-category-state">intrinsic media category
            state</a> is <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>
            or
            <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>
            then <a data-link-type="dfn" href="#unduck">unduck</a> all of <var>incumbent media session</var>’s
            <a data-link-type="dfn" href="#active-participating-media-elements">active participating media elements</a>
            and set <var>incumbent media session</var>’s <a data-link-type="dfn" href="#current-state">current state</a> to
            <code><a data-link-type="dfn" href="#active-media-session-state">ACTIVE</a></code>.
          
        
        
       </ol>
       
      
      
      
      <dt>
        If <var>interrupting media category</var> is <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code>
      
      
      
      <dd>
        
       <ol>
          
        <li>
            If <var>incumbent media session</var>’s <a data-link-type="dfn" href="#intrinsic-media-category-state">intrinsic media category
            state</a> is <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>,
            <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>, <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code>, or
            <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code>
            then <a data-link-type="dfn" href="#unpause">unpause</a> the
            <var>incumbent media session</var>’s <a data-link-type="dfn" href="#participating-media-elements">participating media
            elements</a> that were <a data-link-type="dfn" href="#active-participating-media-elements">active</a> prior to the corresponding
            start-of-interruption notification and set <var>incumbent media
            session</var>’s <a data-link-type="dfn" href="#current-state">current state</a> to
            <code><a data-link-type="dfn" href="#active-media-session-state">ACTIVE</a></code>.
          
        
        
       </ol>
       
      
      
    
     </dl>
     
  
</ol>


   <p>After a <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/page-visibility/#sec-visibilitychange-event">visibilitychange</a></code> event <a data-link-type="biblio" href="#biblio-page-visibility">[PAGE-VISIBILITY]</a> has been fired at a
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level browsing context</a>, known as <var>the browsing context</var>, the
user agent must run the following steps:</p>


   <ol>
  
    <li>
    If <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/page-visibility/#dom-document-visibilitystate">visibilityState</a></code> is not "<code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/page-visibility/#pv-page-hidden">hidden</a></code>" or
    "<code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/page-visibility/#pv-page-visible">visible</a></code>" <a data-link-type="biblio" href="#biblio-page-visibility">[PAGE-VISIBILITY]</a> abort the remaining steps.
  

  
    <li>
    For each <a data-link-type="dfn" href="#media-session">media session</a>, known as <var>s</var>, in <var>the browsing
    context</var> with an <a data-link-type="dfn" href="#intrinsic-media-category-state">intrinsic media category state</a> of <code><a data-link-type="dfn" href="#ambient-media-state">Ambient</a></code> run the following substeps:
    
     <ol>
      
      <li>
        If <var>s</var>’s <a data-link-type="dfn" href="#current-state">current state</a> is <code><a data-link-type="dfn" href="#idle-media-session-state">IDLE</a></code> then abort any remaining substeps and
        continue at the next available <var>s</var>.
      
      
      
      <li>
        If <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/page-visibility/#dom-document-visibilitystate">visibilityState</a></code> is "<code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/page-visibility/#pv-page-hidden">hidden</a></code>" <a data-link-type="biblio" href="#biblio-page-visibility">[PAGE-VISIBILITY]</a> and
        <var>s</var>’s <a data-link-type="dfn" href="#current-state">current state</a> is <code><a data-link-type="dfn" href="#active-media-session-state">ACTIVE</a></code> then <a data-link-type="dfn" href="#pause">pause</a> all of <var>s</var>’s
        <a data-link-type="dfn" href="#active-participating-media-elements">active participating media elements</a> and set <var>s</var>’s
        <a data-link-type="dfn" href="#current-state">current state</a> to <code><a data-link-type="dfn" href="#interrupted-media-session-state">INTERRUPTED</a></code>; then abort any remaining substeps and
        continue at the next available <var>s</var>.
      
      
      
      <li>
        If <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/page-visibility/#dom-document-visibilitystate">visibilityState</a></code> is "<code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/page-visibility/#pv-page-visible">visible</a></code>" <a data-link-type="biblio" href="#biblio-page-visibility">[PAGE-VISIBILITY]</a>
        and <var>s</var>’s <a data-link-type="dfn" href="#current-state">current state</a> is <code><a data-link-type="dfn" href="#interrupted-media-session-state">INTERRUPTED</a></code> then <a data-link-type="dfn" href="#unpause">unpause</a> all of
        <var>s</var>’s <a data-link-type="dfn" href="#active-participating-media-elements">active participating media elements</a> and set
        <var>s</var>’s <a data-link-type="dfn" href="#current-state">current state</a> to <code><a data-link-type="dfn" href="#active-media-session-state">ACTIVE</a></code>; then abort any remaining substeps and continue
        at the next available <var>s</var>.
      
      
    
     </ol>
     
  
</ol>


   <h2 class="heading settled" data-level="10" id="media-session-release"><span class="secno">10. </span><span class="content">Media session release</span><a class="self-link" href="#media-session-release"></a></h2>


   <p>When a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#ended-playback">playback has ended</a>, the
user agent must remove the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> from its <a data-link-type="dfn" href="#current-media-session">current media
session</a>’s <a data-link-type="dfn" href="#active-participating-media-elements">active participating media elements</a> and then run the
<a data-link-type="dfn" href="#media-session-release-algorithm">media session release algorithm</a> passing in the
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>’s <a data-link-type="dfn" href="#current-media-session">current media session</a>, if any, as the only
argument.</p>


   <p>When a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> with an <a data-link-type="dfn" href="#intrinsic-media-category-state">intrinsic media category state</a> set to
<code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code> or <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-paused">paused</a>, then
the user agent must remove the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> from its <a data-link-type="dfn" href="#current-media-session">current media
session</a>’s <a data-link-type="dfn" href="#active-participating-media-elements">active participating media elements</a> and then run the
<a data-link-type="dfn" href="#media-session-release-algorithm">media session release algorithm</a> passing in the
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>’s <a data-link-type="dfn" href="#current-media-session">current media session</a> as the only argument.</p>


   <p>Any time a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element-load-algorithm">load
algorithm</a> is run by the user agent, it must remove the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>
from its <a data-link-type="dfn" href="#current-media-session">current media session</a>’s <a data-link-type="dfn" href="#active-participating-media-elements">active participating media
elements</a> and then also run the <a data-link-type="dfn" href="#media-session-release-algorithm">media session release algorithm</a>
passing in the
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>’s <a data-link-type="dfn" href="#current-media-session">current media session</a>, if any, as the only
argument.</p>


   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="media-session-release-algorithm">media session release algorithm<a class="self-link" href="#media-session-release-algorithm"></a></dfn> takes one argument,
<var>current media session</var>, and consists of running the following steps.</p>


   <ol>
  
    <li>
    If <var>current media session</var> is empty or its <a data-link-type="dfn" href="#current-state">current state</a> is
    <code><a data-link-type="dfn" href="#idle-media-session-state">IDLE</a></code> then abort the
    remaining steps and return.
  
  
    <li>
    If <var>current media session</var> has one or more <a data-link-type="dfn" href="#active-participating-media-elements">active participating
    media elements</a> then abort the remaining steps and return.
  
  
    <li>
    Optionally, based on platform conventions, the user agent must release any
    currently held platform media focus for <var>current media session</var>.
  
  
    <li>
    Optionally, based on platform conventions, the user agent must remove any
    previously established ongoing media interface in the underlying platform’s
    notifications area and any ongoing media interface in the underlying
    platform’s lock screen area for
    <var>current media session</var>, if any.
  
  
    <li>
    Optionally, based on platform conventions, the user agent must prevent any
    hardware and/or software media keys from controlling playback of
    <var>current media session</var>’s
    <a data-link-type="dfn" href="#active-participating-media-elements">active participating media elements</a>.
  
  
    <li>
    Set <var>current media session</var>’s <a data-link-type="dfn" href="#current-state">current state</a> to
    <code><a data-link-type="dfn" href="#idle-media-session-state">IDLE</a></code>.

    
     <p class="note" role="note">
      This implies that the next time the <a data-link-type="dfn" href="#media-session-invocation-algorithm">media session invocation
      algorithm</a>
      is run against any <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> in <a data-link-type="dfn" href="#current-media-session">current media session</a>
      that we will re-request media focus according to the steps defined in that
      algorithm.
    </p>
     
  
</ol>


   <p>When a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#remove-an-element-from-a-document">removed
from a <code>Document</code></a> and is not attached to another <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dom.html#document">Document</a></code>,
remove the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> from its <a data-link-type="dfn" href="#current-media-session">current media session</a>’s
<a data-link-type="dfn" href="#active-participating-media-elements">active participating media elements</a> and then run the <a data-link-type="dfn" href="#media-session-release-algorithm">media session
release algorithm</a>
passing in the
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>’s <a data-link-type="dfn" href="#current-media-session">current media session</a>, if any, as the only
argument.</p>

</main>
  


  <h2 class="no-num heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="indexlist">
   <li>active media session state, <a href="#active-media-session-state">4</a>
   <li>active participating media
elements, <a href="#active-participating-media-elements">4</a>
   <li>ambient attribute value, <a href="#ambient-attribute-value">5</a>
   <li>ambient media state, <a href="#ambient-media-state">5</a>
   <li>content attribute value, <a href="#content-attribute-value">5</a>
   <li>content media state, <a href="#content-media-state">5</a>
   <li>controls, <a href="#dom-mediasession-controls">4.1</a>
   <li>current media session, <a href="#current-media-session">4</a>
   <li>current state, <a href="#current-state">4</a>
   <li>default media state, <a href="#default-media-state">5</a>
   <li>duck, <a href="#duck">4</a>
   <li>event nexttrack, <a href="#event-nexttrack">6.3</a>
   <li>event previoustrack, <a href="#event-previoustrack">6.3</a>
   <li>event seekbackward, <a href="#event-seekbackward">6.3</a>
   <li>event seekforward, <a href="#event-seekforward">6.3</a>
   <li>idle media session state, <a href="#idle-media-session-state">4</a>
   <li>interrupted media session state, <a href="#interrupted-media-session-state">4</a>
   <li>intrinsic media category state, <a href="#intrinsic-media-category-state">4</a>
   <li>kind
    <ul>
     <li>argument for MediaSession/MediaSession(kind), <a href="#dom-mediasession-mediasessionkind-kind">4.1</a>
     <li>attribute for MediaSession, <a href="#dom-mediasession-kind">4.1</a>
     <li>attribute for HTMLMediaElement, <a href="#dom-htmlmediaelement-kind">7.1</a>
    </ul>
   <li>kind content attribute, <a href="#kind-content-attribute">7.2</a>
   <li>media category, <a href="#media-category">5</a>
   <li>media remote control, <a href="#media-remote-control">6</a>
   <li>MediaRemoteControls, <a href="#mediaremotecontrols">6.1</a>
   <li>MediaSession, <a href="#mediasession">4.1</a>
   <li>media session, <a href="#media-session">4</a>
   <li>media session continuation algorithm, <a href="#media-session-continuation-algorithm">9</a>
   <li>media session interruption algorithm, <a href="#media-session-interruption-algorithm">9</a>
   <li>media session invocation algorithm, <a href="#media-session-invocation-algorithm">8</a>
   <li>MediaSessionKind, <a href="#enumdef-mediasessionkind">5</a>
   <li>MediaSession(kind), <a href="#dom-mediasession-mediasessionkind">4.1</a>
   <li>media session release algorithm, <a href="#media-session-release-algorithm">10</a>
   <li>nextTrackEnabled, <a href="#dom-mediaremotecontrols-nexttrackenabled">6.1</a>
   <li>onnexttrack, <a href="#dom-mediaremotecontrols-onnexttrack">6.2</a>
   <li>onprevioustrack, <a href="#dom-mediaremotecontrols-onprevioustrack">6.2</a>
   <li>onseekbackward, <a href="#dom-mediaremotecontrols-onseekbackward">6.2</a>
   <li>onseekforward, <a href="#dom-mediaremotecontrols-onseekforward">6.2</a>
   <li>participating media elements, <a href="#participating-media-elements">4</a>
   <li>pause, <a href="#pause">4</a>
   <li>previousTrackEnabled, <a href="#dom-mediaremotecontrols-previoustrackenabled">6.1</a>
   <li>release(), <a href="#dom-mediasession-release">4.1</a>
   <li>seekBackwardEnabled, <a href="#dom-mediaremotecontrols-seekbackwardenabled">6.1</a>
   <li>seekForwardEnabled, <a href="#dom-mediaremotecontrols-seekforwardenabled">6.1</a>
   <li>session, <a href="#dom-htmlmediaelement-session">7.1</a>
   <li>transient attribute
      value, <a href="#transient-attribute-value">5</a>
   <li>transient media state, <a href="#transient-media-state">5</a>
   <li>transient-solo attribute
      value, <a href="#transient_solo-attribute-value">5</a>
   <li>transient solo media state, <a href="#transient-solo-media-state">5</a>
   <li>unduck, <a href="#unduck">4</a>
   <li>unpause, <a href="#unpause">4</a>
   <li>update the attached media session algorithm, <a href="#update-the-attached-media-session-algorithm">7.2</a></ul>
  <h3 class="no-num heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="indexlist">
   <li><a data-link-type="biblio" href="#biblio-dom">[dom]</a> defines the following terms:
    <ul>
     <li><a href="https://dom.spec.whatwg.org/#interface-event">Event</a>
     <li><a href="https://dom.spec.whatwg.org/#interface-eventtarget">EventTarget</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-html">[HTML]</a> defines the following terms:
    <ul>
     <li><a href="https://html.spec.whatwg.org/multipage/dom.html#document">Document</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-have_enough_data">HAVE_ENOUGH_DATA</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-have_future_data">HAVE_FUTURE_DATA</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#htmlmediaelement">HTMLMediaElement</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#case-sensitivity-and-string-comparison">case-sensitive</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source">dom manipulation task source</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#ended-playback">ended playback</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#enumerated-attribute">enumerated attribute</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type">event handler event type</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers">event handlers</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#fire-a-simple-event">fire a simple event</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#limited-to-only-known-values">limited to only known values</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element-load-algorithm">media element load algorithm</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-pause">pause</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-pause">pause()</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-paused">paused</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-play">play</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-play">play()</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#potentially-playing">potentially playing</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">queue a task</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-readystate">readyState</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#reflect">reflect</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#remove-an-element-from-a-document">remove an element from a document</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#task">task</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source">task source</a>
     <li><a href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level browsing context</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#video">video</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-page-visibility">[page-visibility]</a> defines the following terms:
    <ul>
     <li><a href="http://www.w3.org/TR/page-visibility/#pv-page-hidden">hidden</a>
     <li><a href="http://www.w3.org/TR/page-visibility/#dom-document-visibilitystate">visibilityState</a>
     <li><a href="http://www.w3.org/TR/page-visibility/#sec-visibilitychange-event">visibilitychange</a>
     <li><a href="http://www.w3.org/TR/page-visibility/#pv-page-visible">visible</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-webaudio">[webaudio]</a> defines the following terms:
    <ul>
     <li><a href="https://webaudio.github.io/web-audio-api/#audiocontext">AudioContext</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-dom-level-3-events-key">[DOM-Level-3-Events-key]</a> defines the following terms:
    <ul>
     <li><a href="http://www.w3.org/TR/DOM-Level-3-Events-key/#key-MediaPlayPause">MediaPlayPause</a>
     <li><a href="http://www.w3.org/TR/DOM-Level-3-Events-key/#key-MediaTrackNext">MediaTrackNext</a>
     <li><a href="http://www.w3.org/TR/DOM-Level-3-Events-key/#key-MediaTrackPrevious">MediaTrackPrevious</a>
    </ul></ul>
  <h2 class="no-num heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-dom-level-3-events-key"><a class="self-link" href="#biblio-dom-level-3-events-key"></a>[DOM-Level-3-Events-key]
   <dd>Gary Kacmarcik; Travis Leithead. <a href="https://w3c.github.io/DOM-Level-3-Events-key/">DOM Level 3 KeyboardEvent key Values</a>. 27 April 2015. WD. URL: <a href="https://w3c.github.io/DOM-Level-3-Events-key/">https://w3c.github.io/DOM-Level-3-Events-key/</a>
   <dt id="biblio-html"><a class="self-link" href="#biblio-html"></a>[HTML]
   <dd>Ian Hickson. <a href="https://html.spec.whatwg.org/multipage/">HTML Standard</a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-webidl"><a class="self-link" href="#biblio-webidl"></a>[WebIDL]
   <dd>Cameron McCormack. <a href="https://heycam.github.io/webidl/">Web IDL</a>. 19 April 2012. CR. URL: <a href="https://heycam.github.io/webidl/">https://heycam.github.io/webidl/</a>
   <dt id="biblio-dom"><a class="self-link" href="#biblio-dom"></a>[DOM]
   <dd>Anne van Kesteren; et al. <a href="https://w3c.github.io/dom/">W3C DOM4</a>. 28 April 2015. LCWD. URL: <a href="https://w3c.github.io/dom/">https://w3c.github.io/dom/</a>
   <dt id="biblio-page-visibility"><a class="self-link" href="#biblio-page-visibility"></a>[PAGE-VISIBILITY]
   <dd>Jatinder Mann; Arvind Jain. <a href="http://www.w3.org/TR/page-visibility/">Page Visibility (Second Edition)</a>. 29 October 2013. REC. URL: <a href="http://www.w3.org/TR/page-visibility/">http://www.w3.org/TR/page-visibility/</a>
   <dt id="biblio-rfc2119"><a class="self-link" href="#biblio-rfc2119"></a>[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
   <dt id="biblio-webaudio"><a class="self-link" href="#biblio-webaudio"></a>[WEBAUDIO]
   <dd>Paul Adenot; Chris Wilson; Chris Rogers. <a href="https://webaudio.github.io/web-audio-api/">Web Audio API</a>. 10 October 2013. WD. URL: <a href="https://webaudio.github.io/web-audio-api/">https://webaudio.github.io/web-audio-api/</a></dl>
  <h2 class="no-num heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
  <pre class="idl">[<a class="idl-code" data-global-name="MediaSession<interface>/MediaSession(kind)<constructor>" data-link-type="constructor" href="#dom-mediasession-mediasessionkind">Constructor</a>(<a data-link-type="idl-name" href="#enumdef-mediasessionkind">MediaSessionKind</a> <a data-global-name="MediaSession<interface>/MediaSession(kind)<method>/kind<argument>" href="#dom-mediasession-mediasessionkind-kind">kind</a>)]
interface <a data-global-name="" href="#mediasession">MediaSession</a> {
  readonly attribute <a data-link-type="idl-name" href="#enumdef-mediasessionkind">MediaSessionKind</a> <a class="idl-code" data-global-name="MediaSession<interface>/kind<attribute>" data-link-type="attribute" data-readonly="" data-type="MediaSessionKind " href="#dom-mediasession-kind">kind</a>;

  readonly attribute <a data-link-type="idl-name" href="#mediaremotecontrols">MediaRemoteControls</a>? <a class="idl-code" data-global-name="MediaSession<interface>/controls<attribute>" data-link-type="attribute" data-readonly="" data-type="MediaRemoteControls? " href="#dom-mediasession-controls">controls</a>;

  void <a class="idl-code" data-global-name="MediaSession<interface>/release()<method>" data-link-type="method" href="#dom-mediasession-release">release</a>();
};

enum <a data-global-name="" href="#enumdef-mediasessionkind">MediaSessionKind</a> {
  "content",
  "transient",
  "transient-solo",
  "ambient"
};

interface <a data-global-name="" href="#mediaremotecontrols">MediaRemoteControls</a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#interface-eventtarget">EventTarget</a> {
  attribute boolean <a class="idl-code" data-global-name="MediaRemoteControls<interface>/previousTrackEnabled<attribute>" data-link-type="attribute" data-type="boolean " href="#dom-mediaremotecontrols-previoustrackenabled">previousTrackEnabled</a>;
  attribute boolean <a class="idl-code" data-global-name="MediaRemoteControls<interface>/nextTrackEnabled<attribute>" data-link-type="attribute" data-type="boolean " href="#dom-mediaremotecontrols-nexttrackenabled">nextTrackEnabled</a>;
  attribute boolean <a class="idl-code" data-global-name="MediaRemoteControls<interface>/seekForwardEnabled<attribute>" data-link-type="attribute" data-type="boolean " href="#dom-mediaremotecontrols-seekforwardenabled">seekForwardEnabled</a>;
  attribute boolean <a class="idl-code" data-global-name="MediaRemoteControls<interface>/seekBackwardEnabled<attribute>" data-link-type="attribute" data-type="boolean " href="#dom-mediaremotecontrols-seekbackwardenabled">seekBackwardEnabled</a>;

  // Event handlers
  attribute <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="idl-code" data-global-name="MediaRemoteControls<interface>/onprevioustrack<attribute>" data-link-type="attribute" data-type="EventHandler " href="#dom-mediaremotecontrols-onprevioustrack">onprevioustrack</a>;
  attribute <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="idl-code" data-global-name="MediaRemoteControls<interface>/onnexttrack<attribute>" data-link-type="attribute" data-type="EventHandler " href="#dom-mediaremotecontrols-onnexttrack">onnexttrack</a>;
  attribute <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="idl-code" data-global-name="MediaRemoteControls<interface>/onseekforward<attribute>" data-link-type="attribute" data-type="EventHandler " href="#dom-mediaremotecontrols-onseekforward">onseekforward</a>;
  attribute <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="idl-code" data-global-name="MediaRemoteControls<interface>/onseekbackward<attribute>" data-link-type="attribute" data-type="EventHandler " href="#dom-mediaremotecontrols-onseekbackward">onseekbackward</a>;
};

partial interface <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/embedded-content.html#htmlmediaelement">HTMLMediaElement</a> {
  // media session
  attribute DOMString <a class="idl-code" data-global-name="HTMLMediaElement<interface>/kind<attribute>" data-link-type="attribute" data-type="DOMString " href="#dom-htmlmediaelement-kind">kind</a>;
  attribute <a data-link-type="idl-name" href="#mediasession">MediaSession</a>? <a class="idl-code" data-global-name="HTMLMediaElement<interface>/session<attribute>" data-link-type="attribute" data-type="MediaSession? " href="#dom-htmlmediaelement-session">session</a>;
};

</pre>
  <script>self = (typeof window !== 'undefined')
	? window   // if in browser
	: (
		(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)
		? self // if in worker
		: {}   // if in node js
	);

/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 * MIT license http://www.opensource.org/licenses/mit-license.php/
 * @author Lea Verou http://lea.verou.me
 */

var Prism = (function(){

// Private helper vars
var lang = /\blang(?:uage)?-(?!\*)(\w+)\b/i;

var _ = self.Prism = {
	util: {
		encode: function (tokens) {
			if (tokens instanceof Token) {
				return new Token(tokens.type, _.util.encode(tokens.content), tokens.alias);
			} else if (_.util.type(tokens) === 'Array') {
				return tokens.map(_.util.encode);
			} else {
				return tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\u00a0/g, ' ');
			}
		},

		type: function (o) {
			return Object.prototype.toString.call(o).match(/\[object (\w+)\]/)[1];
		},

		// Deep clone a language definition (e.g. to extend it)
		clone: function (o) {
			var type = _.util.type(o);

			switch (type) {
				case 'Object':
					var clone = {};

					for (var key in o) {
						if (o.hasOwnProperty(key)) {
							clone[key] = _.util.clone(o[key]);
						}
					}

					return clone;

				case 'Array':
					return o.slice();
			}

			return o;
		}
	},

	languages: {
		extend: function (id, redef) {
			var lang = _.util.clone(_.languages[id]);

			for (var key in redef) {
				lang[key] = redef[key];
			}

			return lang;
		},

		// Insert a token before another token in a language literal
		insertBefore: function (inside, before, insert, root) {
			root = root || _.languages;
			var grammar = root[inside];
			var ret = {};

			for (var token in grammar) {

				if (grammar.hasOwnProperty(token)) {

					if (token == before) {

						for (var newToken in insert) {

							if (insert.hasOwnProperty(newToken)) {
								ret[newToken] = insert[newToken];
							}
						}
					}

					ret[token] = grammar[token];
				}
			}

			return root[inside] = ret;
		},

		// Traverse a language definition with Depth First Search
		DFS: function(o, callback, type) {
			for (var i in o) {
				if (o.hasOwnProperty(i)) {
					callback.call(o, i, o[i], type || i);

					if (_.util.type(o[i]) === 'Object') {
						_.languages.DFS(o[i], callback);
					} else if (_.util.type(o[i]) === 'Array') {
						_.languages.DFS(o[i], callback, i);
					}
				}
			}
		}
	},

	highlightAll: function(async, callback) {
		var elements = document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code');
		for (var i=0, element; element = elements[i++];) {
			if (element.classList.contains("idl")) {
				// Bikeshed handles IDL blocks already.
				continue;
			}
			_.highlightElement(element, async === true, callback);
		}

		var elements = document.querySelectorAll('pre[class*="language-"], [class*="language-"] pre, pre[class*="lang-"], [class*="lang-"] pre');
		for (var i=0, element; element = elements[i++];) {
			if (element.firstElementChild && element.firstElementChild.tagName.toLowerCase() == "code") {
				// Already handled by the previous loop
				continue;
			}
			if (element.classList.contains("idl")) {
				// Bikeshed handles IDL blocks already.
				continue;
			}
			_.highlightElement(element, async === true, callback);
		}
	},

	highlightElement: function(element, async, callback) {
		// Find language
		var language, grammar, parent = element;

		while (parent && !lang.test(parent.className)) {
			parent = parent.parentNode;
		}

		if (parent) {
			language = (parent.className.match(lang) || [,''])[1];
			grammar = _.languages[language];
		}

		if (!grammar) {
			return;
		}

		// Set language on the element, if not present
		element.className = element.className.replace(lang, '').replace(/\s+/g, ' ') + ' language-' + language;

		// Set language on the parent, for styling
		parent = element.parentNode;

		if (/pre/i.test(parent.nodeName)) {
			parent.className = parent.className.replace(lang, '').replace(/\s+/g, ' ') + ' language-' + language;
		}

		var code = element.textContent;

		if(!code) {
			return;
		}

		var env = {
			element: element,
			language: language,
			grammar: grammar,
			code: code
		};

		_.hooks.run('before-highlight', env);

		if (async && self.Worker) {
			var worker = new Worker(_.filename);

			worker.onmessage = function(evt) {
				env.highlightedCode = Token.stringify(JSON.parse(evt.data), language);

				_.hooks.run('before-insert', env);

				env.element.innerHTML = env.highlightedCode;

				callback && callback.call(env.element);
				_.hooks.run('after-highlight', env);
			};

			worker.postMessage(JSON.stringify({
				language: env.language,
				code: env.code
			}));
		}
		else {
			env.highlightedCode = _.highlight(env.code, env.grammar, env.language)

			_.hooks.run('before-insert', env);

			env.element.innerHTML = env.highlightedCode;

			callback && callback.call(element);

			_.hooks.run('after-highlight', env);
		}
	},

	highlight: function (text, grammar, language) {
		var tokens = _.tokenize(text, grammar);
		return Token.stringify(_.util.encode(tokens), language);
	},

	tokenize: function(text, grammar, language) {
		var Token = _.Token;

		var strarr = [text];

		var rest = grammar.rest;

		if (rest) {
			for (var token in rest) {
				grammar[token] = rest[token];
			}

			delete grammar.rest;
		}

		tokenloop: for (var token in grammar) {
			if(!grammar.hasOwnProperty(token) || !grammar[token]) {
				continue;
			}

			var patterns = grammar[token];
			patterns = (_.util.type(patterns) === "Array") ? patterns : [patterns];

			for (var j = 0; j < patterns.length; ++j) {
				var pattern = patterns[j],
					inside = pattern.inside,
					lookbehind = !!pattern.lookbehind,
					lookbehindLength = 0,
					alias = pattern.alias;

				pattern = pattern.pattern || pattern;

				for (var i=0; i<strarr.length; i++) { // Don’t cache length as it changes during the loop

					var str = strarr[i];

					if (strarr.length > text.length) {
						// Something went terribly wrong, ABORT, ABORT!
						break tokenloop;
					}

					if (str instanceof Token) {
						continue;
					}

					pattern.lastIndex = 0;

					var match = pattern.exec(str);

					if (match) {
						if(lookbehind) {
							lookbehindLength = match[1].length;
						}

						var from = match.index - 1 + lookbehindLength,
							match = match[0].slice(lookbehindLength),
							len = match.length,
							to = from + len,
							before = str.slice(0, from + 1),
							after = str.slice(to + 1);

						var args = [i, 1];

						if (before) {
							args.push(before);
						}

						var wrapped = new Token(token, inside? _.tokenize(match, inside) : match, alias);

						args.push(wrapped);

						if (after) {
							args.push(after);
						}

						Array.prototype.splice.apply(strarr, args);
					}
				}
			}
		}

		return strarr;
	},

	hooks: {
		all: {},

		add: function (name, callback) {
			var hooks = _.hooks.all;

			hooks[name] = hooks[name] || [];

			hooks[name].push(callback);
		},

		run: function (name, env) {
			var callbacks = _.hooks.all[name];

			if (!callbacks || !callbacks.length) {
				return;
			}

			for (var i=0, callback; callback = callbacks[i++];) {
				callback(env);
			}
		}
	}
};

var Token = _.Token = function(type, content, alias) {
	this.type = type;
	this.content = content;
	this.alias = alias;
};

Token.stringify = function(o, language, parent) {
	if (typeof o == 'string') {
		return o;
	}

	if (Object.prototype.toString.call(o) == '[object Array]') {
		return o.map(function(element) {
			return Token.stringify(element, language, o);
		}).join('');
	}

	var env = {
		type: o.type,
		content: Token.stringify(o.content, language, parent),
		tag: 'span',
		classes: ['token', o.type],
		attributes: {},
		language: language,
		parent: parent
	};

	if (env.type == 'comment') {
		env.attributes['spellcheck'] = 'true';
	}

	if (o.alias) {
		var aliases = _.util.type(o.alias) === 'Array' ? o.alias : [o.alias];
		Array.prototype.push.apply(env.classes, aliases);
	}

	_.hooks.run('wrap', env);

	var attributes = '';

	for (var name in env.attributes) {
		attributes += name + '="' + (env.attributes[name] || '') + '"';
	}

	return '<' + env.tag + ' class="' + env.classes.join(' ') + '" ' + attributes + '>' + env.content + '</' + env.tag + '>';

};

if (!self.document) {
	if (!self.addEventListener) {
		// in Node.js
		return self.Prism;
	}
 	// In worker
	self.addEventListener('message', function(evt) {
		var message = JSON.parse(evt.data),
		    lang = message.language,
		    code = message.code;

		self.postMessage(JSON.stringify(_.util.encode(_.tokenize(code, _.languages[lang]))));
		self.close();
	}, false);

	return self.Prism;
}

// Get current script and highlight
var script = document.getElementsByTagName('script');

script = script[script.length - 1];

if (script) {
	_.filename = script.src;

	if (document.addEventListener && !script.hasAttribute('data-manual')) {
		document.addEventListener('DOMContentLoaded', _.highlightAll);
	}
}

return self.Prism;

})();

if (typeof module !== 'undefined' && module.exports) {
	module.exports = Prism;
}
;
Prism.languages.clike = {
	'comment': [
		{
			pattern: /(^|[^\\])\/\*[\w\W]*?\*\//g,
			lookbehind: true
		},
		{
			pattern: /(^|[^\\:])\/\/.*?(\r?\n|$)/g,
			lookbehind: true
		}
	],
	'string': /("|')(\\?.)*?\1/g,
	'class-name': {
		pattern: /((?:(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/ig,
		lookbehind: true,
		inside: {
			punctuation: /(\.|\\)/
		}
	},
	'keyword': /\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/g,
	'boolean': /\b(true|false)\b/g,
	'function': {
		pattern: /[a-z0-9_]+\(/ig,
		inside: {
			punctuation: /\(/
		}
	},
	'number': /\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?)\b/g,
	'operator': /[-+]{1,2}|!|<=?|>=?|={1,3}|&{1,2}|\|?\||\?|\*|\/|\~|\^|\%/g,
	'ignore': /&(lt|gt|amp);/gi,
	'punctuation': /[{}[\];(),.:]/g
};
;
Prism.languages.markup = {
	'comment': /<!--[\w\W]*?-->/g,
	'prolog': /<\?.+?\?>/,
	'doctype': /<!DOCTYPE.+?>/,
	'cdata': /<!\[CDATA\[[\w\W]*?]]>/i,
	'tag': {
		pattern: /<\/?[\w:-]+\s*(?:\s+[\w:-]+(?:=(?:("|')(\\?[\w\W])*?\1|[^\s'">=]+))?\s*)*\/?>/gi,
		inside: {
			'tag': {
				pattern: /^<\/?[\w:-]+/i,
				inside: {
					'punctuation': /^<\/?/,
					'namespace': /^[\w-]+?:/
				}
			},
			'attr-value': {
				pattern: /=(?:('|")[\w\W]*?(\1)|[^\s>]+)/gi,
				inside: {
					'punctuation': /=|>|"/g
				}
			},
			'punctuation': /\/?>/g,
			'attr-name': {
				pattern: /[\w:-]+/g,
				inside: {
					'namespace': /^[\w-]+?:/
				}
			}

		}
	},
	'entity': /\&#?[\da-z]{1,8};/gi
};

// Plugin to make entity title show the real entity, idea by Roman Komarov
Prism.hooks.add('wrap', function(env) {

	if (env.type === 'entity') {
		env.attributes['title'] = env.content.replace(/&amp;/, '&');
	}
});
;
Prism.languages.javascript = Prism.languages.extend('clike', {
	'keyword': /\b(break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|function|get|if|implements|import|in|instanceof|interface|let|new|null|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/g,
	'number': /\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?|NaN|-?Infinity)\b/g
});

Prism.languages.insertBefore('javascript', 'keyword', {
	'regex': {
		pattern: /(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,
		lookbehind: true
	}
});

if (Prism.languages.markup) {
	Prism.languages.insertBefore('markup', 'tag', {
		'script': {
			pattern: /<script[\w\W]*?>[\w\W]*?<\/script>/ig,
			inside: {
				'tag': {
					pattern: /<script[\w\W]*?>|<\/script>/ig,
					inside: Prism.languages.markup.tag.inside
				},
				rest: Prism.languages.javascript
			}
		}
	});
}
;
</script>
 </body>
</html>