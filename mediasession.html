<!doctype html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  
  
  <title>Media Session Standard</title>
  
  
  <link href="https://www.whatwg.org/style/specification" rel="stylesheet">
  
  
  <link href="https://resources.whatwg.org/bikeshed.css" rel="stylesheet">
  
  
  <link href="https://resources.whatwg.org/logo.svg" rel="icon">
  

  <meta content="Bikeshed 1.0.0" name="generator">
  <style>.highlight .hll { background-color: #ffffcc }
.highlight  { background: #ffffff; }
.highlight .c { color: #708090 } /* Comment */
.highlight .k { color: #990055 } /* Keyword */
.highlight .l { color: #669900 } /* Literal */
.highlight .n { color: #0077aa } /* Name */
.highlight .o { color: #999999 } /* Operator */
.highlight .p { color: #999999 } /* Punctuation */
.highlight .cm { color: #708090 } /* Comment.Multiline */
.highlight .cp { color: #708090 } /* Comment.Preproc */
.highlight .c1 { color: #708090 } /* Comment.Single */
.highlight .cs { color: #708090 } /* Comment.Special */
.highlight .kc { color: #990055 } /* Keyword.Constant */
.highlight .kd { color: #990055 } /* Keyword.Declaration */
.highlight .kn { color: #990055 } /* Keyword.Namespace */
.highlight .kp { color: #990055 } /* Keyword.Pseudo */
.highlight .kr { color: #990055 } /* Keyword.Reserved */
.highlight .kt { color: #990055 } /* Keyword.Type */
.highlight .ld { color: #669900 } /* Literal.Date */
.highlight .m { color: #990055 } /* Literal.Number */
.highlight .s { color: #669900 } /* Literal.String */
.highlight .na { color: #0077aa } /* Name.Attribute */
.highlight .nc { color: #0077aa } /* Name.Class */
.highlight .no { color: #0077aa } /* Name.Constant */
.highlight .nd { color: #0077aa } /* Name.Decorator */
.highlight .ni { color: #0077aa } /* Name.Entity */
.highlight .ne { color: #0077aa } /* Name.Exception */
.highlight .nf { color: #0077aa } /* Name.Function */
.highlight .nl { color: #0077aa } /* Name.Label */
.highlight .nn { color: #0077aa } /* Name.Namespace */
.highlight .py { color: #0077aa } /* Name.Property */
.highlight .nt { color: #0077aa } /* Name.Tag */
.highlight .nv { color: #0077aa } /* Name.Variable */
.highlight .ow { color: #999999 } /* Operator.Word */
.highlight .mb { color: #990055 } /* Literal.Number.Bin */
.highlight .mf { color: #990055 } /* Literal.Number.Float */
.highlight .mh { color: #990055 } /* Literal.Number.Hex */
.highlight .mi { color: #990055 } /* Literal.Number.Integer */
.highlight .mo { color: #990055 } /* Literal.Number.Oct */
.highlight .sb { color: #669900 } /* Literal.String.Backtick */
.highlight .sc { color: #669900 } /* Literal.String.Char */
.highlight .sd { color: #669900 } /* Literal.String.Doc */
.highlight .s2 { color: #669900 } /* Literal.String.Double */
.highlight .se { color: #669900 } /* Literal.String.Escape */
.highlight .sh { color: #669900 } /* Literal.String.Heredoc */
.highlight .si { color: #669900 } /* Literal.String.Interpol */
.highlight .sx { color: #669900 } /* Literal.String.Other */
.highlight .sr { color: #669900 } /* Literal.String.Regex */
.highlight .s1 { color: #669900 } /* Literal.String.Single */
.highlight .ss { color: #669900 } /* Literal.String.Symbol */
.highlight .vc { color: #0077aa } /* Name.Variable.Class */
.highlight .vg { color: #0077aa } /* Name.Variable.Global */
.highlight .vi { color: #0077aa } /* Name.Variable.Instance */
.highlight .il { color: #990055 } /* Literal.Number.Integer.Long */
        .highlight { background: hsl(24, 20%, 95%); }
        pre.highlight { padding: 1em; margin: .5em 0; overflow: auto; }
        :not(pre).highlight { padding: .1em; border-radius: .3em; }
        </style>
 </head>
 <body class="h-entry status-LS">

  <div class="head">
  
   <p data-fill-with="logo"><a class="logo" href="https://whatwg.org/">
    <img alt="WHATWG" height="100" src="https://resources.whatwg.org/logo.svg">
</a>
</p>
  
   <h1 class="p-name no-ref" id="title">Media Session</h1>
  
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Living Standard — Last Updated
    <time class="dt-updated" datetime="2015-06-29">29 June 2015</time></span></h2>
  
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>Participate:
     <dd><span><a href="https://github.com/whatwg/mediasession/issues/new">File an issue</a> (<a href="https://github.com/whatwg/mediasession/issues?state=open">open issues</a>)</span>
     <dd><span><a href="https://wiki.whatwg.org/wiki/IRC">IRC: #whatwg on Freenode</a></span>
     <dt>Version History:
     <dd><span><a href="https://github.com/whatwg/mediasession/commits">https://github.com/whatwg/mediasession/commits</a></span>
    </dl>
   </div>
  
   <div data-fill-with="warning"></div>
</div>
  


  <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
  

  <div class="p-summary" data-fill-with="abstract">
   <p>This specification enables web developers to obtain different levels

of platform media focus, customize available platform media controls,
and access platform media keys such as hardware keys found on
keyboards, headsets, remote controls, and software keys found in
notification areas and on lock screens of mobile devices.</p>

</div>
  

  <div data-fill-with="at-risk"></div>
  


  <h2 class="no-num no-toc no-ref heading settled" id="contents"><span class="content">Table of Contents</span></h2>
  

  <div data-fill-with="table-of-contents" role="navigation">
   <ul class="toc" role="directory">
    <li><a href="#introduction"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li><a href="#conformance"><span class="secno">2</span> <span class="content">Conformance</span></a>
    <li><a href="#dependencies"><span class="secno">3</span> <span class="content">Dependencies</span></a>
    <li><a href="#media-sessions"><span class="secno">4</span> <span class="content">Media sessions</span></a>
     <ul class="toc">
      <li><a href="#media-session-states"><span class="secno">4.1</span> <span class="content">States</span></a>
      <li><a href="#media-session-types"><span class="secno">4.2</span> <span class="content">Types</span></a>
      <li><a href="#media-session-participants"><span class="secno">4.3</span> <span class="content">Participants</span></a>
      <li><a href="#media-session-resources"><span class="secno">4.4</span> <span class="content">Resources</span></a>
      <li><a href="#media-session-lifecycle"><span class="secno">4.5</span> <span class="content">Lifecycle</span></a>
       <ul class="toc">
        <li><a href="#activating-a-media-session"><span class="secno">4.5.1</span> <span class="content">Activating a media session</span></a>
        <li><a href="#interrupting-a-media-session"><span class="secno">4.5.2</span> <span class="content">Interrupting a media session</span></a>
        <li><a href="#releasing-a-media-session"><span class="secno">4.5.3</span> <span class="content">Releasing a media session</span></a>
       </ul>
     </ul>
    <li><a href="#api"><span class="secno">5</span> <span class="content">API</span></a>
     <ul class="toc">
      <li><a href="#the-mediasession-interface"><span class="secno">5.1</span> <span class="content">The <code class="idl"><span>MediaSession</span></code> interface</span></a>
       <ul class="toc">
        <li><a href="#mediasession-garbage-collection"><span class="secno">5.1.1</span> <span class="content">Garbage collection</span></a>
        <li><a href="#mediasession-constructors"><span class="secno">5.1.2</span> <span class="content">Constructors</span></a>
        <li><a href="#mediasession-object-members"><span class="secno">5.1.3</span> <span class="content">Object members</span></a>
       </ul>
      <li><a href="#the-mediaremotecontrols-interface"><span class="secno">5.2</span> <span class="content">The <code class="idl"><span>MediaRemoteControls</span></code>
interface</span></a>
       <ul class="toc">
        <li><a href="#mediaremotecontrols-object-members"><span class="secno">5.2.1</span> <span class="content">Object members</span></a>
        <li><a href="#mediaremotecontrols-event-handlers"><span class="secno">5.2.2</span> <span class="content">Event handlers</span></a>
        <li><a href="#mediaremotecontrols-events-summary"><span class="secno">5.2.3</span> <span class="content">Events summary</span></a>
       </ul>
     </ul>
    <li><a href="#media-element-extensions"><span class="secno">6</span> <span class="content">Media element extensions</span></a>
     <ul class="toc">
      <li><a href="#extensions-to-the-htmlmediaelement-interface"><span class="secno">6.1</span> <span class="content">Extensions to the
<code class="idl"><span>HTMLMediaElement</span></code> interface</span></a>
      <li><a href="#assigning-a-media-session-declaratively"><span class="secno">6.2</span> <span class="content">Assigning a media session
declaratively</span></a>
       <ul class="toc">
        <li><a href="#extensions-to-the-video-element"><span class="secno">6.2.1</span> <span class="content">Extensions to the <code><span>video</span></code> element</span></a>
        <li><a href="#extensions-to-the-audio-element"><span class="secno">6.2.2</span> <span class="content">Extensions to the <code><span>audio</span></code> element</span></a>
       </ul>
      <li><a href="#media-elements-and-the-media-session-lifecycle"><span class="secno">6.3</span> <span class="content">Media elements and the
media session lifecycle</span></a>
       <ul class="toc">
        <li><a href="#activating-a-media-session-from-a-media-element"><span class="secno">6.3.1</span> <span class="content">Activating a media
session from a media element</span></a>
        <li><a href="#interrupting-a-media-session-from-a-media-element"><span class="secno">6.3.2</span> <span class="content">Interrupting a media
session from a media element</span></a>
        <li><a href="#releasing-a-media-session-from-a-media-element"><span class="secno">6.3.3</span> <span class="content">Releasing a media
session from a media element</span></a>
       </ul>
      <li><a href="#examples"><span class="secno">6.4</span> <span class="content">Examples</span></a>
       <ul class="toc">
        <li><a href="#example-setting-up-a-media-session"><span class="secno">6.4.1</span> <span class="content">Setting up a media session</span></a>
        <li><a href="#example-setting-media-session-meta-data"><span class="secno">6.4.2</span> <span class="content">Setting media session meta
data</span></a>
        <li><a href="#example-responding-to-media-remote-control-events"><span class="secno">6.4.3</span> <span class="content">Responding to media
remote control events</span></a>
       </ul>
     </ul>
    <li><a href="#acknowledgments"><span class="secno"></span> <span class="content">Acknowledgments</span></a>
    <li><a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ul class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ul>
    <li><a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ul class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ul>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
   </ul></div>
  

  <main>



   <script async="" src="https://resources.whatwg.org/file-issue.js"></script>




   <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#introduction"></a></h2>


   <p><em>This section is non-normative.</em></p>


   <p>Media is used extensively today on the web to play a variety of different types
of content. It is often used to play music, podcasts and radio content. At other
times web media is used to provide background music, sound effects, notification
sounds and to render WebRTC media stream content.</p>


   <p>When playing media on the web, developers are currently forced to adopt a single
default platform modality for playing all media content. On the other hand,
native applications can access much richer media integration options with an
underlying platform. On mobile devices, native application developers can
request many different forms of media integration with the platform to obtain
access to headphone buttons, lock screens and notification areas as needed. On
desktop devices, native applications have access to keyboard media key events.
Native application developers can specify the conditions in which media content
should pause or duck on audio interruptions (i.e. pause or lower the volume for
the duration of an interruption), continue playing out when application focus is
lost or the device screen is switched off and interface with internal and
external remote controllers.</p>


   <p>This specification provides these platform media integration features for web
media. By allowing web developers to express the intended usage of their media
content, user agents can supply the most suitable platform-level interactions
for that content and enforce logical interoperation behavior on the current
platform between any number of different sources of media.</p>


   <p>This specification describes the mechanism that allows web developers to specify
the most appropriate category for their media content and for user agents to
then use these supplied hints to enforce how different sources of web media
should interact with each other, other native media content and the underlying
platform.</p>


   <h2 class="heading settled" data-level="2" id="conformance"><span class="secno">2. </span><span class="content">Conformance</span><a class="self-link" href="#conformance"></a></h2>


   <p>All diagrams, examples, and notes in this specification are non-normative, as
are all sections explicitly marked non-normative. Everything else in this
specification is normative.</p>


   <p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD",
"SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this
document are to be interpreted as described in RFC 2119. For readability, these
words do not appear in all uppercase letters in this specification. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a></p>


   <p>Requirements phrased in the imperative as part of algorithms (such as "strip any
leading space characters" or "return false and terminate these steps") are to be
interpreted with the meaning of the key word ("must", "should", "may", etc) used
in introducing the algorithm.</p>


   <p>Conformance requirements phrased as algorithms or specific steps may be
implemented in any manner, so long as the end result is equivalent. (In
particular, the algorithms defined in this specification are intended to be easy
to follow, and not intended to be performant.)</p>


   <p>User agents may impose implementation-specific limits on otherwise unconstrained
inputs, e.g. to prevent denial of service attacks, to guard against running out
of memory, or to work around platform-specific limitations.</p>


   <p>When a method or an attribute is said to call another method or attribute, the
user agent must invoke its internal API for that attribute or method so that
e.g. the author can’t change the behavior by overriding attributes or methods
with custom properties or functions in JavaScript.</p>


   <p>Unless otherwise stated, string comparisons are done in a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#case-sensitivity-and-string-comparison">case-sensitive</a>
manner.</p>


   <h2 class="heading settled" data-level="3" id="dependencies"><span class="secno">3. </span><span class="content">Dependencies</span><a class="self-link" href="#dependencies"></a></h2>


   <p>The IDL fragments in this specification must be interpreted as required for
conforming IDL fragments, as described in the Web IDL specification. <a data-link-type="biblio" href="#biblio-webidl">[WEBIDL]</a></p>


   <h2 class="heading settled" data-level="4" id="media-sessions"><span class="secno">4. </span><span class="content">Media sessions</span><a class="self-link" href="#media-sessions"></a></h2>


   <p>A <dfn data-dfn-type="dfn" data-noexport="" id="media-session">media session<a class="self-link" href="#media-session"></a></dfn> represents one or more <a data-link-type="dfn" href="#audio_producing-object">audio-producing objects</a>
within the same <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level browsing context</a> that share the same <a data-link-type="dfn" href="#media-session-category">media
session category</a>. Each <a data-link-type="dfn" href="#media-session">media session</a> then defines the interactions of
its <a data-link-type="dfn" href="#audio_producing-object">audio-producing objects</a> with both the underlying platform and other
<a data-link-type="dfn" href="#audio_producing-object">audio-producing objects</a> belonging to other <a data-link-type="dfn" href="#media-session">media sessions</a> within
the user agent.</p>


   <p>A <a data-link-type="dfn" href="#media-session">media session</a> may have a <dfn data-dfn-type="dfn" data-noexport="" id="media-remote-controller">media remote controller<a class="self-link" href="#media-remote-controller"></a></dfn> that
provides access to <a data-link-type="dfn" href="#media-remote-controls">media remote controls</a>. A <a data-link-type="dfn" href="#media-remote-controller">media remote
controller</a> can be used to request particular media key access and respond to
hardware or software remote control events. Such events may be triggered by e.g.
keyboard media keys, headphone buttons, remote controller buttons or
notification and lock screen media buttons.</p>


   <p>A <a data-link-type="dfn" href="#media-session">media session</a> may have associated <dfn data-dfn-type="dfn" data-noexport="" id="media-session-metadata">media session metadata<a class="self-link" href="#media-session-metadata"></a></dfn>
that <em>can</em> consist of <dfn data-dfn-type="dfn" data-lt="session title" data-noexport="" id="session-title">title<a class="self-link" href="#session-title"></a></dfn>,
<dfn data-dfn-type="dfn" data-noexport="" id="artist-name">artist name<a class="self-link" href="#artist-name"></a></dfn>, <dfn data-dfn-type="dfn" data-noexport="" id="album-name">album name<a class="self-link" href="#album-name"></a></dfn>, <dfn data-dfn-type="dfn" data-noexport="" id="artwork-url">artwork URL<a class="self-link" href="#artwork-url"></a></dfn> and
<dfn data-dfn-type="dfn" data-noexport="" id="artwork-resource">artwork resource<a class="self-link" href="#artwork-resource"></a></dfn>.</p>


   <p><br>
To <dfn data-dfn-type="dfn" data-noexport="" id="create-a-media-session">create a media session<a class="self-link" href="#create-a-media-session"></a></dfn>, given a <var>media session category</var>,
run these steps:</p>


   <ol>
  
    <li>
    Let <var>media session</var> be a new <a data-link-type="dfn" href="#media-session">media session</a>.
  
  
    <li>
    Set <var>media session</var>’s <a data-link-type="dfn" href="#current-media-session-type">current media session type</a> to the
    corresponding <a data-link-type="dfn" href="#media-session-type">media session type</a> of <var>media session
    category</var>. If no corresponding <a data-link-type="dfn" href="#media-session-type">media session type</a> can be found
    for the provided
    <var>media session category</var> or <var>media session category</var> is
    empty, then set <var>media session</var>’s
    <a data-link-type="dfn" href="#current-media-session-type">current media session type</a> to "<a data-link-type="dfn" href="#content-attribute-value"><code>content</code></a>".
  
  
    <li>
    If <var>media session</var>’s <a data-link-type="dfn" href="#current-media-session-type">current media session type</a> is
    "<a data-link-type="dfn" href="#content-attribute-value"><code>content</code></a>", then
    create a new <a data-link-type="dfn" href="#media-remote-controller">media remote controller</a> for <var>media session</var>.
    (Otherwise
    <var>media session</var> has no <a data-link-type="dfn" href="#media-remote-controller">media remote controller</a>.)
  
  
    <li>
    Set <var>media session</var>’s <a data-link-type="dfn" href="#current-state">current state</a> to <code><a data-link-type="dfn" href="#idle-media-session-state">idle</a></code>.
  
  
    <li>
    Return <var>media session</var>.
  
</ol>


   <h3 class="heading settled" data-level="4.1" id="media-session-states"><span class="secno">4.1. </span><span class="content">States</span><a class="self-link" href="#media-session-states"></a></h3>


   <p>A <a data-link-type="dfn" href="#media-session">media session</a> has a <dfn data-dfn-type="dfn" data-noexport="" id="current-state">current state<a class="self-link" href="#current-state"></a></dfn> that describes its current
status with respect to any platform-level interactions and interactions with
other <a data-link-type="dfn" href="#media-session">media sessions</a>. The possible values are as follows:</p>


   <dl>
  
    <dt>
    <dfn data-dfn-type="dfn" data-lt="idle media session state" data-noexport="" id="idle-media-session-state"><code>idle</code><a class="self-link" href="#idle-media-session-state"></a></dfn>
  
  
    <dd>
    The <a data-link-type="dfn" href="#media-session">media session</a> does not have any platform-level media focus nor is
    it in a suspended state.
  
  
    <dt>
    <dfn data-dfn-type="dfn" data-lt="active media session state" data-noexport="" id="active-media-session-state"><code>active</code><a class="self-link" href="#active-media-session-state"></a></dfn>
  
  
    <dd>
    The <a data-link-type="dfn" href="#media-session">media session</a> currently has platform-level media focus.
  
  
    <dt>
    <dfn data-dfn-type="dfn" data-lt="interrupted media session state" data-noexport="" id="interrupted-media-session-state"><code>interrupted</code><a class="self-link" href="#interrupted-media-session-state"></a></dfn>
  
  
    <dd>
    The <a data-link-type="dfn" href="#media-session">media session</a> is currently suspended from having platform-level
    media focus and its <a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing participants</a> are either <a data-link-type="dfn" href="#pause">paused</a> or
    <a data-link-type="dfn" href="#duck">ducked</a> based on the <a data-link-type="dfn" href="#media-session">media session</a>’s <a data-link-type="dfn" href="#current-media-session-type">current media
    session type</a>.
  
</dl>


   <h3 class="heading settled" data-level="4.2" id="media-session-types"><span class="secno">4.2. </span><span class="content">Types</span><a class="self-link" href="#media-session-types"></a></h3>


   <p>A <dfn data-dfn-type="dfn" data-noexport="" id="media-session-category">media session category<a class="self-link" href="#media-session-category"></a></dfn> is a keyword that maps to a well-defined
interaction state for a <a data-link-type="dfn" href="#media-session">media session</a> – called its <dfn data-dfn-type="dfn" data-noexport="" id="media-session-type">media session
type<a class="self-link" href="#media-session-type"></a></dfn> – that user agents use to enforce platform-specific interaction and
interoperation between media content.</p>


   <p>A <a data-link-type="dfn" href="#media-session">media session</a> has a <dfn data-dfn-type="dfn" data-noexport="" id="current-media-session-type">current media session type<a class="self-link" href="#current-media-session-type"></a></dfn> that is set
when a new <a data-link-type="dfn" href="#media-session">media session</a> is created.</p>


   <p>The following table lists the available <a data-link-type="dfn" href="#media-session-category">media session categories</a> keywords
and their corresponding <a data-link-type="dfn" href="#media-session-type">media session type</a> states — the keywords in the
left column map to the states in the cell in the second column on the same row
as the keyword. <a data-link-type="dfn" href="#media-session-category">Media session categories</a> and <a data-link-type="dfn" href="#media-session-type">media session types</a>
should be used based on their preferred definitions in the table’s third and
fourth columns.</p>


   <table id="valid-media-categories">
  
    <tbody>
     <tr>
    
      <th>Category
      
    
      <th>State
      
    
      <th>Definition
      
    
      <th>Examples
      
  
     
  
     <tr>
    
      <td>
      "<dfn data-dfn-type="dfn" data-lt="content attribute value" data-noexport="" id="content-attribute-value"><code>content</code><a class="self-link" href="#content-attribute-value"></a></dfn>"
    
      
    
      <td>
      <dfn data-dfn-type="dfn" data-lt="content media state" data-noexport="" id="content-media-state">Content<a class="self-link" href="#content-media-state"></a></dfn>
    
      
    
      <td>
      
       <ul>
        
        <li>
          <a data-link-type="dfn" href="#indefinitely-pause">Indefinitely pauses</a> all other <a data-link-type="dfn" href="#active-audio_producing-participants">active</a>
          <code><a data-link-type="dfn" href="#default-media-state">Default</a></code> and <code><a data-link-type="dfn" href="#content-media-state">Content</a></code> content when <a href="#activating-a-media-session">playback begins</a>.
        
        
        
        <li>
          Displays lock-screen and notification area user interfaces when
          <a href="#activating-a-media-session">playback begins</a>.
        
        
        
        <li>
          Reacts to changes in both hardware and software-based media key
          buttons when <a href="#activating-a-media-session">playback
          begins</a>.
        
        
        
        <li>
          <a data-link-type="dfn" href="#duck">Ducks</a> itself when <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code> content <a href="#interrupting-a-media-session">starts interrupting</a>.
          <a data-link-type="dfn" href="#unduck">Unducks</a>
          itself when <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code>
          content is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-paused">paused</a> or <a href="#releasing-a-media-session">ends
          playback</a>.
        
        
        
        <li>
          <a data-link-type="dfn" href="#pause">Pauses</a> itself when <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code> content <a href="#interrupting-a-media-session">starts interrupting</a>.
          <a data-link-type="dfn" href="#unpause">Unpauses</a> itself when <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code> content is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-paused">paused</a> or <a href="#releasing-a-media-session">ends playback</a>.
        
        
        
        <li>
          Continues playing normally when <code><a data-link-type="dfn" href="#ambient-media-state">Ambient</a></code> content <a href="#interrupting-a-media-session">starts interrupting</a>.
        
        
      
       </ul>
       
    
      
    
      <td>
      Music, podcasts, radio streams.
    
      
  
     
  
     <tr>
    
      <td>
      "<dfn data-dfn-type="dfn" data-lt="transient attribute
      value" data-noexport="" id="transient-attribute-value"><code>transient</code><a class="self-link" href="#transient-attribute-value"></a></dfn>"
    
      
    
      <td>
      <dfn data-dfn-type="dfn" data-lt="transient media state" data-noexport="" id="transient-media-state">Transient<a class="self-link" href="#transient-media-state"></a></dfn>
    
      
    
      <td>
      
       <ul>
        
        <li>
          <a data-link-type="dfn" href="#duck">Ducks</a> all other <a data-link-type="dfn" href="#active-audio_producing-participants">active</a>
          <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>
          and <code><a data-link-type="dfn" href="#content-media-state">Content</a></code> content when
          <a href="#activating-a-media-session">playback begins</a>.
          <a data-link-type="dfn" href="#unduck">Unducks</a> all other <a data-link-type="dfn" href="#interrupted-media-session-state">interrupted</a> <code><a data-link-type="dfn" href="#default-media-state">Default</a></code> and <code><a data-link-type="dfn" href="#content-media-state">Content</a></code> content when <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-paused">paused</a> or <a href="#releasing-a-media-session">playback ends</a>.
        
        
        
        <li>
          Does not display lock-screen and notification area user interfaces
          when <a href="#activating-a-media-session">playback begins</a>.
        
        
        
        <li>
          Does not react to changes in both hardware and software-based media
          key buttons when <a href="#activating-a-media-session">playback
          begins</a>.
        
        
        
        <li>
          <a data-link-type="dfn" href="#pause">Pauses</a> itself when <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code> content <a href="#interrupting-a-media-session">starts interrupting</a>.
          <a data-link-type="dfn" href="#unpause">Unpauses</a> itself when <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code> content is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-paused">paused</a> or <a href="#releasing-a-media-session">ends playback</a>.
        
        
        
        <li>
          Continues playing normally when other <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code> or <code><a data-link-type="dfn" href="#ambient-media-state">Ambient</a></code> content <a href="#interrupting-a-media-session">starts interrupting</a>.
        
        
      
       </ul>
       
    
      
    
      <td>
      Notification sounds. Spoken driving directions where playback of music in
      the background is acceptable.
    
      
  
     
  
     <tr>
    
      <td>
      "<dfn data-dfn-type="dfn" data-lt="transient-solo attribute
      value" data-noexport="" id="transient_solo-attribute-value"><code>transient-solo</code><a class="self-link" href="#transient_solo-attribute-value"></a></dfn>"
    
      
    
      <td>
      <dfn data-dfn-type="dfn" data-lt="transient solo media state" data-noexport="" id="transient-solo-media-state">Transient Solo<a class="self-link" href="#transient-solo-media-state"></a></dfn>
    
      
    
      <td>
      
       <ul>
        
        <li>
          <a data-link-type="dfn" href="#pause">Pauses</a> all other <a data-link-type="dfn" href="#active-audio_producing-participants">active</a>
          <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>,
          <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>, <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code> and
          <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code>
          content when <a href="#activating-a-media-session">playback
          begins</a>.
          <a data-link-type="dfn" href="#unpause">Unpauses</a> all <a data-link-type="dfn" href="#interrupted-media-session-state">interrupted</a>
          <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>, <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>, <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code> and <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code>
          content when <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-paused">paused</a> or <a href="#releasing-a-media-session">playback ends</a>.
        
        
        
        <li>
          Does not display lock-screen and notification area user interfaces
          when <a href="#activating-a-media-session">playback begins</a>.
        
        
        
        <li>
          Does not react to changes in both hardware and software-based media
          key buttons when <a href="#activating-a-media-session">playback
          begins</a>.
        
        
        
        <li>
          <a data-link-type="dfn" href="#pause">Pauses</a> itself when other <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code> content <a href="#interrupting-a-media-session">starts interrupting</a>.
          <a data-link-type="dfn" href="#unpause">Unpauses</a>
          itself when other <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient
          Solo</a></code> content is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-paused">paused</a> or <a href="#releasing-a-media-session">ends playback</a>.
        
        
        
        <li>
          Continues playing normally when <code><a data-link-type="dfn" href="#ambient-media-state">Ambient</a></code> content <a href="#interrupting-a-media-session">starts interrupting</a>.
        
        
      
       </ul>
       
    
      
    
      <td>
      Playback of driving directions. Other spoken notifications.
    
      
  
     
  
     <tr>
    
      <td>
      "<dfn data-dfn-type="dfn" data-lt="ambient attribute value" data-noexport="" id="ambient-attribute-value"><code>ambient</code><a class="self-link" href="#ambient-attribute-value"></a></dfn>"
    
      
    
      <td>
      <dfn data-dfn-type="dfn" data-lt="ambient media state" data-noexport="" id="ambient-media-state">Ambient<a class="self-link" href="#ambient-media-state"></a></dfn>
    
      
    
      <td>
      
       <ul>
        
        <li>
          Does not interact with any other <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>,
          <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>, <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code>,
          <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code> or
          <code><a data-link-type="dfn" href="#ambient-media-state">Ambient</a></code> content during
          playback.
        
        
        
        <li>
          Does not display lock-screen and notification area user interfaces
          when <a href="#activating-a-media-session">playback begins</a>.
        
        
        
        <li>
          Does not react to changes in both hardware and software-based media
          key buttons when <a href="#activating-a-media-session">playback
          begins</a>.
        
        
        
        <li>
          <a data-link-type="dfn" href="#pause">Pauses</a> itself when its <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level browsing context</a> is not
          visible (i.e. the page is placed in the background or the user agent
          is minimized or the screen is switched off). <a data-link-type="dfn" href="#unpause">Unpauses</a> itself
          when its
          <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level browsing context</a> is at least partially visible on at
          least one screen again (i.e. the user agent is in the foreground and
          the page is focused again).
        
        
      
       </ul>
       
    
      
    
      <td>
      UI sounds. In-game sound effects and background music.
    
      
  
     
  
     <tr>
    
      <td>
      "<strong id="default-media-value"><code></code></strong>" (empty
      string)
    
      
    
      <td>
      <dfn data-dfn-type="dfn" data-lt="default media state" data-noexport="" id="default-media-state">Default<a class="self-link" href="#default-media-state"></a></dfn>
    
      
    
      <td>
      
       <ul>
        
        <li>
          No explicit kind, or the kind of the media given is not recognized by
          the user agent.
        
        
      
       </ul>
       
    
      
    
      <td>
      Legacy media content
    
      
  
     
</table>


   <h3 class="heading settled" data-level="4.3" id="media-session-participants"><span class="secno">4.3. </span><span class="content">Participants</span><a class="self-link" href="#media-session-participants"></a></h3>


   <p>An <dfn data-dfn-type="dfn" data-noexport="" id="audio_producing-object">audio-producing object<a class="self-link" href="#audio_producing-object"></a></dfn> is any object or element that is capable of
emitting sound within the user agent and is therefore also potentially capable
of interacting with the media focus system available in different underlying
platforms.</p>


   <p class="note" role="note">
  
  
  Initially the term <a data-link-type="dfn" href="#audio_producing-object">audio-producing objects</a>
  is taken to only refer to <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> objects. In the future it may
  be possible to extend this specification to allow e.g. <code class="idl"><a data-link-type="idl" href="https://webaudio.github.io/web-audio-api/#audiocontext">AudioContext</a></code>
  objects to also be attached to a <a data-link-type="dfn" href="#media-session">media session</a> as <a data-link-type="dfn" href="#audio_producing-object">audio-producing
  objects</a>.
</p>


   <p>A <a data-link-type="dfn" href="#media-session">media session</a> may have one or more <a data-link-type="dfn" href="#audio_producing-object">audio-producing objects</a>
attached to it; called its <dfn data-dfn-type="dfn" data-noexport="" id="audio_producing-participants">audio-producing participants<a class="self-link" href="#audio_producing-participants"></a></dfn>. A
<a data-link-type="dfn" href="#media-session">media session</a> must keep a list of <dfn data-dfn-type="dfn" data-noexport="" id="active-audio_producing-participants">active audio-producing
participants<a class="self-link" href="#active-audio_producing-participants"></a></dfn> that consists of zero of more <a data-link-type="dfn" href="#audio_producing-object">audio-producing objects</a>.</p>


   <p><a data-link-type="dfn" href="#audio_producing-participants">Audio-producing participants</a> are attached to a
<a data-link-type="dfn" href="#media-session">media session</a> when they are invoked; at that point becoming one of
<a data-link-type="dfn" href="#media-session">media session</a>’s <a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing participants</a>.
<a data-link-type="dfn" href="#audio_producing-participants">Audio-producing participants</a> are detached from a <a data-link-type="dfn" href="#media-session">media session</a>
when they are released; at that point no longer being one of <a data-link-type="dfn" href="#media-session">media
session</a>’s <a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing participants</a>.</p>


   <p>When the user agent is to <dfn data-dfn-type="dfn" data-noexport="" id="pause">pause<a class="self-link" href="#pause"></a></dfn> a given <var>audio-producing
object</var> it must run the following steps:</p>


   <ol>
  
    <li>
    If <var>audio-producing object</var> is not a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> then
    terminate these steps.
    
     <p class="note" role="note">
      This algorithm currently only supports <a data-link-type="dfn" href="#audio_producing-object">audio-producing objects</a> that
      are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media elements</a>.
    </p>
     
  
  
    <li>
    <a data-link-type="dfn" href="#pause-a-media-element">Pause media element</a> <var>audio-producing
    object</var>.
  
</ol>


   <p>When the user agent is to <dfn data-dfn-type="dfn" data-noexport="" id="indefinitely-pause">indefinitely pause<a class="self-link" href="#indefinitely-pause"></a></dfn> a given
<var>audio-producing object</var>, the user agent must <a data-link-type="dfn" href="#pause">pause</a>
<var>audio-producing object</var> and, then proceed to remove it from its
<a data-link-type="dfn" href="#current-media-session">current media session</a>’s list of
<a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing participants</a>.</p>


   <p>When the user agent is to <dfn data-dfn-type="dfn" data-noexport="" id="unpause">unpause<a class="self-link" href="#unpause"></a></dfn> a given <var>audio-producing
object</var> it must run the following steps:</p>


   <ol>
  
    <li>
    If <var>audio-producing object</var> is not a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> then
    terminate these steps.
    
     <p class="note" role="note">
      This algorithm currently only supports <a data-link-type="dfn" href="#audio_producing-object">audio-producing objects</a> that
      are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media elements</a>.
    </p>
     
  
  
    <li>
    <a data-link-type="dfn" href="#unpause-a-media-element">Unpause media element</a>
    <var>audio-producing object</var>.
  
</ol>


   <p>When an <a data-link-type="dfn" href="#audio_producing-object">audio-producing object</a> is to <dfn data-dfn-type="dfn" data-noexport="" id="duck">duck<a class="self-link" href="#duck"></a></dfn> the user agent must
ensure its output volume is lowered.</p>


   <p>When an <a data-link-type="dfn" href="#audio_producing-object">audio-producing object</a> is to <dfn data-dfn-type="dfn" data-noexport="" id="unduck">unduck<a class="self-link" href="#unduck"></a></dfn> the user agent
should restore its output volume to the same level that was observed prior to
the original corresponding <a data-link-type="dfn" href="#duck">duck</a> request.</p>


   <p class="note" role="note">
  When an <a data-link-type="dfn" href="#audio_producing-object">audio-producing object</a> is <a data-link-type="dfn" href="#duck">ducked</a> any reduction
  in volume applied by the user agent is not intended to be observable to web
  pages.
</p>


   <h3 class="heading settled" data-level="4.4" id="media-session-resources"><span class="secno">4.4. </span><span class="content">Resources</span><a class="self-link" href="#media-session-resources"></a></h3>


   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="fetch-steps">fetch steps<a class="self-link" href="#fetch-steps"></a></dfn> for a given <a data-link-type="dfn" href="#media-session">media session</a> <var>media
session</var> are:</p>


   <ol>
  
  
    <li>
    If the platform supports displaying media artwork, <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch">fetch</a>
    <var>media session</var>’s <a data-link-type="dfn" href="#artwork-url">artwork URL</a>, if <a data-link-type="dfn" href="#artwork-url">artwork URL</a> is set.


     <p>Then, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>:</p>
     

    
     <ol>
      
      <li>
        Wait for the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response">response</a>.
      
      
      
      <li>
        If the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response">response</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-internal-response">internal response</a>’s
        <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-type">type</a> is <i>default</i>, attempt to decode the
        resource as image.
      
      
      
      <li>
        If the image format is supported, set <var>media session</var>’s
        <a data-link-type="dfn" href="#artwork-resource">artwork resource</a> to the decoded resource. (Otherwise
        <var>media session</var> has no <a data-link-type="dfn" href="#artwork-resource">artwork resource</a>.)
      
      
    
     </ol>
     
  
</ol>


   <h3 class="heading settled" data-level="4.5" id="media-session-lifecycle"><span class="secno">4.5. </span><span class="content">Lifecycle</span><a class="self-link" href="#media-session-lifecycle"></a></h3>


   <p>When <a data-link-type="dfn" href="#create-a-media-session">creating a new media session</a> a <a data-link-type="dfn" href="#media-session">media
session</a>’s <a data-link-type="dfn" href="#current-state">current state</a> is initially set to <code><a data-link-type="dfn" href="#idle-media-session-state">idle</a></code>.</p>


   <p>When the <a data-link-type="dfn" href="#media-session-invocation-algorithm">media session invocation algorithm</a> is run a <a data-link-type="dfn" href="#media-session">media
session</a>’s <a data-link-type="dfn" href="#current-state">current state</a> may be set from <code><a data-link-type="dfn" href="#idle-media-session-state">idle</a></code> to
<code><a data-link-type="dfn" href="#active-media-session-state">active</a></code>.</p>


   <p>When the <a data-link-type="dfn" href="#media-session-interruption-algorithm">media session interruption algorithm</a> is run a <a data-link-type="dfn" href="#media-session">media
session</a>’s <a data-link-type="dfn" href="#current-state">current state</a> may be set from
<code><a data-link-type="dfn" href="#active-media-session-state">active</a></code> to either <code><a data-link-type="dfn" href="#idle-media-session-state">idle</a></code> or <code><a data-link-type="dfn" href="#interrupted-media-session-state">interrupted</a></code> depending on its associated <a data-link-type="dfn" href="#media-session-category">media
session category</a>.</p>


   <p>When the <a data-link-type="dfn" href="#media-session-continuation-algorithm">media session continuation algorithm</a> is run a <a data-link-type="dfn" href="#media-session">media
session</a>’s <a data-link-type="dfn" href="#current-state">current state</a> may be set from <code><a data-link-type="dfn" href="#interrupted-media-session-state">interrupted</a></code>
to <code><a data-link-type="dfn" href="#active-media-session-state">active</a></code>.</p>


   <p>When the <a data-link-type="dfn" href="#media-session-release-algorithm">media session release algorithm</a> is run a <a data-link-type="dfn" href="#media-session">media session</a>’s
<a data-link-type="dfn" href="#current-state">current state</a>
may be set from either <code><a data-link-type="dfn" href="#active-media-session-state">active</a></code> or <code><a data-link-type="dfn" href="#interrupted-media-session-state">interrupted</a></code> to
<code><a data-link-type="dfn" href="#idle-media-session-state">idle</a></code>.</p>


   <h4 class="heading settled" data-level="4.5.1" id="activating-a-media-session"><span class="secno">4.5.1. </span><span class="content">Activating a media session</span><a class="self-link" href="#activating-a-media-session"></a></h4>


   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="media-session-invocation-algorithm">media session invocation algorithm<a class="self-link" href="#media-session-invocation-algorithm"></a></dfn> takes one argument,
<var>media session</var>, and consists of the following steps:</p>


   <ol>
  
    <li>
    If <var>media session</var> is already <code><a data-link-type="dfn" href="#active-media-session-state">active</a></code>, then return success.
  
  
    <li>
    Optionally, based on platform conventions, request the most appropriate
    platform-level media focus for <var>media session</var> based on its
    <a data-link-type="dfn" href="#current-media-session-type">current media session type</a>.


     <p>If this step is run and platform-level media focus can not be obtained for
    any reason, then return failure.</p>
     
  
  
    <li>
    Run these substeps:

    
     <dl class="switch">
      
      <dt>
        If <var>media session</var>’s <a data-link-type="dfn" href="#current-media-session-type">current media session type</a> is
        <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>
      
      
      
      <dd>
        
       <ol>
          
        <li>
            Optionally, based on platform conventions, the user agent may show
            an ongoing media interface in the underlying platform’s
            notifications area and/or show an ongoing media interface in the
            underlying platform’s lock screen area for <var>media session</var>
            based on its <a data-link-type="dfn" href="#media-remote-controller">media remote controller</a>, if any, and using any
            available <a data-link-type="dfn" href="#media-session-metadata">media session metadata</a>.
          
        
          
        <li>
            Optionally, based on platform conventions, the user agent may allow
            hardware and/or software media keys to control playback of
            <var>media session</var>’s <a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing
            participants</a> based on its <a data-link-type="dfn" href="#media-remote-controller">media remote controller</a>, if
            any.
          
        
        
       </ol>
       
      
      
      
      <dt>
        If <var>media session</var>’s <a data-link-type="dfn" href="#current-media-session-type">current media session type</a> is
        <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code> or <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code>
      
      
      
      <dd class="note" role="note">
        The user agent should not provide user access to any hardware or
        software media keys and not display any ongoing media interface in the
        underlying platform’s notifications area or show any ongoing media
        interface in the underlying platform’s lock screen area for
        <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code> or
        <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code>-based
        <a data-link-type="dfn" href="#media-session">media sessions</a>.
      
      
      
      <dt>
        If <var>media session</var>’s <a data-link-type="dfn" href="#current-media-session-type">current media session type</a> is
        <code><a data-link-type="dfn" href="#ambient-media-state">Ambient</a></code>
      
      
      
      <dd>
        If <var>media session</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level browsing context</a> is not
        at least partially visible on at least one screen, then return failure.

        
       <p class="note" role="note">
          The user agent should not provide user access to any hardware or
          software media keys and not display any ongoing media interface in the
          underlying platform’s notifications area or show any ongoing media
          interface in the underlying platform’s lock screen area for
          <code><a data-link-type="dfn" href="#ambient-media-state">Ambient</a></code>-based <a data-link-type="dfn" href="#media-session">media
          sessions</a>.
        </p>
       
      
      
    
     </dl>
     
  
  
    <li>
    Set <var>media session</var>’s <a data-link-type="dfn" href="#current-state">current state</a> to
    <code><a data-link-type="dfn" href="#active-media-session-state">active</a></code>, then return
    success.
  
</ol>


   <h4 class="heading settled" data-level="4.5.2" id="interrupting-a-media-session"><span class="secno">4.5.2. </span><span class="content">Interrupting a media session</span><a class="self-link" href="#interrupting-a-media-session"></a></h4>


   <p>A <a data-link-type="dfn" href="#media-session">media session</a> may be interrupted at any time after its
<a data-link-type="dfn" href="#media-session-invocation-algorithm">media session invocation algorithm</a> has been run. This typically occurs
when another application or another <a data-link-type="dfn" href="#media-session">media session</a> requests and is granted
a level of platform media focus that affects the <a data-link-type="dfn" href="#media-session">media session</a> based on
its <a data-link-type="dfn" href="#current-media-session-type">current media session type</a>.</p>


   <p>Interruptions can be both transient or permanent. A transient interruption means
we can either choose to <a data-link-type="dfn" href="#duck">duck</a> our media content and continue playing it
out at a reduced volume for the duration of the interruption; or <a data-link-type="dfn" href="#pause">pause</a>
our media content for the duration of the interruption and, then, resume
playback when that interruption ends. A permanent interruption means we must <a data-link-type="dfn" href="#indefinitely-pause">pause our media content indefinitely</a>.</p>


   <p>When a start-of-interruption notification event is received from the platform,
then the user agent must run the
<a data-link-type="dfn" href="#media-session-interruption-algorithm">media session interruption algorithm</a> against all known <a data-link-type="dfn" href="#media-session">media
sessions</a>, passing in each <a data-link-type="dfn" href="#media-session">media session</a> as <var>media session</var>.</p>


   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="media-session-interruption-algorithm">media session interruption algorithm<a class="self-link" href="#media-session-interruption-algorithm"></a></dfn> takes one argument,
<var>media session</var>, and consists of the following steps.</p>


   <ol>
  
    <li>
    If <var>media session</var>’s <a data-link-type="dfn" href="#current-state">current state</a> is not
    <code><a data-link-type="dfn" href="#active-media-session-state">active</a></code>, then terminate
    these steps.
  
  
    <li>
    Let <var>interrupting media session category</var> be the <a data-link-type="dfn" href="#media-session-category">media session
    category</a> that triggered this interruption. If this interruption has no
    known
    <a data-link-type="dfn" href="#media-session-category">media session category</a>, let <var>interrupting media session
    category</var> be
    <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>.
  
  
    <li>
    Run these substeps:

    
     <dl class="switch">
      
      <dt>
        If <var>interrupting media session category</var> is <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>
      
      
      
      <dd>
        
       <ol>
          
        <li>
            If <var>media session</var>’s <a data-link-type="dfn" href="#current-media-session-type">current media session type</a> is
            <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>
            or <code><a data-link-type="dfn" href="#content-media-state">Content</a></code> then
            <a data-link-type="dfn" href="#indefinitely-pause">indefinitely pause</a> all of <var>media session</var>’s
            <a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing participants</a> and set <var>media
            session</var>’s <a data-link-type="dfn" href="#current-state">current state</a> to
            <code><a data-link-type="dfn" href="#idle-media-session-state">idle</a></code>.

            
         <p class="note" role="note">
              This implies that the next time the <a data-link-type="dfn" href="#media-session-invocation-algorithm">media session invocation
              algorithm</a> is run against <var>media session</var> that we will
              re-request media focus according to the steps defined in that
              algorithm.
            </p>
         
          
        
          
        <li>
            Optionally, based on platform conventions, the user agent must
            remove any previously established ongoing media interface in the
            underlying platform’s notifications area and any ongoing media
            interface in the underlying platform’s lock screen area for
            <var>media session</var>, if any.
          
        
          
        <li>
            Optionally, based on platform conventions, the user agent must
            prevent any hardware and/or software media keys from controlling
            playback of
            <var>media session</var>’s <a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing
            participants</a>.
          
        
        
       </ol>
       
      
      
      
      <dt>
        If <var>interrupting media session category</var> is <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code>
      
      
      
      <dd>
        
       <ol>
          
        <li>
            If <var>media session</var>’s <a data-link-type="dfn" href="#current-media-session-type">current media session type</a> is
            <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>
            or <code><a data-link-type="dfn" href="#content-media-state">Content</a></code> then
            <a data-link-type="dfn" href="#duck">duck</a>
            all of <var>media session</var>’s <a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing
            participants</a> and set
            <var>media session</var>’s
            <a data-link-type="dfn" href="#current-state">current state</a> to <code><a data-link-type="dfn" href="#interrupted-media-session-state">interrupted</a></code>.
            
         <p class="note" role="note">
              This implies that the next time the <a data-link-type="dfn" href="#media-session-continuation-algorithm">media session continuation
              algorithm</a> is run for <var>media session</var> that we will
              re-activate this <a data-link-type="dfn" href="#media-session">media session</a> according to the steps
              defined in that algorithm.
            </p>
         
          
        
        
       </ol>
       
      
      
      
      <dt>
        If <var>interrupting media session category</var> is <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code>
      
      
      
      <dd>
        
       <ol>
          
        <li>
            If <var>media session</var>’s <a data-link-type="dfn" href="#current-media-session-type">current media session type</a> is
            <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>,
            <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>, <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code> or <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code> then
            <a data-link-type="dfn" href="#pause">pause</a> all of
            <var>media session</var>’s
            <a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing participants</a> and set
            <var>current media session</var>’s <a data-link-type="dfn" href="#current-state">current state</a> to
            <code><a data-link-type="dfn" href="#interrupted-media-session-state">interrupted</a></code>.

            
         <div class="note" role="note">
              
          <p>
                This implies that the next time the <a data-link-type="dfn" href="#media-session-invocation-algorithm">media session invocation
                algorithm</a>
                is run against <var>media session</var>
                that we will re-request media focus according to the steps
                defined in that algorithm.
              </p>
          

              
          <p>
                It also implies that the next time the <a data-link-type="dfn" href="#media-session-continuation-algorithm">media session
                continuation algorithm</a> is run against <var>media
                session</var> that we will re-activate this
                <a data-link-type="dfn" href="#media-session">media session</a> according to the steps defined in that
                algorithm.
              </p>
          
            
         </div>
         
          
        
        
       </ol>
       
      
      
    
     </dl>
     
  
</ol>


   <p> </p>


   <p>When an end-of-interruption notification event is received from the platform,
then the user agent must run the <a data-link-type="dfn" href="#media-session-continuation-algorithm">media session continuation algorithm</a>
against all known <a data-link-type="dfn" href="#media-session">media sessions</a>, passing in each <a data-link-type="dfn" href="#media-session">media session</a> as
<var>media session</var>.</p>


   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="media-session-continuation-algorithm">media session continuation algorithm<a class="self-link" href="#media-session-continuation-algorithm"></a></dfn> takes one argument,
<var>media session</var>, and consists of the following steps.</p>


   <ol>
  
    <li>
    If <var>media session</var>’s <a data-link-type="dfn" href="#current-state">current state</a> is not
    <code><a data-link-type="dfn" href="#interrupted-media-session-state">interrupted</a></code>, then
    terminate these steps.
  
  
    <li>
    Let <var>interrupting media session category</var> be the <a data-link-type="dfn" href="#media-session-category">media session
    category</a> that initially triggered this interruption. If this
    interruption has no known <a data-link-type="dfn" href="#media-session-category">media session category</a>, let
    <var>interrupting media session category</var> be <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>.
  
  
    <li>
    Run these substeps:

    
     <dl class="switch">
      
      <dt>
        If <var>interrupting media session category</var> is <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code>
      
      
      
      <dd>
        
       <ol>
          
        <li>
            If <var>media session</var>’s <a data-link-type="dfn" href="#current-media-session-type">current media session type</a> is
            <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>
            or
            <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>, then
            <a data-link-type="dfn" href="#unduck">unduck</a> all of <var>media session</var>’s
            <a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing participants</a>
            and set <var>media session</var>’s <a data-link-type="dfn" href="#current-state">current state</a> to
            <code><a data-link-type="dfn" href="#active-media-session-state">active</a></code>.
          
        
        
       </ol>
       
      
      
      
      <dt>
        If <var>interrupting media session category</var> is <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code>
      
      
      
      <dd>
        
       <ol>
          
        <li>
            If <var>media session</var>’s <a data-link-type="dfn" href="#current-media-session-type">current media session type</a> is
            <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>,
            <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>, <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code>, or
            <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code>,
            then <a data-link-type="dfn" href="#unpause">unpause</a> the
            <var>media session</var>’s <a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing
            participants</a> and set <var>media session</var>’s
            <a data-link-type="dfn" href="#current-state">current state</a> to
            <code><a data-link-type="dfn" href="#active-media-session-state">active</a></code>.
          
        
        
       </ol>
       
      
      
    
     </dl>
     
  
</ol>


   <p><br>
After a <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/page-visibility/#sec-visibilitychange-event">visibilitychange</a></code> event <a data-link-type="biblio" href="#biblio-page-visibility">[PAGE-VISIBILITY]</a> has been fired at a
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level browsing context</a>, known as <var>the browsing context</var>, the
user agent must run the following steps:</p>


   <ol>
  
    <li>
    If <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/page-visibility/#dom-document-visibilitystate">visibilityState</a></code> is not "<code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/page-visibility/#pv-page-hidden">hidden</a></code>" or
    "<code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/page-visibility/#pv-page-visible">visible</a></code>" <a data-link-type="biblio" href="#biblio-page-visibility">[PAGE-VISIBILITY]</a>, then terminate these steps.
  

  
    <li>
    For each <a data-link-type="dfn" href="#media-session">media session</a>, known as <var>s</var>, in <var>the browsing
    context</var> with an <a data-link-type="dfn" href="#current-media-session-type">current media session type</a> of <code><a data-link-type="dfn" href="#ambient-media-state">Ambient</a></code> run the following substeps:

    
     <ol>
      
      <li>
        If <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/page-visibility/#dom-document-visibilitystate">visibilityState</a></code> is "<code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/page-visibility/#pv-page-hidden">hidden</a></code>" <a data-link-type="biblio" href="#biblio-page-visibility">[PAGE-VISIBILITY]</a> and
        <var>s</var>’s <a data-link-type="dfn" href="#current-state">current state</a> is <code><a data-link-type="dfn" href="#active-media-session-state">active</a></code>, then <a data-link-type="dfn" href="#pause">pause</a> all of <var>s</var>’s
        <a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing participants</a> and set
        <var>s</var>’s
        <a data-link-type="dfn" href="#current-state">current state</a> to <code><a data-link-type="dfn" href="#interrupted-media-session-state">interrupted</a></code>, then terminate these substeps and
        continue at the next available <var>s</var>.
      
      
      
      <li>
        If <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/page-visibility/#dom-document-visibilitystate">visibilityState</a></code> is "<code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/page-visibility/#pv-page-visible">visible</a></code>" <a data-link-type="biblio" href="#biblio-page-visibility">[PAGE-VISIBILITY]</a>
        and <var>s</var>’s <a data-link-type="dfn" href="#current-state">current state</a> is <code><a data-link-type="dfn" href="#interrupted-media-session-state">interrupted</a></code>, then <a data-link-type="dfn" href="#unpause">unpause</a> all of
        <var>s</var>’s <a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing participants</a> and set
        <var>s</var>’s <a data-link-type="dfn" href="#current-state">current state</a> to <code><a data-link-type="dfn" href="#active-media-session-state">active</a></code>, then terminate these substeps and continue at
        the next available <var>s</var>.
      
      
    
     </ol>
     
  
</ol>


   <h4 class="heading settled" data-level="4.5.3" id="releasing-a-media-session"><span class="secno">4.5.3. </span><span class="content">Releasing a media session</span><a class="self-link" href="#releasing-a-media-session"></a></h4>


   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="media-session-release-algorithm">media session release algorithm<a class="self-link" href="#media-session-release-algorithm"></a></dfn> takes one argument,
<var>media session</var>, and consists of the following steps.</p>


   <ol>
  
    <li>
    If <var>media session</var>’s <a data-link-type="dfn" href="#current-state">current state</a> is
    <code><a data-link-type="dfn" href="#idle-media-session-state">idle</a></code>, then terminate these
    steps.
  
  
    <li>
    If <var>media session</var> still has one or more <a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing
    participants</a>, then terminate these steps.
  
  
    <li>
    Optionally, based on platform conventions, the user agent must release any
    currently held platform media focus for <var>media session</var>.
  
  
    <li>
    Optionally, based on platform conventions, the user agent must remove any
    previously established ongoing media interface in the underlying platform’s
    notifications area and any ongoing media interface in the underlying
    platform’s lock screen area for <var>media session</var>, if any.
  
  
    <li>
    Optionally, based on platform conventions, the user agent must prevent any
    hardware and/or software media keys from controlling playback of
    <var>media session</var>’s
    <a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing participants</a>.

    
     <p class="note" role="note">
      If the algorithm reaches this step then <var>media session</var> can not
      have any <a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing participants</a>.
    </p>
     
  
  
    <li>
    Set <var>media session</var>’s <a data-link-type="dfn" href="#current-state">current state</a> to
    <code><a data-link-type="dfn" href="#idle-media-session-state">idle</a></code>.

    
     <p class="note" role="note">
      This implies that the next time the <a data-link-type="dfn" href="#media-session-invocation-algorithm">media session invocation
      algorithm</a> is run against <var>media session</var> that we will
      re-request media focus according to the steps defined in that algorithm.
    </p>
     
  
</ol>


   <h2 class="heading settled" data-level="5" id="api"><span class="secno">5. </span><span class="content">API</span><a class="self-link" href="#api"></a></h2>


   <h3 class="heading settled" data-level="5.1" id="the-mediasession-interface"><span class="secno">5.1. </span><span class="content">The <code class="idl"><a data-link-type="idl" href="#mediasession">MediaSession</a></code> interface</span><a class="self-link" href="#the-mediasession-interface"></a></h3>


   <pre class="idl">[<a class="idl-code" data-link-type="constructor" href="#dom-mediasession-mediasession">Constructor</a>(optional <a data-link-type="idl-name" href="#enumdef-mediasessionkind">MediaSessionKind</a> <dfn class="idl-code" data-dfn-for="MediaSession/MediaSession(kind)" data-dfn-type="argument" data-export="" id="dom-mediasession-mediasession-kind-kind">kind<a class="self-link" href="#dom-mediasession-mediasession-kind-kind"></a></dfn>)]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" id="mediasession">MediaSession<a class="self-link" href="#mediasession"></a></dfn> {
  readonly attribute <a data-link-type="idl-name" href="#enumdef-mediasessionkind">MediaSessionKind</a> <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="MediaSessionKind " href="#dom-mediasession-kind">kind</a>;

  readonly attribute <a data-link-type="idl-name" href="#mediaremotecontrols">MediaRemoteControls</a>? <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="MediaRemoteControls? " href="#dom-mediasession-controls">controls</a>;

  void <a class="idl-code" data-link-type="method" href="#dom-mediasession-setmetadata">setMetadata</a>(<a data-link-type="idl-name" href="#dictdef-mediametadata">MediaMetadata</a> <dfn class="idl-code" data-dfn-for="MediaSession/setMetadata(metadata)" data-dfn-type="argument" data-export="" id="dom-mediasession-setmetadata-metadata-metadata">metadata<a class="self-link" href="#dom-mediasession-setmetadata-metadata-metadata"></a></dfn>);

  void <a class="idl-code" data-link-type="method" href="#dom-mediasession-release">release</a>();
};

enum <dfn class="idl-code" data-dfn-type="enum" data-export="" id="enumdef-mediasessionkind">MediaSessionKind<a class="self-link" href="#enumdef-mediasessionkind"></a></dfn> {
  "content",
  "transient",
  "transient-solo",
  "ambient"
};

dictionary <dfn class="idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-mediametadata">MediaMetadata<a class="self-link" href="#dictdef-mediametadata"></a></dfn> {
  DOMString <dfn class="idl-code" data-default="&quot;&quot;" data-dfn-for="MediaMetadata" data-dfn-type="dict-member" data-export="" data-type="DOMString " id="dom-mediametadata-title">title<a class="self-link" href="#dom-mediametadata-title"></a></dfn> = "";
  DOMString <dfn class="idl-code" data-default="&quot;&quot;" data-dfn-for="MediaMetadata" data-dfn-type="dict-member" data-export="" data-type="DOMString " id="dom-mediametadata-artist">artist<a class="self-link" href="#dom-mediametadata-artist"></a></dfn> = "";
  DOMString <dfn class="idl-code" data-default="&quot;&quot;" data-dfn-for="MediaMetadata" data-dfn-type="dict-member" data-export="" data-type="DOMString " id="dom-mediametadata-album">album<a class="self-link" href="#dom-mediametadata-album"></a></dfn> = "";
  USVString <dfn class="idl-code" data-dfn-for="MediaMetadata" data-dfn-type="dict-member" data-export="" data-type="USVString " id="dom-mediametadata-artwork">artwork<a class="self-link" href="#dom-mediametadata-artwork"></a></dfn>;
};
</pre>


   <p><code class="idl"><a data-link-type="idl" href="#mediasession">MediaSession</a></code> objects are simply known as <a data-link-type="dfn" href="#media-session">media sessions</a>.</p>


   <h4 class="heading settled" data-level="5.1.1" id="mediasession-garbage-collection"><span class="secno">5.1.1. </span><span class="content">Garbage collection</span><a class="self-link" href="#mediasession-garbage-collection"></a></h4>


   <p>A <code class="idl"><a data-link-type="idl" href="#mediasession">MediaSession</a></code> object must not be garbage collected while its corresponding
<a data-link-type="dfn" href="#media-session">media session</a> is attached to at least one <a data-link-type="dfn" href="#audio_producing-object">audio-producing object</a>.</p>


   <p>Additionally, a <code class="idl"><a data-link-type="idl" href="#mediasession">MediaSession</a></code> object must not be garbage collected while it
has a
<a data-link-type="dfn" href="#media-remote-controller">media remote controller</a> and that object has an <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-event-listener">event listener</a>
whose
<b>type</b> is <code>previoustrack</code>,
<code>nexttrack</code>, <code>seekforward</code> or <code>seekbackward</code>.</p>


   <h4 class="heading settled" data-level="5.1.2" id="mediasession-constructors"><span class="secno">5.1.2. </span><span class="content">Constructors</span><a class="self-link" href="#mediasession-constructors"></a></h4>


   <dl class="domintro">
  
    <dt>
    <code><var>session</var> = new <a class="idl-code" data-link-type="constructor" href="#dom-mediasession-mediasession">MediaSession</a>([<var>kind</var>])</code>
  
  
    <dd>
    Returns a new <code class="idl"><a data-link-type="idl" href="#mediasession">MediaSession</a></code> object.
  
</dl>


   <p>The
<dfn class="idl-code" data-dfn-for="MediaSession" data-dfn-type="constructor" data-export="" id="dom-mediasession-mediasession">MediaSession(<var>kind</var>)<a class="self-link" href="#dom-mediasession-mediasession"></a></dfn>
constructor, when invoked, must run these steps:</p>


   <ol>
  
    <li>
    Let <var>media session</var> be the result of <a data-link-type="dfn" href="#create-a-media-session">creating a media session</a> given <var>kind</var>.
  
  
    <li>
    Let <var>s</var> be a new <code class="idl"><a data-link-type="idl" href="#mediasession">MediaSession</a></code> object associated with
    <var>media session</var>.
  
  
    <li>
    Return <var>s</var>.
  
</ol>


   <h4 class="heading settled" data-level="5.1.3" id="mediasession-object-members"><span class="secno">5.1.3. </span><span class="content">Object members</span><a class="self-link" href="#mediasession-object-members"></a></h4>


   <dl class="domintro">
  
    <dt>
    <code><var>session</var> . <code class="idl"><a data-link-type="idl" href="#dom-mediasession-kind">kind</a></code></code>
  
  
    <dd>
    Returns the <a data-link-type="dfn" href="#media-session-category">media session category</a> of the
    <a data-link-type="dfn" href="#media-session">media session</a>.
  
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="MediaSession" data-dfn-type="attribute" data-export="" id="dom-mediasession-kind"><code>kind</code><a class="self-link" href="#dom-mediasession-kind"></a></dfn>
attribute must return the <a data-link-type="dfn" href="#media-session-category">media session category</a> of the <a data-link-type="dfn" href="#media-session">media
session</a> that was set when the object was created.</p>


   <dl class="domintro">
  
    <dt>
    <code><var>session</var> . <code class="idl"><a data-link-type="idl" href="#dom-mediasession-controls">controls</a></code></code>
  
  
    <dd>
    Returns the <a data-link-type="dfn" href="#media-remote-controller">media remote controller</a> assigned to the <a data-link-type="dfn" href="#media-session">media
    session</a>, if any.
  
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="MediaSession" data-dfn-type="attribute" data-export="" id="dom-mediasession-controls"><code>controls</code><a class="self-link" href="#dom-mediasession-controls"></a></dfn>
attribute must return the <a data-link-type="dfn" href="#media-remote-controller">media remote controller</a> that was assigned to a
<a data-link-type="dfn" href="#media-session">media session</a> when it was created. If <code class="idl"><a data-link-type="idl" href="#dom-mediasession-kind">kind</a></code> is not
"<a data-link-type="dfn" href="#content-attribute-value"><code>content</code></a>", then this
attribute should return null.</p>


   <dl class="domintro">
  
    <dt>
    <code><var>session</var> . <code class="idl"><a data-link-type="idl" href="#dom-mediasession-setmetadata">setMetadata(metadata)</a></code></code>
  
  
    <dd>
    Provides the user agent with meta data to use when a <a data-link-type="dfn" href="#media-session">media session</a> is
    showing media control interfaces (e.g. in an OS-level notification area or
    on a lock screen).


     <p>The <var>metadata</var> argument allows for setting a <a data-link-type="dfn" href="#media-session">media session</a>’s
    current meta data via object members. These are the object members that can
    be used:</p>
     

    
     <dl>
      
      <dt>
        <code class="idl"><a data-link-type="idl" href="#dom-mediametadata-title">title</a></code>
      
      
      
      <dd>
        The <a data-link-type="dfn" href="#session-title">title</a> to display for the <a data-link-type="dfn" href="#media-session">media
        session</a>, if any.
      
      
      
      <dt>
        <code class="idl"><a data-link-type="idl" href="#dom-mediametadata-artist">artist</a></code>
      
      
      
      <dd>
        The <a data-link-type="dfn" href="#artist-name">artist name</a> to display for the <a data-link-type="dfn" href="#media-session">media session</a>, if any.
      
      
      
      <dt>
        <code class="idl"><a data-link-type="idl" href="#dom-mediametadata-album">album</a></code>
      
      
      
      <dd>
        The <a data-link-type="dfn" href="#album-name">album name</a> to display for the <a data-link-type="dfn" href="#media-session">media session</a>, if any.
      
      
      
      <dt>
        <code class="idl"><a data-link-type="idl" href="#dom-mediametadata-artwork">artwork</a></code>
      
      
      
      <dd>
        The <a data-link-type="dfn" href="#artwork-url">artwork URL</a> for an image resource to display for the <a data-link-type="dfn" href="#media-session">media
        session</a>, if any.
      
      
    
     </dl>
     
  
</dl>


   <p>When the <dfn class="idl-code" data-dfn-for="MediaSession" data-dfn-type="method" data-export="" id="dom-mediasession-setmetadata"><code>setMetadata(metadata)</code><a class="self-link" href="#dom-mediasession-setmetadata"></a></dfn>
method is invoked, the user agent must run the following steps:</p>


   <ol>
  
    <li>
    Let <var>media session</var> be the current <a data-link-type="dfn" href="#media-session">media session</a>.
  
  
    <li>
    Let <var>baseURL</var> be the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url">API base URL</a> specified by the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#entry-settings-object">entry
    settings object</a>.
  
  
    <li>
    Set <var>media session</var>’s <a data-link-type="dfn" href="#session-title">title</a> to
    <var>metadata</var>’s <code>title</code>.
  
  
    <li>
    Set <var>media session</var>’s <a data-link-type="dfn" href="#artist-name">artist name</a> to <var>metadata</var>’s
    <code>artist</code>.
  
  
    <li>
    Set <var>media session</var>’s <a data-link-type="dfn" href="#album-name">album name</a> to <var>metadata</var>’s
    <code>album</code>.
  
  
    <li>
    If <var>metadata</var>’s <code>artwork</code> is present,
    <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser">parse</a> it using <var>baseURL</var>, and if that does
    not return failure, set <var>media session</var>’s <a data-link-type="dfn" href="#artwork-url">artwork URL</a> to the
    return value. (Otherwise <a data-link-type="dfn" href="#artwork-url">artwork URL</a> is not set.)
  
  
    <li>
    Run the <a data-link-type="dfn" href="#fetch-steps">fetch steps</a> for <var>media session</var>.
  
</ol>


   <dl class="domintro">
  
    <dt>
    <code><var>session</var> . <code class="idl"><a data-link-type="idl" href="#dom-mediasession-release">release()</a></code></code>
  
  
    <dd>
    Releases platform-level media focus, sets the <a data-link-type="dfn" href="#media-session">media session</a>’s
    <a data-link-type="dfn" href="#current-state">current state</a> to <code><a data-link-type="dfn" href="#idle-media-session-state">idle</a></code> and applies any changes necessary to its
    <a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing participants</a>.
  
</dl>


   <p>When the <dfn class="idl-code" data-dfn-for="MediaSession" data-dfn-type="method" data-export="" id="dom-mediasession-release"><code>release()</code><a class="self-link" href="#dom-mediasession-release"></a></dfn> method is invoked, the user agent
must run the following steps:</p>


   <ol>
  
    <li>
    Let <var>media session</var> be the current <a data-link-type="dfn" href="#media-session">media session</a>.
  
  
    <li>
    <a data-link-type="dfn" href="#indefinitely-pause">Indefinitely pause</a> all of <var>media session</var>’s <a data-link-type="dfn" href="#active-audio_producing-participants">active
    audio-producing participants</a>.
  
  
    <li>
    Reset <var>media session</var>’s <a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing participants</a>
    to an empty list.
  
  
    <li>
    Run the <a data-link-type="dfn" href="#media-session-release-algorithm">media session release algorithm</a> for <var>media session</var>.
  
</ol>


   <h3 class="heading settled" data-level="5.2" id="the-mediaremotecontrols-interface"><span class="secno">5.2. </span><span class="content">The <code class="idl"><a data-link-type="idl" href="#mediaremotecontrols">MediaRemoteControls</a></code>
interface</span><a class="self-link" href="#the-mediaremotecontrols-interface"></a></h3>


   <pre class="idl">interface <dfn class="idl-code" data-dfn-type="interface" data-export="" id="mediaremotecontrols">MediaRemoteControls<a class="self-link" href="#mediaremotecontrols"></a></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#interface-eventtarget">EventTarget</a> {
  attribute boolean <a class="idl-code" data-link-type="attribute" data-type="boolean " href="#dom-mediaremotecontrols-previoustrackenabled">previousTrackEnabled</a>;
  attribute boolean <a class="idl-code" data-link-type="attribute" data-type="boolean " href="#dom-mediaremotecontrols-nexttrackenabled">nextTrackEnabled</a>;
  attribute boolean <a class="idl-code" data-link-type="attribute" data-type="boolean " href="#dom-mediaremotecontrols-seekforwardenabled">seekForwardEnabled</a>;
  attribute boolean <a class="idl-code" data-link-type="attribute" data-type="boolean " href="#dom-mediaremotecontrols-seekbackwardenabled">seekBackwardEnabled</a>;

  // Event handlers
  attribute <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler " href="#dom-mediaremotecontrols-onprevioustrack">onprevioustrack</a>;
  attribute <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler " href="#dom-mediaremotecontrols-onnexttrack">onnexttrack</a>;
  attribute <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler " href="#dom-mediaremotecontrols-onseekforward">onseekforward</a>;
  attribute <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler " href="#dom-mediaremotecontrols-onseekbackward">onseekbackward</a>;
};
</pre>


   <p>Objects implementing the <code class="idl"><a data-link-type="idl" href="#mediaremotecontrols">MediaRemoteControls</a></code> interface are simply known as
<dfn data-dfn-type="dfn" data-noexport="" id="media-remote-controls">media remote controls<a class="self-link" href="#media-remote-controls"></a></dfn>.</p>


   <h4 class="heading settled" data-level="5.2.1" id="mediaremotecontrols-object-members"><span class="secno">5.2.1. </span><span class="content">Object members</span><a class="self-link" href="#mediaremotecontrols-object-members"></a></h4>


   <dl class="domintro">
  
    <dt>
    <code><var>controls</var> .
    <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-previoustrackenabled">previousTrackEnabled</a></code></code>
  
  
    <dd>
    Determines if a user can interact with a 'previous track' button.
  
  
    <dt>
    <code><var>controls</var> . <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-nexttrackenabled">nextTrackEnabled</a></code></code>
  
  
    <dd>
    Determines if a user can interact with a 'next track' button.
  
  
    <dt>
    <code><var>controls</var> .
    <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-seekforwardenabled">seekForwardEnabled</a></code></code>
  
  
    <dd>
    Determines if a user can interact with a 'seek forward' button.
  
  
    <dt>
    <code><var>controls</var> .
    <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-seekbackwardenabled">seekBackwardEnabled</a></code></code>
  
  
    <dd>
    Determines if a user can interact with a 'seek backward' button.
  
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="MediaRemoteControls" data-dfn-type="attribute" data-export="" id="dom-mediaremotecontrols-previoustrackenabled"><code>previousTrackEnabled</code><a class="self-link" href="#dom-mediaremotecontrols-previoustrackenabled"></a></dfn>
attribute is intended to provide a hint that the user agent should enable a
'previous track' button for users in all applicable hardware or software remote
control interfaces. By default, this attribute is false.</p>


   <p>The <dfn class="idl-code" data-dfn-for="MediaRemoteControls" data-dfn-type="attribute" data-export="" id="dom-mediaremotecontrols-nexttrackenabled"><code>nextTrackEnabled</code><a class="self-link" href="#dom-mediaremotecontrols-nexttrackenabled"></a></dfn>
attribute is intended to provide a hint that the user agent should enable a
'next track' button for users in all applicable hardware or software remote
control interfaces. By default, this attribute is false.</p>


   <p>The <dfn class="idl-code" data-dfn-for="MediaRemoteControls" data-dfn-type="attribute" data-export="" id="dom-mediaremotecontrols-seekbackwardenabled"><code>seekBackwardEnabled</code><a class="self-link" href="#dom-mediaremotecontrols-seekbackwardenabled"></a></dfn>
attribute is intended to provide a hint that the user agent should enable a
'seek backward' button for users in all applicable hardware or software remote
control interfaces. By default, this attribute is false.</p>


   <p>The <dfn class="idl-code" data-dfn-for="MediaRemoteControls" data-dfn-type="attribute" data-export="" id="dom-mediaremotecontrols-seekforwardenabled"><code>seekForwardEnabled</code><a class="self-link" href="#dom-mediaremotecontrols-seekforwardenabled"></a></dfn>
attribute is intended to provide a hint that the user agent should enable a
'seek forward' button for users in all applicable hardware or software remote
control interfaces. By default, this attribute is false.</p>


   <p class="note" role="note">
  While the attributes above can be set at any time they must only be read by
  the user agent during the <a data-link-type="dfn" href="#media-session-invocation-algorithm">media session invocation algorithm</a> in order
  to correctly configure any connected remote control interfaces at the point
  they become <code><a data-link-type="dfn" href="#active-media-session-state">active</a></code>.
</p>


   <p class="note" role="note">
  A user agent is not required to always implement each of these buttons
  separately in an ongoing notification area or lock screen interface. For
  example, if both <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-nexttrackenabled">nextTrackEnabled</a></code> and
  <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-seekforwardenabled">seekForwardEnabled</a></code> are set to true, the user agent may
  present a single unified button. When short-pressed this button may trigger a
  <a data-link-type="dfn" href="#event-nexttrack"><code>nexttrack</code></a> event to be fired. When
  long-pressed this same button may trigger a <a data-link-type="dfn" href="#event-seekforward"><code>seekforward</code></a> event to be fired. The exact
  notification and lock screen interfaces required to acheive this interaction
  are left up to implementers.
</p>


   <h4 class="heading settled" data-level="5.2.2" id="mediaremotecontrols-event-handlers"><span class="secno">5.2.2. </span><span class="content">Event handlers</span><a class="self-link" href="#mediaremotecontrols-event-handlers"></a></h4>


   <p>The following are the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers">event handlers</a> (and their corresponding <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type">event
handler event types</a>) that must be supported, as IDL attributes, by all
objects implementing the <code class="idl"><a data-link-type="idl" href="#mediaremotecontrols">MediaRemoteControls</a></code> interface:</p>


   <table>
  
    <thead>
    
     <tr>
      
      <th>
        <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers">Event handler</a>
      
      
      
      <th>
        <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type">Event handler event type</a>
      
      
    
     
  
  
    <tbody>
    
     <tr>
      
      <td>
        <dfn class="idl-code" data-dfn-for="MediaRemoteControls" data-dfn-type="attribute" data-export="" id="dom-mediaremotecontrols-onprevioustrack"><code>onprevioustrack</code><a class="self-link" href="#dom-mediaremotecontrols-onprevioustrack"></a></dfn>
      
      
      
      <td>
        <code><a data-link-type="dfn" href="#event-previoustrack">previoustrack</a></code>
      
      
    
     
    
     <tr>
      
      <td>
        <dfn class="idl-code" data-dfn-for="MediaRemoteControls" data-dfn-type="attribute" data-export="" id="dom-mediaremotecontrols-onnexttrack"><code>onnexttrack</code><a class="self-link" href="#dom-mediaremotecontrols-onnexttrack"></a></dfn>
      
      
      
      <td>
        <code><a data-link-type="dfn" href="#event-nexttrack">nexttrack</a></code>
      
      
    
     
    
     <tr>
      
      <td>
        <dfn class="idl-code" data-dfn-for="MediaRemoteControls" data-dfn-type="attribute" data-export="" id="dom-mediaremotecontrols-onseekbackward"><code>onseekbackward</code><a class="self-link" href="#dom-mediaremotecontrols-onseekbackward"></a></dfn>
      
      
      
      <td>
        <code><a data-link-type="dfn" href="#event-seekbackward">seekbackward</a></code>
      
      
    
     
    
     <tr>
      
      <td>
        <dfn class="idl-code" data-dfn-for="MediaRemoteControls" data-dfn-type="attribute" data-export="" id="dom-mediaremotecontrols-onseekforward"><code>onseekforward</code><a class="self-link" href="#dom-mediaremotecontrols-onseekforward"></a></dfn>
      
      
      
      <td>
        <code><a data-link-type="dfn" href="#event-seekforward">seekforward</a></code>
      
      
    
     
  
</table>


   <p>The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source">task source</a> for the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task">tasks</a> listed in this section is the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source">DOM
manipulation task source</a>.</p>


   <p><br>
When the user presses the <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/DOM-Level-3-Events-key/#key-MediaPlayPause">MediaPlayPause</a></code> media key, or an equivalent key, on
any hardware or software interface (e.g. on a keyboard or OS-level button) then
the user agent must, for each <a data-link-type="dfn" href="#media-session">media session</a> known by the user agent, run
the following steps:</p>


   <ol>
  
    <li>
    Let <var>m</var> be the <a data-link-type="dfn" href="#media-session">media session</a>.
  
  
    <li>
    If <var>m</var>’s <a data-link-type="dfn" href="#current-media-session-type">current media session type</a>
    is not <code><a data-link-type="dfn" href="#default-media-state">Default</a></code> or
    <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>; or <var>m</var>’s
    <a data-link-type="dfn" href="#current-state">current state</a> is not
    <code><a data-link-type="dfn" href="#active-media-session-state">active</a></code>, then terminate
    these steps.
  
  
    <li>
    For each <a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing participant</a> in <var>m</var>, called
    <var>active element</var>, run the following substeps:

    
     <ol>
      
      <li>
        If <var>active element</var> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-paused">paused</a>, then <a data-link-type="dfn" href="#unpause">unpause</a>
        <var>active element</var>. Otherwise, <a data-link-type="dfn" href="#pause">pause</a> <var>active
        element</var>.
      
      
    
     </ol>
     
  
</ol>


   <p><br>
When the user presses the <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/DOM-Level-3-Events-key/#key-MediaTrackPrevious">MediaTrackPrevious</a></code> media key, or an equivalent
key, on any hardware or software interface (e.g. on a keyboard or OS-level
button), then the user agent must, for each
<code><a data-link-type="dfn" href="#content-media-state">Content</a></code>-based <a data-link-type="dfn" href="#media-session">media session</a>
that is currently <code><a data-link-type="dfn" href="#active-media-session-state">active</a></code>,
has a <a data-link-type="dfn" href="#media-remote-controller">media remote controller</a> with its
<code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-previoustrackenabled">previousTrackEnabled</a></code> attribute set to true,
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">queue a task</a> to <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#fire-a-simple-event">fire a simple event</a> named <a data-link-type="dfn" href="#event-previoustrack"><code>previoustrack</code></a> at its <a data-link-type="dfn" href="#media-remote-controller">media remote
controller</a>.</p>


   <p>When the user presses the <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/DOM-Level-3-Events-key/#key-MediaTrackNext">MediaTrackNext</a></code> media key, or an equivalent key, on
any hardware or software interface (e.g. on a keyboard or OS-level button) then
the user agent must, for each <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>-based <a data-link-type="dfn" href="#media-session">media session</a> that is currently <code><a data-link-type="dfn" href="#active-media-session-state">active</a></code>, has a <a data-link-type="dfn" href="#media-remote-controller">media remote
controller</a> with its <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-nexttrackenabled">nextTrackEnabled</a></code> attribute set
to true, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">queue a task</a> to
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#fire-a-simple-event">fire a simple event</a> named <a data-link-type="dfn" href="#event-nexttrack"><code>nexttrack</code></a> at its <a data-link-type="dfn" href="#media-remote-controller">media remote controller</a>.</p>


   <p>When the user presses a 'seek backward' media key, or an equivalent key, on any
hardware or software interface (e.g. on a keyboard or OS-level button), then the
user agent must, for each <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>-based <a data-link-type="dfn" href="#media-session">media session</a> that is currently <code><a data-link-type="dfn" href="#active-media-session-state">active</a></code>, has a <a data-link-type="dfn" href="#media-remote-controller">media remote
controller</a> with its <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-seekbackwardenabled">seekBackwardEnabled</a></code> attribute
set is true, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">queue a task</a> to
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#fire-a-simple-event">fire a simple event</a> named <a data-link-type="dfn" href="#event-seekbackward"><code>seekbackward</code></a> at its <a data-link-type="dfn" href="#media-remote-controller">media remote
controller</a>.</p>


   <p>When the user presses a 'seek forward' media key, or an equivalent key, on any
hardware or software interface (e.g. on a keyboard or OS-level button), then the
user agent must, for each
<code><a data-link-type="dfn" href="#content-media-state">Content</a></code>-based <a data-link-type="dfn" href="#media-session">media session</a>
that is currently <code><a data-link-type="dfn" href="#active-media-session-state">active</a></code>,
has a <a data-link-type="dfn" href="#media-remote-controller">media remote controller</a> with its
<code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-seekforwardenabled">seekForwardEnabled</a></code> attribute set to true,
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">queue a task</a> to
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#fire-a-simple-event">fire a simple event</a> named <a data-link-type="dfn" href="#event-seekforward"><code>seekforward</code></a> at its <a data-link-type="dfn" href="#media-remote-controller">media remote controller</a>.</p>


   <h4 class="heading settled" data-level="5.2.3" id="mediaremotecontrols-events-summary"><span class="secno">5.2.3. </span><span class="content">Events summary</span><a class="self-link" href="#mediaremotecontrols-events-summary"></a></h4>


   <p><em>This section is non-normative.</em></p>


   <p>The following events fire on <a data-link-type="dfn" href="#media-remote-controller">media remote controllers</a> as part of the
processing model described above:</p>


   <table>
  
    <thead>
    
     <tr>
      
      <th>
        Event name
      
      
      
      <th>
        Interface
      
      
      
      <th>
        Fired when...
      
      
      
      <th>
        Preconditions
      
      
    
     
  
  
    <tbody>
    
     <tr>
      
      <td>
        <dfn data-dfn-type="dfn" data-lt="event previoustrack" data-noexport="" id="event-previoustrack"><code>previoustrack</code><a class="self-link" href="#event-previoustrack"></a></dfn>
      
      
      
      <td>
        <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#interface-event">Event</a></code>
      
      
      
      <td>
        The user presses the 'previous track' media key or button on any
        hardware or software media interface.
      
      
      
      <td>
        <a data-link-type="dfn" href="#current-media-session-type">current media session type</a> is <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>, <a data-link-type="dfn" href="#current-state">current state</a> is <code><a data-link-type="dfn" href="#active-media-session-state">active</a></code> and
        <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-previoustrackenabled">previousTrackEnabled</a></code> is true.
      
      
    
     
    
     <tr>
      
      <td>
        <dfn data-dfn-type="dfn" data-lt="event nexttrack" data-noexport="" id="event-nexttrack"><code>nexttrack</code><a class="self-link" href="#event-nexttrack"></a></dfn>
      
      
      
      <td>
        <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#interface-event">Event</a></code>
      
      
      
      <td>
        The user presses the 'next track' media key or button on any hardware or
        software media interface.
      
      
      
      <td>
        <a data-link-type="dfn" href="#current-media-session-type">current media session type</a> is <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>, <a data-link-type="dfn" href="#current-state">current state</a> is <code><a data-link-type="dfn" href="#active-media-session-state">active</a></code> and
        <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-nexttrackenabled">nextTrackEnabled</a></code> is true.
      
      
    
     
    
     <tr>
      
      <td>
        <dfn data-dfn-type="dfn" data-lt="event seekbackward" data-noexport="" id="event-seekbackward"><code>seekbackward</code><a class="self-link" href="#event-seekbackward"></a></dfn>
      
      
      
      <td>
        <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#interface-event">Event</a></code>
      
      
      
      <td>
        The user presses the 'seek backward' media key or button on any hardware
        or software media interface.
      
      
      
      <td>
        <a data-link-type="dfn" href="#current-media-session-type">current media session type</a> is <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>, <a data-link-type="dfn" href="#current-state">current state</a> is <code><a data-link-type="dfn" href="#active-media-session-state">active</a></code> and
        <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-seekbackwardenabled">seekBackwardEnabled</a></code> is true.
      
      
    
     
    
     <tr>
      
      <td>
        <dfn data-dfn-type="dfn" data-lt="event seekforward" data-noexport="" id="event-seekforward"><code>seekforward</code><a class="self-link" href="#event-seekforward"></a></dfn>
      
      
      
      <td>
        <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#interface-event">Event</a></code>
      
      
      
      <td>
        The user presses the 'seek forward' media key or button on any hardware
        or software media interface.
      
      
      
      <td>
        <a data-link-type="dfn" href="#current-media-session-type">current media session type</a> is <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>, <a data-link-type="dfn" href="#current-state">current state</a> is <code><a data-link-type="dfn" href="#active-media-session-state">active</a></code> and
        <code class="idl"><a data-link-type="idl" href="#dom-mediaremotecontrols-seekforwardenabled">seekForwardEnabled</a></code> is true.
      
      
    
     
  
</table>


   <h2 class="heading settled" data-level="6" id="media-element-extensions"><span class="secno">6. </span><span class="content">Media element extensions</span><a class="self-link" href="#media-element-extensions"></a></h2>


   <p>This section describes how a web developer can assign a <a data-link-type="dfn" href="#media-session">media session</a> to
a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> both declaratively and programmatically and how, once
attached, the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> can control state of a <a data-link-type="dfn" href="#media-session">media session</a>.</p>


   <p>A <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> may have a <dfn data-dfn-type="dfn" data-noexport="" id="current-media-session">current media session<a class="self-link" href="#current-media-session"></a></dfn>, which is a
<a data-link-type="dfn" href="#media-session">media session</a>. When a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> is created, the user agent
must set its <a data-link-type="dfn" href="#current-media-session">current media session</a> to the current <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level browsing
context</a>’s <a data-link-type="dfn" href="#media-session">media session</a>.</p>


   <p>A <a data-link-type="dfn" href="#media-session">media session</a>’s <dfn data-dfn-type="dfn" data-noexport="" id="participating-media-elements">participating media elements<a class="self-link" href="#participating-media-elements"></a></dfn> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media
elements</a> whose <a data-link-type="dfn" href="#current-media-session">current media session</a> is that <a data-link-type="dfn" href="#media-session">media session</a>.</p>


   <h3 class="heading settled" data-level="6.1" id="extensions-to-the-htmlmediaelement-interface"><span class="secno">6.1. </span><span class="content">Extensions to the
<code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#htmlmediaelement">HTMLMediaElement</a></code> interface</span><a class="self-link" href="#extensions-to-the-htmlmediaelement-interface"></a></h3>


   <pre class="idl">partial interface <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/embedded-content.html#htmlmediaelement">HTMLMediaElement</a> {
  // media session
  attribute DOMString <a class="idl-code" data-link-type="attribute" data-type="DOMString " href="#dom-htmlmediaelement-kind">kind</a>;
  attribute <a data-link-type="idl-name" href="#mediasession">MediaSession</a>? <a class="idl-code" data-link-type="attribute" data-type="MediaSession? " href="#dom-htmlmediaelement-session">session</a>;
};
</pre>


   <dl class="domintro">
  
    <dt>
    <code><var>media</var> . <code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-kind">kind</a></code></code>
  
  
    <dd>
    Returns the category the given media falls into. The <a data-link-type="dfn" href="#media-session-category">possible media categories</a> are defined above.


     <p>Setting, changing or removing this attribute updates the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media
    element</a>’s <code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-session">session</a></code> attribute.</p>
     
  
  
    <dt>
    <code><var>media</var> . <code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-session">session</a></code></code> [ = <code>
    session</code> ]
  
  
    <dd>
    Returns the <a data-link-type="dfn" href="#current-media-session">current media session</a> for the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>, if
    any; returns null otherwise.


     <p>Can be set, to set an explicit <code class="idl"><a data-link-type="idl" href="#mediasession">MediaSession</a></code>. Doing so updates the
    <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>’s <code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-kind">kind</a></code> attribute.</p>
     
  
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="HTMLMediaElement" data-dfn-type="attribute" data-export="" id="dom-htmlmediaelement-kind"><code>kind</code><a class="self-link" href="#dom-htmlmediaelement-kind"></a></dfn> IDL
attribute is intended to provide a hint to the user agent about what the author
thinks will lead to the best user experience for media playback. The attribute
may be ignored altogether, for example based on explicit user preferences or
based on the capabilities of the underlying platform.</p>


   <p>The <code><code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-kind">kind</a></code></code> attribute must
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#reflect">reflect</a> the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#video">video</a></code> and <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a></code> element content attribute of the same name, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#limited-to-only-known-values">limited
to only known values</a>.</p>


   <p>When a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>’s <code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-kind">kind</a></code> attribute is set,
changed, or removed the user agent must <a data-link-type="dfn" href="#update-media-elements-media-session">update media element’s media
session</a> for <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>.</p>


   <p>A <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>’s <code><code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-kind">kind</a></code></code> attribute can be
changed at any time even once a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#potentially-playing">potentially
playing</a>; but it is only read by the user agent at the time that it is set,
changed or removed. Thus, setting, changing, or removing the
<code><code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-kind">kind</a></code></code> attribute once a
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#potentially-playing">potentially playing</a> does not dynamically change
the <a data-link-type="dfn" href="#media-session">media session</a> to which the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> belongs until the
<a data-link-type="dfn" href="#media-session-invocation-algorithm">media session invocation algorithm</a> is subsequently re-run.</p>


   <p>The <dfn class="idl-code" data-dfn-for="HTMLMediaElement" data-dfn-type="attribute" data-export="" id="dom-htmlmediaelement-session"><code>session</code><a class="self-link" href="#dom-htmlmediaelement-session"></a></dfn> attribute on a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>, on
getting, must return the element’s <a data-link-type="dfn" href="#current-media-session">current media session</a>, if any, or null
otherwise. On setting, the user agent must run the following steps:</p>


   <ol>
  
    <li>
    Let <var>m</var> be the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> in question.
  
  
    <li>
    Let <var>old media session</var> be <var>m</var>’s <a data-link-type="dfn" href="#current-media-session">current media
    session</a>, if it has one, and null otherwise.
  
  
    <li>
    Let <var>new media session</var> be null.
  
  
    <li>
    Set <var>m</var>’s <a data-link-type="dfn" href="#current-media-session">current media session</a> to null, if it currently has
    one.
  
  
    <li>
    Let <var>m</var>’s <a data-link-type="dfn" href="#current-media-session">current media session</a> be the new value or the
    <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level browsing context</a>’s <a data-link-type="dfn" href="#media-session">media session</a> if the new value is
    null.
  
  
    <li>
    If the new value is null, then set the <var>m</var>’s
    <code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-kind">kind</a></code> IDL attribute to the empty string. Otherwise, set
    <var>m</var>’s <code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-kind">kind</a></code> IDL attribute to the value of
    <a data-link-type="dfn" href="#current-media-session">current media session</a>’s <code class="idl"><a data-link-type="idl" href="#dom-mediasession-kind">kind</a></code> attribute.
  
  
    <li>
    Let <var>new media session</var> be <var>m</var>’s <a data-link-type="dfn" href="#current-media-session">current media
    session</a>.
  
  
    <li>
    <var>Update media sessions</var>: If <var>old media session</var> and
    <var>new media session</var> are the same (whether both null or both the
    same <a data-link-type="dfn" href="#media-session">media session</a>), then terminate these steps.
  
  
    <li>
    If <var>m</var> is an <a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing participant</a> of
    <var>old media session</var>, then <a data-link-type="dfn" href="#pause">pause</a> <var>m</var> and remove
    <var>m</var>
    from <var>old media session</var>’s <a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing
    participants</a>.
  
  
    <li>
    If <var>old media session</var> is not null and no longer has one or more
    <a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing participants</a>, then run the <a data-link-type="dfn" href="#media-session-release-algorithm">media session
    release algorithm</a> for <var>old media session</var>.
  
</ol>


   <h3 class="heading settled" data-level="6.2" id="assigning-a-media-session-declaratively"><span class="secno">6.2. </span><span class="content">Assigning a media session
declaratively</span><a class="self-link" href="#assigning-a-media-session-declaratively"></a></h3>


   <p>The <dfn data-dfn-type="dfn" data-lt="kind content attribute" data-noexport="" id="kind-content-attribute"><code>kind</code><a class="self-link" href="#kind-content-attribute"></a></dfn> content attribute
on <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media elements</a> is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#enumerated-attribute">enumerated attribute</a>
and must return the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>’s <a data-link-type="dfn" href="#media-session-category">media session category</a>, if it
has one, or the empty string otherwise.</p>


   <p>When a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> is created with a <code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-kind">kind</a></code> content
attribute, then the user agent must <a data-link-type="dfn" href="#update-media-elements-media-session">update media element’s media session</a>,
for <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>.</p>


   <p>When the user agent is to <dfn data-dfn-type="dfn" data-noexport="" id="update-media-elements-media-session">update media element’s media session<a class="self-link" href="#update-media-elements-media-session"></a></dfn> for a
given <var>media element</var> it must run the following steps:</p>


   <ol>
  
    <li>
    Let <var>media session type</var> be the <var>media element</var>’s
    <code class="idl"><a data-link-type="idl" href="#dom-mediasession-kind">kind</a></code> attribute’s corresponding <a data-link-type="dfn" href="#media-session-type">media session type</a> as
    defined in the list of
    <a href="#valid-media-categories">possible media session categories</a>. If
    no known category match is found, let <var>media session type</var> be
    <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>.
  
  
    <li>
    Let <var>media session</var> be null.
  
  
    <li>
    If <var>media session type</var> is <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>, then set <var>media session</var> to the current
    <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level browsing context</a>’s <a data-link-type="dfn" href="#media-session">media session</a> and set
    <var>media element</var>’s <a data-link-type="dfn" href="#current-media-session">current media session</a> to this <a data-link-type="dfn" href="#media-session">media
    session</a>. Otherwise, if <var>media session type</var> is the same as
    <var>media element</var>’s <a data-link-type="dfn" href="#current-media-session-type">current media session type</a>, then set
    <var>media session</var> to
    <var>media element</var>’s <a data-link-type="dfn" href="#current-media-session">current media session</a>. Otherwise, set
    <var>media session</var> the result of invoking the <code class="idl"><a data-link-type="idl" href="#dom-mediasession-mediasession">MediaSession(kind)</a></code>
    constructor passing in the corresponding <a data-link-type="dfn" href="#media-session-category">media session category</a> value
    of <var>media session type</var> as its <var>kind</var>.
  
  
    <li>
    If <var>media session type</var> is <code><a data-link-type="dfn" href="#default-media-state">Default</a></code>, then set <var>media element</var>’s
    <code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-session">session</a></code> attribute to null.
    
     <p class="note" role="note">
      <code><a data-link-type="dfn" href="#default-media-state">Default</a></code> <a data-link-type="dfn" href="#media-session">media sessions</a>
      do not expose a <code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-session">session</a></code> attribute but may still
      maintain an internal <a data-link-type="dfn" href="#current-media-session">current media session</a> reference.
    </p>
     
  
</ol>


   <h4 class="heading settled" data-level="6.2.1" id="extensions-to-the-video-element"><span class="secno">6.2.1. </span><span class="content">Extensions to the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#video">video</a></code> element</span><a class="self-link" href="#extensions-to-the-video-element"></a></h4>


   <dl class="element">
  
    <dt>
    Additional content attributes:
  
  
    <dd>
    <a data-link-type="dfn" href="#kind-content-attribute"><code>kind</code></a> — The type of video
  
</dl>


   <div class="example" id="example-52af20c3"><a class="self-link" href="#example-52af20c3"></a>
  A <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#video">video</a></code> element’s <code><a data-link-type="dfn" href="#kind-content-attribute">kind</a></code> content attribute can be declared as follows HTML:

  
    <pre class="lang-markup highlight"><span class="nt">&lt;video</span> <span class="na">src=</span><span class="s">"short_ping.webm"</span> <span class="na">kind=</span><span class="s">"transient"</span><span class="nt">></span></pre>
</div>


   <h4 class="heading settled" data-level="6.2.2" id="extensions-to-the-audio-element"><span class="secno">6.2.2. </span><span class="content">Extensions to the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a></code> element</span><a class="self-link" href="#extensions-to-the-audio-element"></a></h4>


   <dl class="element">
  
    <dt>
    Additional content attributes:
  
  
    <dd>
    <a data-link-type="dfn" href="#kind-content-attribute"><code>kind</code></a> — The type of audio
  
</dl>


   <div class="example" id="example-623b50f0"><a class="self-link" href="#example-623b50f0"></a>
  An <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a></code> element’s <code><a data-link-type="dfn" href="#kind-content-attribute">kind</a></code> content attribute can be declared as follows in
  HTML:

  
    <pre class="lang-markup highlight"><span class="nt">&lt;audio</span> <span class="na">src=</span><span class="s">"track1.ogg"</span> <span class="na">kind=</span><span class="s">"content"</span><span class="nt">></span></pre>
</div>


   <h3 class="heading settled" data-level="6.3" id="media-elements-and-the-media-session-lifecycle"><span class="secno">6.3. </span><span class="content">Media elements and the
media session lifecycle</span><a class="self-link" href="#media-elements-and-the-media-session-lifecycle"></a></h3>


   <h4 class="heading settled" data-level="6.3.1" id="activating-a-media-session-from-a-media-element"><span class="secno">6.3.1. </span><span class="content">Activating a media
session from a media element</span><a class="self-link" href="#activating-a-media-session-from-a-media-element"></a></h4>




   <p>When the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-play">play()</a></code> method on a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> is invoked and the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media
element</a>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-paused">paused</a></code> attribute is true and the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>’s
<code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-readystate">readyState</a></code> attribute has the value <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-have_future_data">HAVE_FUTURE_DATA</a></code> or
<code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-have_enough_data">HAVE_ENOUGH_DATA</a></code>, then the user agent must run the following steps passing
in <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> <var>media element</var>:</p>


   <ol>
  
    <li>
    Let <var>media session</var> be the value of <var>media element</var>’s
    <a data-link-type="dfn" href="#current-media-session">current media session</a>.
  
  
    <li>
    If <var>media element</var> is not currently in <var>media session</var>’s
    list of <a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing participants</a>, then append
    <var>media element</var> to this list.
  
  
    <li>
    Let <var>activated</var> be the result of running the <a data-link-type="dfn" href="#media-session-invocation-algorithm">media session
    invocation algorithm</a> for <var>media session</var>.
  
  
    <li>
    If <var>activated</var> is failure, <a data-link-type="dfn" href="#pause">pause</a> <var>current media
    element</var>.
  
</ol>



   <h4 class="heading settled" data-level="6.3.2" id="interrupting-a-media-session-from-a-media-element"><span class="secno">6.3.2. </span><span class="content">Interrupting a media
session from a media element</span><a class="self-link" href="#interrupting-a-media-session-from-a-media-element"></a></h4>


   <p>When the user agent is to <dfn data-dfn-type="dfn" data-noexport="" id="pause-a-media-element">pause a media element<a class="self-link" href="#pause-a-media-element"></a></dfn> for a given a
<var>media element</var> it must run that <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#internal-pause-steps">internal
pause steps</a>.</p>



After the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-pause">pause()</a></code> method on a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> has been invoked and that
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> has a <a data-link-type="dfn" href="#current-media-session-type">current media session type</a> set to
<code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code> or <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code>, then the user agent
must run the <a data-link-type="dfn" href="#media-session-continuation-algorithm">media session continuation algorithm</a> against all known
<a data-link-type="dfn" href="#media-session">media sessions</a>, passing in each <a data-link-type="dfn" href="#media-session">media session</a> as <var>media
session</var>. Then, for the original <a data-link-type="dfn" href="#indefinitely-pause">indefinitely
paused</a> <a data-link-type="dfn" href="#media-session">media session</a>, the user agent must immediately run the
<a data-link-type="dfn" href="#media-session-release-algorithm">media session release algorithm</a> for its <a data-link-type="dfn" href="#current-media-session">current media session</a>.


   <div class="note" role="note">
  This prevents <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code> or
  <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code>-based
  <a data-link-type="dfn" href="#media-session">media sessions</a> from indefinitely blocking the continuation of other
  <code><a data-link-type="dfn" href="#interrupted-media-session-state">interrupted</a></code> <a data-link-type="dfn" href="#media-session">media
  sessions</a> when they are indefinitely paused.


    <p>After we have completed this process, the original <code><a data-link-type="dfn" href="#transient-media-state">Transient</a></code> or
  <code><a data-link-type="dfn" href="#transient-solo-media-state">Transient Solo</a></code>-based
  <a data-link-type="dfn" href="#media-session">media session</a> will have a <a data-link-type="dfn" href="#current-state">current state</a> of <code><a data-link-type="dfn" href="#idle-media-session-state">idle</a></code> and all <code><a data-link-type="dfn" href="#interrupted-media-session-state">interrupted</a></code> <a data-link-type="dfn" href="#media-session">media sessions</a>
  will have returned to a <a data-link-type="dfn" href="#current-state">current state</a> of <code><a data-link-type="dfn" href="#active-media-session-state">active</a></code>.</p>
</div>


   <p>When the user agent is to <dfn data-dfn-type="dfn" data-noexport="" id="unpause-a-media-element">unpause a media element<a class="self-link" href="#unpause-a-media-element"></a></dfn> for a given a
<var>media element</var> it must invoke that <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-play">play()</a></code>
method.</p>


   <h4 class="heading settled" data-level="6.3.3" id="releasing-a-media-session-from-a-media-element"><span class="secno">6.3.3. </span><span class="content">Releasing a media
session from a media element</span><a class="self-link" href="#releasing-a-media-session-from-a-media-element"></a></h4>


   <p>When a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#ended-playback">playback has ended</a>, the
user agent must <a data-link-type="dfn" href="#release-media-element-from-its-media-session">release media element from its media session</a>.</p>


   <p>Any time a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element-load-algorithm">load
algorithm</a> is run by the user agent, it must <a data-link-type="dfn" href="#release-media-element-from-its-media-session">release media element from
its media session</a>.</p>


   <p>When a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#remove-an-element-from-a-document">removed
from a <code>Document</code></a> and is not attached to another <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dom.html#document">Document</a></code>,
then <a data-link-type="dfn" href="#release-media-element-from-its-media-session">release media element from its media session</a>.</p>


   <p>When the user agent is to <dfn data-dfn-type="dfn" data-noexport="" id="release-media-element-from-its-media-session">release media element from its media
session<a class="self-link" href="#release-media-element-from-its-media-session"></a></dfn> for a given <var>media element</var> it must run the following
steps:</p>


   <ol>
  
    <li>
    Let <var>media session</var> be the value of <var>media element</var>’s
    <a data-link-type="dfn" href="#current-media-session">current media session</a>.
  
  
    <li>
    If <var>media element</var> is not currently in <var>media session</var>’s
    list of <a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing participants</a>, then terminate these
    steps.
  
  
    <li>
    Remove <var>media element</var> from <var>media session</var>’s list of
    <a data-link-type="dfn" href="#active-audio_producing-participants">active audio-producing participants</a>.
  
  
    <li>
    Run the <a data-link-type="dfn" href="#media-session-release-algorithm">media session release algorithm</a> for <var>media session</var>.
  
</ol>


   <h3 class="heading settled" data-level="6.4" id="examples"><span class="secno">6.4. </span><span class="content">Examples</span><a class="self-link" href="#examples"></a></h3>


   <p><em>This section and all its subsections are non-normative.</em></p>


   <h4 class="heading settled" data-level="6.4.1" id="example-setting-up-a-media-session"><span class="secno">6.4.1. </span><span class="content">Setting up a media session</span><a class="self-link" href="#example-setting-up-a-media-session"></a></h4>


   <p>An <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a></code> element’s <code><a data-link-type="dfn" href="#kind-content-attribute">kind</a></code> content attribute can be declared as follows in HTML
to associate that <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a></code> element to a <a data-link-type="dfn" href="#media-session">media
session</a>:</p>


   <pre class="lang-markup highlight"><span class="nt">&lt;audio</span> <span class="na">src=</span><span class="s">track1.mp3</span> <span class="na">kind=</span><span class="s">content</span> <span class="na">autoplay</span><span class="nt">></span></pre>


   <p>As both <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a></code> and <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#video">video</a></code>
elements implement the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#htmlmediaelement">HTMLMediaElement</a></code> interface, these element’s
<code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-kind">kind</a></code> attribute can also be set via JavaScript to associate
that <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a></code> or <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#video">video</a></code>
element to a <a data-link-type="dfn" href="#media-session">media session</a>:</p>


   <pre class="lang-javascript highlight"><span class="kd">var</span> <span class="nx">myAudio</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"audio"</span><span class="p">);</span>
<span class="nx">myAudio</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s2">"music.mp3"</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myAudio</span><span class="p">.</span><span class="nx">session</span><span class="p">)</span> <span class="c1">// --> null</span>
<span class="nx">myAudio</span><span class="p">.</span><span class="nx">kind</span> <span class="o">=</span> <span class="s2">"content"</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myAudio</span><span class="p">.</span><span class="nx">session</span><span class="p">)</span> <span class="c1">// --> [object MediaSession]</span>

<span class="nx">myAudio</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span> <span class="c1">// Go!</span></pre>


   <p>A <a data-link-type="dfn" href="#media-session">media session</a> can also be assigned to one or more <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a></code> and <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#video">video</a></code>
elements by setting their respective <code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-session">session</a></code> attributes to
the same <code class="idl"><a data-link-type="idl" href="#mediasession">MediaSession</a></code> object in JavaScript:</p>


   <pre class="lang-javascript highlight"><span class="kd">var</span> <span class="nx">myAudio</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"audio"</span><span class="p">);</span>
<span class="nx">myAudio</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s2">"track1_audio.mp3"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">myVideo</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"audio"</span><span class="p">);</span>
<span class="nx">myVideo</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s2">"track1_video.mp3"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">mySession</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MediaSession</span><span class="p">();</span>

<span class="nx">myAudio</span><span class="p">.</span><span class="nx">session</span> <span class="o">=</span> <span class="nx">mySession</span><span class="p">;</span>
<span class="nx">myVideo</span><span class="p">.</span><span class="nx">session</span> <span class="o">=</span> <span class="nx">mySession</span><span class="p">;</span>

<span class="nx">myAudio</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span> <span class="c1">// Go!</span>
<span class="nx">myVideo</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span> <span class="c1">// Go!</span></pre>


   <p>An <code class="idl"><a data-link-type="idl" href="https://webaudio.github.io/web-audio-api/#audiocontext">AudioContext</a></code> object <a data-link-type="biblio" href="#biblio-webaudio">[WEBAUDIO]</a> can be rendered via <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a></code> or <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#video">video</a></code>
elements. As both <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a></code> and <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#video">video</a></code>
elements implement the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#htmlmediaelement">HTMLMediaElement</a></code> interface, these element’s
<code class="idl"><a data-link-type="idl" href="#dom-htmlmediaelement-kind">kind</a></code> attribute can be set via JavaScript:</p>


   <pre class="lang-javascript highlight"><span class="kd">var</span> <span class="nx">audioCtx</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AudioContext</span><span class="p">();</span>
<span class="c1">// ...</span>
<span class="kd">var</span> <span class="nx">destinationNode</span> <span class="o">=</span> <span class="nx">audioCtx</span><span class="p">.</span><span class="nx">createMediaStreamDestination</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">myAudio</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"audio"</span><span class="p">);</span>
<span class="nx">myAudio</span><span class="p">.</span><span class="nx">srcObject</span> <span class="o">=</span> <span class="nx">destinationNode</span><span class="p">.</span><span class="nx">stream</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myAudio</span><span class="p">.</span><span class="nx">session</span><span class="p">)</span> <span class="c1">// --> null</span>
<span class="nx">myAudio</span><span class="p">.</span><span class="nx">kind</span> <span class="o">=</span> <span class="s2">"transient-solo"</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myAudio</span><span class="p">.</span><span class="nx">session</span><span class="p">)</span> <span class="c1">// --> [object MediaSession]</span>

<span class="nx">myAudio</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span> <span class="c1">// Go!</span></pre>


   <p class="note" role="note">
  Web developers should ensure that, when an <code class="idl"><a data-link-type="idl" href="https://webaudio.github.io/web-audio-api/#audiocontext">AudioContext</a></code> object is attached
  to an <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a></code> or <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#video">video</a></code>
  element, that they apply subsequent <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-pause">pause</a></code> and <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-play">play</a></code> events dispatched
  on that <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a></code> or <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#video">video</a></code>
  element to their <code class="idl"><a data-link-type="idl" href="https://webaudio.github.io/web-audio-api/#audiocontext">AudioContext</a></code> object appropriately.
</p>


   <h4 class="heading settled" data-level="6.4.2" id="example-setting-media-session-meta-data"><span class="secno">6.4.2. </span><span class="content">Setting media session meta
data</span><a class="self-link" href="#example-setting-media-session-meta-data"></a></h4>


   <p>When a <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>-based <a data-link-type="dfn" href="#media-session">media
session</a> is <code><a data-link-type="dfn" href="#active-media-session-state">active</a></code> it may
be possible to display meta data within platform-level interfaces. Media session
meta data can be added at any time to update these interfaces:</p>


   <pre class="lang-javascript highlight"><span class="c1">// Set some media session metadata</span>
<span class="c1">// to display to the user</span>
<span class="nx">mySession</span><span class="p">.</span><span class="nx">setMetadata</span><span class="p">({</span>
  <span class="nx">title</span><span class="o">:</span> <span class="s2">"Demo Track 1"</span><span class="p">,</span>
  <span class="nx">artwork</span><span class="o">:</span> <span class="s2">"/resources/cover1.png"</span>
<span class="p">});</span>

<span class="c1">// ... time passes ...</span>

<span class="c1">// Change the media session metadata</span>
<span class="c1">// to display to the user</span>
<span class="nx">mySession</span><span class="p">.</span><span class="nx">setMetadata</span><span class="p">({</span>
  <span class="nx">title</span><span class="o">:</span> <span class="s2">"Demo Track 2"</span><span class="p">,</span>
  <span class="nx">artwork</span><span class="o">:</span> <span class="s2">"/resources/cover2.png"</span>
<span class="p">});</span></pre>


   <h4 class="heading settled" data-level="6.4.3" id="example-responding-to-media-remote-control-events"><span class="secno">6.4.3. </span><span class="content">Responding to media
remote control events</span><a class="self-link" href="#example-responding-to-media-remote-control-events"></a></h4>


   <p>Before a <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>-based <a data-link-type="dfn" href="#media-session">media
session</a> becomes <code><a data-link-type="dfn" href="#active-media-session-state">active</a></code> a
web developer must set which remote control keys they want to enable:</p>


   <pre class="lang-javascript highlight"><span class="kd">var</span> <span class="nx">mySession</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MediaSession</span><span class="p">(</span><span class="s2">"content"</span><span class="p">);</span>

<span class="c1">// Enable previous and next track media key inputs</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">mySession</span><span class="p">.</span><span class="nx">controls</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">mySession</span><span class="p">.</span><span class="nx">controls</span><span class="p">.</span><span class="nx">nextTrackEnabled</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="nx">mySession</span><span class="p">.</span><span class="nx">controls</span><span class="p">.</span><span class="nx">previousTrackEnabled</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ... assign media session to a media element and play</span>
<span class="c1">// that media element to activate the media session ...</span></pre>


   <p>When a <code><a data-link-type="dfn" href="#content-media-state">Content</a></code>-based <a data-link-type="dfn" href="#media-session">media
session</a> then becomes <code><a data-link-type="dfn" href="#active-media-session-state">active</a></code> it is possible to listen for any interaction with the
registered remote control keys and respond appropriately to those inputs in a
web application:</p>


   <pre class="lang-javascript highlight"><span class="c1">// Respond to previous and next track media key inputs</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">mySession</span><span class="p">.</span><span class="nx">controls</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">mySession</span><span class="p">.</span><span class="nx">controls</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'nexttrack'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Play next track</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">myAudio</span><span class="p">.</span><span class="nx">src</span> <span class="o">===</span> <span class="s2">"track1.mp3"</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">myAudio</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s2">"track2.mp3"</span><span class="p">;</span>
      <span class="nx">myAudio</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>

      <span class="c1">// Set appropriate meta data for track 2</span>
      <span class="nx">mySession</span><span class="p">.</span><span class="nx">setMetadata</span><span class="p">({</span>
        <span class="nx">title</span><span class="o">:</span> <span class="s2">"Demo Track 2"</span><span class="p">,</span>
        <span class="nx">artwork</span><span class="o">:</span> <span class="s2">"/resources/cover2.png"</span>
      <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">},</span> <span class="kc">false</span><span class="p">);</span>

  <span class="nx">mySession</span><span class="p">.</span><span class="nx">controls</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'previoustrack'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Play previous track</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">myAudio</span><span class="p">.</span><span class="nx">src</span> <span class="o">===</span> <span class="s2">"track2.mp3"</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">myAudio</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s2">"track1.mp3"</span><span class="p">;</span>
      <span class="nx">myAudio</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>

      <span class="c1">// Set appropriate meta data for track 1</span>
      <span class="nx">mySession</span><span class="p">.</span><span class="nx">setMetadata</span><span class="p">({</span>
        <span class="nx">title</span><span class="o">:</span> <span class="s2">"Demo Track 1"</span><span class="p">,</span>
        <span class="nx">artwork</span><span class="o">:</span> <span class="s2">"/resources/cover1.png"</span>
      <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">},</span> <span class="kc">false</span><span class="p">);</span>
<span class="p">}</span></pre>


   <h2 class="no-num heading settled" id="acknowledgments"><span class="content">Acknowledgments</span><a class="self-link" href="#acknowledgments"></a></h2>


   <p>The editor would like to thank Paul Adenot, Jake Archibald, Tab Atkins, Jonathan
Bailey, Marcos Caceres, Domenic Denicola, Ralph Giles, Anne van Kesteren, Tobie
Langel, Michael Mahemoff, Jer Noble, Elliott Sprehn, Chris Wilson, and Jörn
Zaefferer for their participation in technical discussions that ultimately made
this specification possible.</p>


   <p>Special thanks go to Philip Jägenstedt and David Vest for their help in
designing every aspect of media sessions and for their seemingly infinite
patience in working through the initial design issues; Jer Noble for his help in
building a model that also works well within the iOS audio focus model; and
Mounir Lamouri and Anton Vayvod for their early involvement, feedback and
support in making this specification happen.</p>


   <p>This standard is written by Rich Tibbett (<a href="http://www.opera.com">Opera</a>, <a href="mailto:richt@opera.com">richt@opera.com</a>).</p>


   <p>Per <a href="https://creativecommons.org/publicdomain/zero/1.0/" rel="license">CC0</a>, to the extent
possible under law, the editors have waived all copyright and related or
neighboring rights to this work.</p>


   <script id="head" src="https://resources.whatwg.org/dfn.js"></script>

</main>
  


  <h2 class="no-num heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="indexlist">
   <li>active audio-producing
participants, <a href="#active-audio_producing-participants">4.3</a>
   <li>active media session state, <a href="#active-media-session-state">4.1</a>
   <li>album, <a href="#dom-mediametadata-album">5.1</a>
   <li>album name, <a href="#album-name">4</a>
   <li>ambient attribute value, <a href="#ambient-attribute-value">4.2</a>
   <li>ambient media state, <a href="#ambient-media-state">4.2</a>
   <li>artist, <a href="#dom-mediametadata-artist">5.1</a>
   <li>artist name, <a href="#artist-name">4</a>
   <li>artwork, <a href="#dom-mediametadata-artwork">5.1</a>
   <li>artwork resource, <a href="#artwork-resource">4</a>
   <li>artwork URL, <a href="#artwork-url">4</a>
   <li>audio-producing object, <a href="#audio_producing-object">4.3</a>
   <li>audio-producing participants, <a href="#audio_producing-participants">4.3</a>
   <li>content attribute value, <a href="#content-attribute-value">4.2</a>
   <li>content media state, <a href="#content-media-state">4.2</a>
   <li>controls, <a href="#dom-mediasession-controls">5.1.3</a>
   <li>create a media session, <a href="#create-a-media-session">4</a>
   <li>current media session, <a href="#current-media-session">6</a>
   <li>current media session type, <a href="#current-media-session-type">4.2</a>
   <li>current state, <a href="#current-state">4.1</a>
   <li>default media state, <a href="#default-media-state">4.2</a>
   <li>duck, <a href="#duck">4.3</a>
   <li>event nexttrack, <a href="#event-nexttrack">5.2.3</a>
   <li>event previoustrack, <a href="#event-previoustrack">5.2.3</a>
   <li>event seekbackward, <a href="#event-seekbackward">5.2.3</a>
   <li>event seekforward, <a href="#event-seekforward">5.2.3</a>
   <li>fetch steps, <a href="#fetch-steps">4.4</a>
   <li>idle media session state, <a href="#idle-media-session-state">4.1</a>
   <li>indefinitely pause, <a href="#indefinitely-pause">4.3</a>
   <li>interrupted media session state, <a href="#interrupted-media-session-state">4.1</a>
   <li>kind
    <ul>
     <li>argument for MediaSession/MediaSession(kind), <a href="#dom-mediasession-mediasession-kind-kind">5.1</a>
     <li>attribute for MediaSession, <a href="#dom-mediasession-kind">5.1.3</a>
     <li>attribute for HTMLMediaElement, <a href="#dom-htmlmediaelement-kind">6.1</a>
    </ul>
   <li>kind content attribute, <a href="#kind-content-attribute">6.2</a>
   <li>MediaMetadata, <a href="#dictdef-mediametadata">5.1</a>
   <li>media remote controller, <a href="#media-remote-controller">4</a>
   <li>MediaRemoteControls, <a href="#mediaremotecontrols">5.2</a>
   <li>media remote controls, <a href="#media-remote-controls">5.2</a>
   <li>media session, <a href="#media-session">4</a>
   <li>MediaSession, <a href="#mediasession">5.1</a>
   <li>media session category, <a href="#media-session-category">4.2</a>
   <li>media session continuation algorithm, <a href="#media-session-continuation-algorithm">4.5.2</a>
   <li>media session interruption algorithm, <a href="#media-session-interruption-algorithm">4.5.2</a>
   <li>media session invocation algorithm, <a href="#media-session-invocation-algorithm">4.5.1</a>
   <li>MediaSessionKind, <a href="#enumdef-mediasessionkind">5.1</a>
   <li>MediaSession(kind), <a href="#dom-mediasession-mediasession">5.1.2</a>
   <li>media session metadata, <a href="#media-session-metadata">4</a>
   <li>media session release algorithm, <a href="#media-session-release-algorithm">4.5.3</a>
   <li>media session
type, <a href="#media-session-type">4.2</a>
   <li>metadata, <a href="#dom-mediasession-setmetadata-metadata-metadata">5.1</a>
   <li>nextTrackEnabled, <a href="#dom-mediaremotecontrols-nexttrackenabled">5.2.1</a>
   <li>onnexttrack, <a href="#dom-mediaremotecontrols-onnexttrack">5.2.2</a>
   <li>onprevioustrack, <a href="#dom-mediaremotecontrols-onprevioustrack">5.2.2</a>
   <li>onseekbackward, <a href="#dom-mediaremotecontrols-onseekbackward">5.2.2</a>
   <li>onseekforward, <a href="#dom-mediaremotecontrols-onseekforward">5.2.2</a>
   <li>participating media elements, <a href="#participating-media-elements">6</a>
   <li>pause, <a href="#pause">4.3</a>
   <li>pause a media element, <a href="#pause-a-media-element">6.3.2</a>
   <li>previousTrackEnabled, <a href="#dom-mediaremotecontrols-previoustrackenabled">5.2.1</a>
   <li>release(), <a href="#dom-mediasession-release">5.1.3</a>
   <li>release media element from its media
session, <a href="#release-media-element-from-its-media-session">6.3.3</a>
   <li>seekBackwardEnabled, <a href="#dom-mediaremotecontrols-seekbackwardenabled">5.2.1</a>
   <li>seekForwardEnabled, <a href="#dom-mediaremotecontrols-seekforwardenabled">5.2.1</a>
   <li>session, <a href="#dom-htmlmediaelement-session">6.1</a>
   <li>session title, <a href="#session-title">4</a>
   <li>setMetadata(metadata), <a href="#dom-mediasession-setmetadata">5.1.3</a>
   <li>title, <a href="#dom-mediametadata-title">5.1</a>
   <li>transient attribute
      value, <a href="#transient-attribute-value">4.2</a>
   <li>transient media state, <a href="#transient-media-state">4.2</a>
   <li>transient-solo attribute
      value, <a href="#transient_solo-attribute-value">4.2</a>
   <li>transient solo media state, <a href="#transient-solo-media-state">4.2</a>
   <li>unduck, <a href="#unduck">4.3</a>
   <li>unpause, <a href="#unpause">4.3</a>
   <li>unpause a media element, <a href="#unpause-a-media-element">6.3.2</a>
   <li>update media element’s media session, <a href="#update-media-elements-media-session">6.2</a></ul>
  <h3 class="no-num heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="indexlist">
   <li><a data-link-type="biblio" href="#biblio-dom">[dom]</a> defines the following terms:
    <ul>
     <li><a href="https://dom.spec.whatwg.org/#interface-event">Event</a>
     <li><a href="https://dom.spec.whatwg.org/#interface-eventtarget">EventTarget</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-fetch">[FETCH]</a> defines the following terms:
    <ul>
     <li><a href="https://fetch.spec.whatwg.org/#concept-fetch">fetch</a>
     <li><a href="https://fetch.spec.whatwg.org/#concept-internal-response">internal response</a>
     <li><a href="https://fetch.spec.whatwg.org/#concept-response">response</a>
     <li><a href="https://fetch.spec.whatwg.org/#concept-response-type">response type</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-html">[HTML]</a> defines the following terms:
    <ul>
     <li><a href="https://html.spec.whatwg.org/multipage/dom.html#document">Document</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-have_enough_data">HAVE_ENOUGH_DATA</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-have_future_data">HAVE_FUTURE_DATA</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#htmlmediaelement">HTMLMediaElement</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url">api base url</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#case-sensitivity-and-string-comparison">case-sensitive</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source">dom manipulation task source</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#ended-playback">ended playback</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#entry-settings-object">entry settings object</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#enumerated-attribute">enumerated attribute</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type">event handler event type</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers">event handlers</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#fire-a-simple-event">fire a simple event</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#internal-pause-steps">internal pause steps</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#limited-to-only-known-values">limited to only known values</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element-load-algorithm">media element load algorithm</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-pause">pause</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-pause">pause()</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-paused">paused</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-play">play</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-play">play()</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#potentially-playing">potentially playing</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">queue a task</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-readystate">readyState</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#reflect">reflect</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#remove-an-element-from-a-document">remove an element from a document</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#task">task</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source">task source</a>
     <li><a href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level browsing context</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#video">video</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-page-visibility">[page-visibility]</a> defines the following terms:
    <ul>
     <li><a href="http://www.w3.org/TR/page-visibility/#pv-page-hidden">hidden</a>
     <li><a href="http://www.w3.org/TR/page-visibility/#dom-document-visibilitystate">visibilityState</a>
     <li><a href="http://www.w3.org/TR/page-visibility/#sec-visibilitychange-event">visibilitychange</a>
     <li><a href="http://www.w3.org/TR/page-visibility/#pv-page-visible">visible</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-webaudio">[webaudio]</a> defines the following terms:
    <ul>
     <li><a href="https://webaudio.github.io/web-audio-api/#audiocontext">AudioContext</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-dom-level-3-events-key">[DOM-Level-3-Events-key]</a> defines the following terms:
    <ul>
     <li><a href="http://www.w3.org/TR/DOM-Level-3-Events-key/#key-MediaPlayPause">MediaPlayPause</a>
     <li><a href="http://www.w3.org/TR/DOM-Level-3-Events-key/#key-MediaTrackNext">MediaTrackNext</a>
     <li><a href="http://www.w3.org/TR/DOM-Level-3-Events-key/#key-MediaTrackPrevious">MediaTrackPrevious</a>
    </ul></ul>
  <h2 class="no-num heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-dom-level-3-events-key"><a class="self-link" href="#biblio-dom-level-3-events-key"></a>[DOM-Level-3-Events-key]
   <dd>Gary Kacmarcik; Travis Leithead. <a href="https://w3c.github.io/DOM-Level-3-Events-key/">DOM Level 3 KeyboardEvent key Values</a>. 27 April 2015. WD. URL: <a href="https://w3c.github.io/DOM-Level-3-Events-key/">https://w3c.github.io/DOM-Level-3-Events-key/</a>
   <dt id="biblio-fetch"><a class="self-link" href="#biblio-fetch"></a>[FETCH]
   <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/">Fetch Standard</a>. Living Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
   <dt id="biblio-html"><a class="self-link" href="#biblio-html"></a>[HTML]
   <dd>Ian Hickson. <a href="https://html.spec.whatwg.org/multipage/">HTML Standard</a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-webidl"><a class="self-link" href="#biblio-webidl"></a>[WebIDL]
   <dd>Cameron McCormack. <a href="https://heycam.github.io/webidl/">Web IDL</a>. 19 April 2012. CR. URL: <a href="https://heycam.github.io/webidl/">https://heycam.github.io/webidl/</a>
   <dt id="biblio-dom"><a class="self-link" href="#biblio-dom"></a>[DOM]
   <dd>Anne van Kesteren; et al. <a href="https://w3c.github.io/dom/">W3C DOM4</a>. 18 June 2015. LCWD. URL: <a href="https://w3c.github.io/dom/">https://w3c.github.io/dom/</a>
   <dt id="biblio-page-visibility"><a class="self-link" href="#biblio-page-visibility"></a>[PAGE-VISIBILITY]
   <dd>Jatinder Mann; Arvind Jain. <a href="http://www.w3.org/TR/page-visibility/">Page Visibility (Second Edition)</a>. 29 October 2013. REC. URL: <a href="http://www.w3.org/TR/page-visibility/">http://www.w3.org/TR/page-visibility/</a>
   <dt id="biblio-rfc2119"><a class="self-link" href="#biblio-rfc2119"></a>[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
   <dt id="biblio-webaudio"><a class="self-link" href="#biblio-webaudio"></a>[WEBAUDIO]
   <dd>Paul Adenot; Chris Wilson; Chris Rogers. <a href="https://webaudio.github.io/web-audio-api/">Web Audio API</a>. 10 October 2013. WD. URL: <a href="https://webaudio.github.io/web-audio-api/">https://webaudio.github.io/web-audio-api/</a></dl>
  <h2 class="no-num heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
  <pre class="idl">[<a class="idl-code" data-link-type="constructor" href="#dom-mediasession-mediasession">Constructor</a>(optional <a data-link-type="idl-name" href="#enumdef-mediasessionkind">MediaSessionKind</a> <a href="#dom-mediasession-mediasession-kind-kind">kind</a>)]
interface <a href="#mediasession">MediaSession</a> {
  readonly attribute <a data-link-type="idl-name" href="#enumdef-mediasessionkind">MediaSessionKind</a> <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="MediaSessionKind " href="#dom-mediasession-kind">kind</a>;

  readonly attribute <a data-link-type="idl-name" href="#mediaremotecontrols">MediaRemoteControls</a>? <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="MediaRemoteControls? " href="#dom-mediasession-controls">controls</a>;

  void <a class="idl-code" data-link-type="method" href="#dom-mediasession-setmetadata">setMetadata</a>(<a data-link-type="idl-name" href="#dictdef-mediametadata">MediaMetadata</a> <a href="#dom-mediasession-setmetadata-metadata-metadata">metadata</a>);

  void <a class="idl-code" data-link-type="method" href="#dom-mediasession-release">release</a>();
};

enum <a href="#enumdef-mediasessionkind">MediaSessionKind</a> {
  "content",
  "transient",
  "transient-solo",
  "ambient"
};

dictionary <a href="#dictdef-mediametadata">MediaMetadata</a> {
  DOMString <a data-default="&quot;&quot;" data-type="DOMString " href="#dom-mediametadata-title">title</a> = "";
  DOMString <a data-default="&quot;&quot;" data-type="DOMString " href="#dom-mediametadata-artist">artist</a> = "";
  DOMString <a data-default="&quot;&quot;" data-type="DOMString " href="#dom-mediametadata-album">album</a> = "";
  USVString <a data-type="USVString " href="#dom-mediametadata-artwork">artwork</a>;
};

interface <a href="#mediaremotecontrols">MediaRemoteControls</a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#interface-eventtarget">EventTarget</a> {
  attribute boolean <a class="idl-code" data-link-type="attribute" data-type="boolean " href="#dom-mediaremotecontrols-previoustrackenabled">previousTrackEnabled</a>;
  attribute boolean <a class="idl-code" data-link-type="attribute" data-type="boolean " href="#dom-mediaremotecontrols-nexttrackenabled">nextTrackEnabled</a>;
  attribute boolean <a class="idl-code" data-link-type="attribute" data-type="boolean " href="#dom-mediaremotecontrols-seekforwardenabled">seekForwardEnabled</a>;
  attribute boolean <a class="idl-code" data-link-type="attribute" data-type="boolean " href="#dom-mediaremotecontrols-seekbackwardenabled">seekBackwardEnabled</a>;

  // Event handlers
  attribute <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler " href="#dom-mediaremotecontrols-onprevioustrack">onprevioustrack</a>;
  attribute <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler " href="#dom-mediaremotecontrols-onnexttrack">onnexttrack</a>;
  attribute <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler " href="#dom-mediaremotecontrols-onseekforward">onseekforward</a>;
  attribute <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler " href="#dom-mediaremotecontrols-onseekbackward">onseekbackward</a>;
};

partial interface <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/embedded-content.html#htmlmediaelement">HTMLMediaElement</a> {
  // media session
  attribute DOMString <a class="idl-code" data-link-type="attribute" data-type="DOMString " href="#dom-htmlmediaelement-kind">kind</a>;
  attribute <a data-link-type="idl-name" href="#mediasession">MediaSession</a>? <a class="idl-code" data-link-type="attribute" data-type="MediaSession? " href="#dom-htmlmediaelement-session">session</a>;
};

</pre>
 </body>
</html>