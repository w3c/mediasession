<!doctype html><html lang="en">
 <head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <meta content="#3c790a" name="theme-color">
  <title>Media Session Standard</title>
  <link href="https://resources.whatwg.org/standard.css" rel="stylesheet">
  <link href="https://resources.whatwg.org/bikeshed.css" rel="stylesheet">
  <link href="https://resources.whatwg.org/logo-mediasession.svg" rel="icon">
  <meta content="Bikeshed 1.0.0" name="generator">
<style>
  /* https://github.com/tabatkins/bikeshed/issues/485 */
  .example .self-link { display: none; }
</style>
<style>/* style-syntax-highlighting */
pre.idl.highlight { color: #708090; }
        .highlight:not(.idl) { background: hsl(24, 20%, 95%); }
        code.highlight { padding: .1em; border-radius: .3em; }
        pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }
        .highlight .c { color: #708090 } /* Comment */
        .highlight .k { color: #990055 } /* Keyword */
        .highlight .l { color: #000000 } /* Literal */
        .highlight .n { color: #0077aa } /* Name */
        .highlight .o { color: #999999 } /* Operator */
        .highlight .p { color: #999999 } /* Punctuation */
        .highlight .cm { color: #708090 } /* Comment.Multiline */
        .highlight .cp { color: #708090 } /* Comment.Preproc */
        .highlight .c1 { color: #708090 } /* Comment.Single */
        .highlight .cs { color: #708090 } /* Comment.Special */
        .highlight .kc { color: #990055 } /* Keyword.Constant */
        .highlight .kd { color: #990055 } /* Keyword.Declaration */
        .highlight .kn { color: #990055 } /* Keyword.Namespace */
        .highlight .kp { color: #990055 } /* Keyword.Pseudo */
        .highlight .kr { color: #990055 } /* Keyword.Reserved */
        .highlight .kt { color: #990055 } /* Keyword.Type */
        .highlight .ld { color: #000000 } /* Literal.Date */
        .highlight .m { color: #000000 } /* Literal.Number */
        .highlight .s { color: #a67f59 } /* Literal.String */
        .highlight .na { color: #0077aa } /* Name.Attribute */
        .highlight .nc { color: #0077aa } /* Name.Class */
        .highlight .no { color: #0077aa } /* Name.Constant */
        .highlight .nd { color: #0077aa } /* Name.Decorator */
        .highlight .ni { color: #0077aa } /* Name.Entity */
        .highlight .ne { color: #0077aa } /* Name.Exception */
        .highlight .nf { color: #0077aa } /* Name.Function */
        .highlight .nl { color: #0077aa } /* Name.Label */
        .highlight .nn { color: #0077aa } /* Name.Namespace */
        .highlight .py { color: #0077aa } /* Name.Property */
        .highlight .nt { color: #669900 } /* Name.Tag */
        .highlight .nv { color: #222222 } /* Name.Variable */
        .highlight .ow { color: #999999 } /* Operator.Word */
        .highlight .mb { color: #000000 } /* Literal.Number.Bin */
        .highlight .mf { color: #000000 } /* Literal.Number.Float */
        .highlight .mh { color: #000000 } /* Literal.Number.Hex */
        .highlight .mi { color: #000000 } /* Literal.Number.Integer */
        .highlight .mo { color: #000000 } /* Literal.Number.Oct */
        .highlight .sb { color: #a67f59 } /* Literal.String.Backtick */
        .highlight .sc { color: #a67f59 } /* Literal.String.Char */
        .highlight .sd { color: #a67f59 } /* Literal.String.Doc */
        .highlight .s2 { color: #a67f59 } /* Literal.String.Double */
        .highlight .se { color: #a67f59 } /* Literal.String.Escape */
        .highlight .sh { color: #a67f59 } /* Literal.String.Heredoc */
        .highlight .si { color: #a67f59 } /* Literal.String.Interpol */
        .highlight .sx { color: #a67f59 } /* Literal.String.Other */
        .highlight .sr { color: #a67f59 } /* Literal.String.Regex */
        .highlight .s1 { color: #a67f59 } /* Literal.String.Single */
        .highlight .ss { color: #a67f59 } /* Literal.String.Symbol */
        .highlight .vc { color: #0077aa } /* Name.Variable.Class */
        .highlight .vg { color: #0077aa } /* Name.Variable.Global */
        .highlight .vi { color: #0077aa } /* Name.Variable.Instance */
        .highlight .il { color: #000000 } /* Literal.Number.Integer.Long */
        </style>
 <body class="h-entry status-LS">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://whatwg.org/"> <img alt="WHATWG" height="100" src="https://resources.whatwg.org/logo-mediasession.svg"> </a> </p>
   <hgroup>
    <h1 class="p-name no-ref" id="title">Media Session</h1>
    <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Living Standard — Last Updated <time class="dt-updated" datetime="2016-09-14">14 September 2016</time></span></h2>
   </hgroup>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>Participate:
     <dd><span><a href="https://github.com/whatwg/mediasession/issues/new">File an issue</a> (<a href="https://github.com/whatwg/mediasession/issues?state=open">open issues</a>)</span>
     <dd><span><a href="https://wiki.whatwg.org/wiki/IRC">IRC: #whatwg on Freenode</a></span>
     <dt>Version History:
     <dd><span><a href="https://github.com/whatwg/mediasession/commits">https://github.com/whatwg/mediasession/commits</a></span>
    </dl>
   </div>
   <div data-fill-with="warning"></div>
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
  <div class="p-summary" data-fill-with="abstract">
   <p>This specification enables web developers to obtain different levels

of platform media focus, customize available platform media controls,
and access platform media keys such as hardware keys found on
keyboards, headsets, remote controls, and software keys found in
notification areas and on lock screens of mobile devices.</p>
  </div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#introduction"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li><a href="#conformance"><span class="secno">2</span> <span class="content">Conformance</span></a>
    <li><a href="#dependencies"><span class="secno">3</span> <span class="content">Dependencies</span></a>
    <li><a href="#the-mediasession-interface"><span class="secno">4</span> <span class="content">The <code class="idl"><span>MediaSession</span></code> interface</span></a>
    <li><a href="#the-mediametadata-interface"><span class="secno">5</span> <span class="content">The <code class="idl"><span>MediaMetadata</span></code> interface</span></a>
    <li><a href="#the-mediaimage-interface"><span class="secno">6</span> <span class="content">The <code class="idl"><span>MediaImage</span></code> interface</span></a>
    <li><a href="#processing-model"><span class="secno">7</span> <span class="content">Processing model</span></a>
    <li><a href="#examples"><span class="secno">8</span> <span class="content">Examples</span></a>
    <li><a href="#acknowledgments"><span class="secno"></span> <span class="content">Acknowledgments</span></a>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
<script async="" src="https://resources.whatwg.org/file-issue.js"></script>
   <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#introduction"></a></h2>
   <p><em>This section is non-normative.</em></p>
   <p>Media is used extensively today, and the Web is one of the primary means of
consuming media content. Many platforms can display media metadata, such as
title, artist, album and album art on various UI elements such as notification,
media control center, device lockscreen and wearable devices. This specification
aims to enable web pages to specify the media metadata to be displayed in
platform UI, which helps in improving the user experience.</p>
   <h2 class="heading settled" data-level="2" id="conformance"><span class="secno">2. </span><span class="content">Conformance</span><a class="self-link" href="#conformance"></a></h2>
   <p>All diagrams, examples, and notes in this specification are non-normative, as
are all sections explicitly marked non-normative. Everything else in this
specification is normative.</p>
   <p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD",
"SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this
document are to be interpreted as described in RFC 2119. For readability, these
words do not appear in all uppercase letters in this specification. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a></p>
   <p>Requirements phrased in the imperative as part of algorithms (such as "strip any
leading space characters" or "return false and terminate these steps") are to be
interpreted with the meaning of the key word ("must", "should", "may", etc) used
in introducing the algorithm.</p>
   <p>Conformance requirements phrased as algorithms or specific steps may be
implemented in any manner, so long as the end result is equivalent. (In
particular, the algorithms defined in this specification are intended to be easy
to follow, and not intended to be performant.)</p>
   <p>User agents may impose implementation-specific limits on otherwise unconstrained
inputs, e.g. to prevent denial of service attacks, to guard against running out
of memory, or to work around platform-specific limitations.</p>
   <p>When a method or an attribute is said to call another method or attribute, the
user agent must invoke its internal API for that attribute or method so that
e.g. the author can’t change the behavior by overriding attributes or methods
with custom properties or functions in JavaScript.</p>
   <p>Unless otherwise stated, string comparisons are done in a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#case-sensitivity-and-string-comparison">case-sensitive</a> manner.</p>
   <h2 class="heading settled" data-level="3" id="dependencies"><span class="secno">3. </span><span class="content">Dependencies</span><a class="self-link" href="#dependencies"></a></h2>
   <p>The IDL fragments in this specification must be interpreted as required for
conforming IDL fragments, as described in the Web IDL specification. <a data-link-type="biblio" href="#biblio-webidl">[WEBIDL]</a></p>
   <h2 class="heading settled" data-level="4" id="the-mediasession-interface"><span class="secno">4. </span><span class="content">The <code class="idl"><a data-link-type="idl" href="#mediasession">MediaSession</a></code> interface</span><a class="self-link" href="#the-mediasession-interface"></a></h2>
<pre class="idl highlight def">[<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=(<span class="n">Window</span>)]
<span class="kt">partial</span> <span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/webappapis.html#navigator">Navigator</a> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#mediasession">MediaSession</a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="MediaSession" href="#dom-navigator-mediasession">mediaSession</a>;
};

<span class="kt">interface</span> <dfn class="nv idl-code" data-dfn-type="interface" data-export="" id="mediasession">MediaSession<a class="self-link" href="#mediasession"></a></dfn> {
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#mediametadata">MediaMetadata</a>? <a class="nv idl-code" data-link-type="attribute" data-type="MediaMetadata?" href="#dom-mediasession-metadata">metadata</a>;
};
</pre>
   <p>The <dfn class="idl-code" data-dfn-for="Navigator" data-dfn-type="attribute" data-export="" id="dom-navigator-mediasession"><code>mediaSession</code><a class="self-link" href="#dom-navigator-mediasession"></a></dfn> attribute is
to retrive an instance of the <code class="idl"><a data-link-type="idl" href="#mediasession">MediaSession</a></code> interface. The attribute MUST
return the <code class="idl"><a data-link-type="idl" href="#mediasession">MediaSession</a></code> instance associated with the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#navigator">Navigator</a></code> object.</p>
   <p><code class="idl"><a data-link-type="idl" href="#mediasession">MediaSession</a></code> objects are simply known as <dfn data-dfn-type="dfn" data-lt="media session" data-noexport="" id="media-session">media
sessions<a class="self-link" href="#media-session"></a></dfn>.</p>
   <p>A <a data-link-type="dfn" href="#media-session">media session</a> has <dfn data-dfn-type="dfn" data-lt="media session metadata" data-noexport="" id="media-session-metadata">metadata<a class="self-link" href="#media-session-metadata"></a></dfn>,
which is either a <code class="idl"><a data-link-type="idl" href="#mediametadata">MediaMetadata</a></code> object or null.</p>
   <dl class="domintro">
    <dt> <code><var>session</var> . <code class="idl"><a data-link-type="idl" href="#dom-mediasession-metadata">metadata</a></code></code> 
    <dd>
      Returns the <a data-link-type="dfn" href="#media-session">media session</a>’s <code class="idl"><a data-link-type="idl" href="#mediametadata">MediaMetadata</a></code> object, if any, or null
    otherwise. 
     <p>Can be set, to a <code class="idl"><a data-link-type="idl" href="#mediametadata">MediaMetadata</a></code> object or null.</p>
   </dl>
   <p>The <dfn class="idl-code" data-dfn-for="MediaSession" data-dfn-type="attribute" data-export="" id="dom-mediasession-metadata"><code>metadata</code><a class="self-link" href="#dom-mediasession-metadata"></a></dfn> attribute, on
getting, must return the <a data-link-type="dfn" href="#media-session">media session</a>’s <a data-link-type="dfn" href="#media-session-metadata">metadata</a>.</p>
   <h2 class="heading settled" data-level="5" id="the-mediametadata-interface"><span class="secno">5. </span><span class="content">The <code class="idl"><a data-link-type="idl" href="#mediametadata">MediaMetadata</a></code> interface</span><a class="self-link" href="#the-mediametadata-interface"></a></h2>
<pre class="idl highlight def">[<a class="nv idl-code" data-link-type="constructor" href="#dom-mediametadata-mediametadata">Constructor</a>(<span class="kt">optional</span> <a class="n" data-link-type="idl-name" href="#dictdef-mediametadatainit">MediaMetadataInit</a> <dfn class="nv idl-code" data-dfn-for="MediaMetadata/MediaMetadata(init)" data-dfn-type="argument" data-export="" id="dom-mediametadata-mediametadata-init-init">init<a class="self-link" href="#dom-mediametadata-mediametadata-init-init"></a></dfn>)]
<span class="kt">interface</span> <dfn class="nv idl-code" data-dfn-type="interface" data-export="" id="mediametadata">MediaMetadata<a class="self-link" href="#mediametadata"></a></dfn> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-mediametadata-title">title</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-mediametadata-artist">artist</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-mediametadata-album">album</a>;
  [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">FrozenArray</span>&lt;<a class="n" data-link-type="idl-name" href="#mediaimage">MediaImage</a>> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="FrozenArray<MediaImage>" href="#dom-mediametadata-artwork">artwork</a>;
};

<span class="kt">dictionary</span> <dfn class="nv idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-mediametadatainit">MediaMetadataInit<a class="self-link" href="#dictdef-mediametadatainit"></a></dfn> {
  <span class="kt">DOMString</span> <dfn class="nv idl-code" data-default="&quot;&quot;" data-dfn-for="MediaMetadataInit" data-dfn-type="dict-member" data-export="" data-type="DOMString " id="dom-mediametadatainit-title">title<a class="self-link" href="#dom-mediametadatainit-title"></a></dfn> = "";
  <span class="kt">DOMString</span> <dfn class="nv idl-code" data-default="&quot;&quot;" data-dfn-for="MediaMetadataInit" data-dfn-type="dict-member" data-export="" data-type="DOMString " id="dom-mediametadatainit-artist">artist<a class="self-link" href="#dom-mediametadatainit-artist"></a></dfn> = "";
  <span class="kt">DOMString</span> <dfn class="nv idl-code" data-default="&quot;&quot;" data-dfn-for="MediaMetadataInit" data-dfn-type="dict-member" data-export="" data-type="DOMString " id="dom-mediametadatainit-album">album<a class="self-link" href="#dom-mediametadatainit-album"></a></dfn> = "";
  <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#dictdef-mediaimageinit">MediaImageInit</a>> <dfn class="nv idl-code" data-default="None" data-dfn-for="MediaMetadataInit" data-dfn-type="dict-member" data-export="" data-type="sequence<MediaImageInit> " id="dom-mediametadatainit-artwork">artwork<a class="self-link" href="#dom-mediametadatainit-artwork"></a></dfn> = [];
};
</pre>
   <p>A <code class="idl"><a data-link-type="idl" href="#mediametadata">MediaMetadata</a></code> object has a <dfn data-dfn-for="MediaMetadata" data-dfn-type="dfn" data-noexport="" id="mediametadata-title">title<a class="self-link" href="#mediametadata-title"></a></dfn>, an <dfn data-dfn-for="MediaMetadata" data-dfn-type="dfn" data-noexport="" id="mediametadata-artist">artist<a class="self-link" href="#mediametadata-artist"></a></dfn>, an <dfn data-dfn-for="MediaMetadata" data-dfn-type="dfn" data-noexport="" id="mediametadata-album">album<a class="self-link" href="#mediametadata-album"></a></dfn> and a
FrozenArray of <dfn data-dfn-for="MediaMetadata" data-dfn-type="dfn" data-lt="artwork images" data-noexport="" id="mediametadata-artwork-images" title="artwork image">artwork
images<a class="self-link" href="#mediametadata-artwork-images"></a></dfn>.</p>
   <p>The <dfn class="idl-code" data-dfn-for="MediaMetadata" data-dfn-type="constructor" data-export="" id="dom-mediametadata-mediametadata"><code>MediaMetadata(<var>init</var>)</code><a class="self-link" href="#dom-mediametadata-mediametadata"></a></dfn> constructor, when invoked, must run the following steps:</p>
   <ol>
    <li> Let <var>metadata</var> be a new <code class="idl"><a data-link-type="idl" href="#mediametadata">MediaMetadata</a></code> object. 
    <li> Set <var>metadata</var>’s <code class="idl"><a data-link-type="idl" href="#dom-mediametadata-title">title</a></code> to <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-mediametadatainit-title">title</a></code>. 
    <li> Set <var>metadata</var>’s <code class="idl"><a data-link-type="idl" href="#dom-mediametadata-artist">artist</a></code> to <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-mediametadatainit-artist">artist</a></code>. 
    <li> Set <var>metadata</var>’s <code class="idl"><a data-link-type="idl" href="#dom-mediametadata-album">album</a></code> to <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-mediametadatainit-album">album</a></code>. 
    <li> Set <var>metadata</var>’s <code class="idl"><a data-link-type="idl" href="#dom-mediametadata-artwork">artwork</a></code> using <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-mediametadatainit-artwork">artwork</a></code> by calling the <a data-link-type="functionish" href="#dom-mediaimage-mediaimage"><code>MediaImage(init)</code></a> constructor. 
    <li> Return <var>metadata</var>. 
   </ol>
   <p>The <dfn class="idl-code" data-dfn-for="MediaMetadata" data-dfn-type="attribute" data-export="" id="dom-mediametadata-title"><code>title</code><a class="self-link" href="#dom-mediametadata-title"></a></dfn> attribute must
return the <code class="idl"><a data-link-type="idl" href="#mediametadata">MediaMetadata</a></code> objects’s <a data-link-type="dfn" href="#mediametadata-title">title</a>.</p>
   <p>The <dfn class="idl-code" data-dfn-for="MediaMetadata" data-dfn-type="attribute" data-export="" id="dom-mediametadata-artist"><code>artist</code><a class="self-link" href="#dom-mediametadata-artist"></a></dfn> attribute must
return the <code class="idl"><a data-link-type="idl" href="#mediametadata">MediaMetadata</a></code> objects’s <a data-link-type="dfn" href="#mediametadata-artist">artist</a>.</p>
   <p>The <dfn class="idl-code" data-dfn-for="MediaMetadata" data-dfn-type="attribute" data-export="" id="dom-mediametadata-album"><code>album</code><a class="self-link" href="#dom-mediametadata-album"></a></dfn> attribute must
return the <code class="idl"><a data-link-type="idl" href="#mediametadata">MediaMetadata</a></code> objects’s <a data-link-type="dfn" href="#mediametadata-album">album</a>.</p>
   <p>The <dfn class="idl-code" data-dfn-for="MediaMetadata" data-dfn-type="attribute" data-export="" id="dom-mediametadata-artwork"><code>artwork</code><a class="self-link" href="#dom-mediametadata-artwork"></a></dfn> attribute must return the <code class="idl"><a data-link-type="idl" href="#mediametadata">MediaMetadata</a></code> objects’s <a data-link-type="dfn" href="#mediametadata-artwork-images" title="artwork image">artwork images</a>, as a FrozenArray of <code class="idl"><a data-link-type="idl" href="#mediaimage">MediaImage</a></code>s.
The <a class="idl-code" data-link-type="attribute" href="#dom-mediametadata-artwork">artwork</a> attribute can be empty.</p>
   <h2 class="heading settled" data-level="6" id="the-mediaimage-interface"><span class="secno">6. </span><span class="content">The <code class="idl"><a data-link-type="idl" href="#mediaimage">MediaImage</a></code> interface</span><a class="self-link" href="#the-mediaimage-interface"></a></h2>
<pre class="idl highlight def">[<a class="nv idl-code" data-link-type="constructor" href="#dom-mediaimage-mediaimage">Constructor</a>(<span class="kt">optional</span> <a class="n" data-link-type="idl-name" href="#dictdef-mediaimageinit">MediaImageInit</a> <dfn class="nv idl-code" data-dfn-for="MediaImage/MediaImage(init)" data-dfn-type="argument" data-export="" id="dom-mediaimage-mediaimage-init-init">init<a class="self-link" href="#dom-mediaimage-mediaimage-init-init"></a></dfn>)]
<span class="kt">interface</span> <dfn class="nv idl-code" data-dfn-type="interface" data-export="" id="mediaimage">MediaImage<a class="self-link" href="#mediaimage"></a></dfn> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">USVString</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="USVString" href="#dom-mediaimage-src">src</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-mediaimage-sizes">sizes</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-mediaimage-type">type</a>;
};

<span class="kt">dictionary</span> <dfn class="nv idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-mediaimageinit">MediaImageInit<a class="self-link" href="#dictdef-mediaimageinit"></a></dfn> {
  <span class="kt">USVString</span> <dfn class="nv idl-code" data-default="&quot;&quot;" data-dfn-for="MediaImageInit" data-dfn-type="dict-member" data-export="" data-type="USVString " id="dom-mediaimageinit-src">src<a class="self-link" href="#dom-mediaimageinit-src"></a></dfn> = "";
  <span class="kt">DOMString</span> <dfn class="nv idl-code" data-default="&quot;&quot;" data-dfn-for="MediaImageInit" data-dfn-type="dict-member" data-export="" data-type="DOMString " id="dom-mediaimageinit-sizes">sizes<a class="self-link" href="#dom-mediaimageinit-sizes"></a></dfn> = "";
  <span class="kt">DOMString</span> <dfn class="nv idl-code" data-default="&quot;&quot;" data-dfn-for="MediaImageInit" data-dfn-type="dict-member" data-export="" data-type="DOMString " id="dom-mediaimageinit-type">type<a class="self-link" href="#dom-mediaimageinit-type"></a></dfn> = "";
};
</pre>
   <p>A <code class="idl"><a data-link-type="idl" href="#mediaimage">MediaImage</a></code> object has a <dfn data-dfn-for="MediaImage" data-dfn-type="dfn" data-noexport="" id="mediaimage-source">source<a class="self-link" href="#mediaimage-source"></a></dfn>, a list of <dfn data-dfn-for="MediaImage" data-dfn-type="dfn" data-noexport="" id="mediaimage-sizes">sizes<a class="self-link" href="#mediaimage-sizes"></a></dfn>, and a <dfn data-dfn-for="MediaImage" data-dfn-type="dfn" data-noexport="" id="mediaimage-type">type<a class="self-link" href="#mediaimage-type"></a></dfn>.</p>
   <p>The <dfn class="idl-code" data-dfn-for="MediaImage" data-dfn-type="constructor" data-export="" id="dom-mediaimage-mediaimage"><code>MediaImage(<var>init</var>)</code><a class="self-link" href="#dom-mediaimage-mediaimage"></a></dfn> constructor, when invoked, must run the following steps:</p>
   <ol>
    <li> Let <var>metadata</var> be a new <code class="idl"><a data-link-type="idl" href="#mediaimage">MediaImage</a></code> object. 
    <li> Set <var>metadata</var>’s <code class="idl"><a data-link-type="idl" href="#dom-mediaimage-src">src</a></code> to <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-mediaimageinit-src">src</a></code>. If the URL is a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-url-relative">relative URL</a>, it must be resolved to an <a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-url-absolute">absolute URL</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#document-base-url">document base URL</a>. 
    <li> Set <var>metadata</var>’s <code class="idl"><a data-link-type="idl" href="#dom-mediaimage-sizes">sizes</a></code> to <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-mediaimageinit-sizes">sizes</a></code>. 
    <li> Set <var>metadata</var>’s <code class="idl"><a data-link-type="idl" href="#dom-mediaimage-type">type</a></code> to <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-mediaimageinit-type">type</a></code>. 
    <li> Return <var>metadata</var>. 
   </ol>
   <p>The MediaImage <a class="idl-code" data-link-type="attribute" href="#dom-mediaimage-src">src</a>, <a class="idl-code" data-link-type="attribute" href="#dom-mediaimage-sizes">sizes</a> and <a class="idl-code" data-link-type="attribute" href="#dom-mediaimage-type">type</a> inspired from the <a data-link-type="dfn" href="https://www.w3.org/TR/appmanifest/#dfn-image-object">image objects</a> in Web App Manifest.</p>
   <p>The <dfn class="idl-code" data-dfn-for="MediaImage" data-dfn-type="attribute" data-export="" id="dom-mediaimage-src">src<a class="self-link" href="#dom-mediaimage-src"></a></dfn> attribute must return the <code class="idl"><a data-link-type="idl" href="#mediaimage">MediaImage</a></code> object’s <a data-link-type="dfn" href="#mediaimage-source">source</a>. It is a URL from which
the user agent can fetch the image’s data.</p>
   <p>The <dfn class="idl-code" data-dfn-for="MediaImage" data-dfn-type="attribute" data-export="" id="dom-mediaimage-sizes">sizes<a class="self-link" href="#dom-mediaimage-sizes"></a></dfn> attribute must return the <code class="idl"><a data-link-type="idl" href="#mediaimage">MediaImage</a></code> object’s <a data-link-type="dfn" href="#mediaimage-sizes">sizes</a>. It follows the spec of <a class="idl-code" data-link-type="attribute" href="https://html.spec.whatwg.org/multipage/semantics.html#attr-link-sizes"><code>sizes</code></a> attribute in HTML <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/semantics.html#the-link-element"><code>link</code></a> element, which is a string
consisting of an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#unordered-set-of-unique-space-separated-tokens">unordered set of unique space-separated tokens</a> which are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#ascii-case-insensitive">ASCII case-insensitive</a> that represents the dimensions of an image. Each
keyword is either an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#ascii-case-insensitive">ASCII case-insensitive</a> match for the string "any",
or a value that consists of two valid non-negative integers that do not have a
leading U+0030 DIGIT ZERO (0) character and that are separated by a single
U+0078 LATIN SMALL LETTER X or U+0058 LATIN CAPITAL LETTER X character. The
keywords represent icon sizes in raw pixels (as opposed to CSS pixels). When
multiple image objects are available, a user agent may use the value to decide
which icon is most suitable for a display context (and ignore any that are
inappropriate). The parsing steps for the <a class="idl-code" data-link-type="attribute" href="#dom-mediaimage-sizes">sizes</a> attribute must follow <a class="idl-code" data-link-type="attribute" href="https://html.spec.whatwg.org/multipage/semantics.html#attr-link-sizes">the parsing steps for HTML <code>link</code> element <code>sizes</code> attribute</a>.</p>
   <p>The <dfn class="idl-code" data-dfn-for="MediaImage" data-dfn-type="attribute" data-export="" id="dom-mediaimage-type">type<a class="self-link" href="#dom-mediaimage-type"></a></dfn> attribute must return the <code class="idl"><a data-link-type="idl" href="#mediaimage">MediaImage</a></code> object’s <a data-link-type="dfn" href="#mediaimage-type">type</a>. It is a hint as to the
media type of the image. The purpose of this attribute is to allow a user agent
to ignore images of media types it does not support.</p>
   <h2 class="heading settled" data-level="7" id="processing-model"><span class="secno">7. </span><span class="content">Processing model</span><a class="self-link" href="#processing-model"></a></h2>
   <p>As there is a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/browsers.html#window">Window</a></code> object per <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#browsing-context">browsing context</a>, the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level
browsing context</a> and each <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#nested-browsing-context">nested browsing context</a> will have an
associated <code class="idl"><a data-link-type="idl" href="#mediasession">MediaSession</a></code> object. For each tab, the user agent MUST select the <code class="idl"><a data-link-type="idl" href="#mediasession">MediaSession</a></code> object of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level browsing context</a> to represent
the tab. The selected <code class="idl"><a data-link-type="idl" href="#mediasession">MediaSession</a></code> object is called <dfn data-dfn-type="dfn" data-lt="tab-level
active media session" data-noexport="" id="tab-level-active-media-session">tab-level active media session<a class="self-link" href="#tab-level-active-media-session"></a></dfn>.</p>
   <p class="issue" id="whether-allow-child-frame-media-session"><a class="self-link" href="#whether-allow-child-frame-media-session"></a> It is still an open question whether an <code class="idl"><a data-link-type="idl" href="#mediasession">MediaSession</a></code> object is allowed to
  become the <a data-link-type="dfn" href="#tab-level-active-media-session">tab-level active media session</a>. See the <a href="https://github.com/WICG/mediasession/issues/136">issue on GitHub</a>. </p>
   <p>When the user agent has multiple tabs, the user agent MUST select the <a data-link-type="dfn" href="#most-meaningful-audio-producing-tab">most
meaningful audio-producing tab</a> and present the <a data-link-type="dfn" href="#tab-level-active-media-session">tab-level active media
session</a> to the platform, which MAY be displayed in the platform UI depending
on platform conventions. The <dfn data-dfn-type="dfn" data-noexport="" id="most-meaningful-audio-producing-tab">most meaningful audio-producing tab<a class="self-link" href="#most-meaningful-audio-producing-tab"></a></dfn> is
the tab which is producing the most meaningful audio to the user. The user agent
SHOULD select the <a data-link-type="dfn" href="#most-meaningful-audio-producing-tab">most meaningful audio-producing tab</a> based on platform
conventions and the preferred user experience. The <a data-link-type="dfn" href="#most-meaningful-audio-producing-tab">most meaningful
audio-producing tab</a> can be null.</p>
   <p>Whenever the <a data-link-type="dfn" href="#most-meaningful-audio-producing-tab">most meaningful audio-producing tab</a> changes or setting <a class="idl-code" data-link-type="attribute" href="#dom-mediasession-metadata"><code>metadata</code></a> of the <a data-link-type="dfn" href="#most-meaningful-audio-producing-tab">most meaningful
audio-producing tab</a>, the user agent MUST run the <dfn data-dfn-type="dfn" data-lt="update metadata algorithm" data-noexport="" id="update-metadata-algorithm">update metadata
algorithm<a class="self-link" href="#update-metadata-algorithm"></a></dfn>, the steps are as follows:</p>
   <ol>
    <li> If the <a data-link-type="dfn" href="#most-meaningful-audio-producing-tab">most meaningful audio-producing tab</a> is null, unset the media
    metadata presented to the platform, and terminate these steps. 
    <li> If the <a class="idl-code" data-link-type="attribute" href="#dom-mediasession-metadata"><code>metadata</code></a> for the <a data-link-type="dfn" href="#tab-level-active-media-session">tab-level active media session</a> of the <a data-link-type="dfn" href="#most-meaningful-audio-producing-tab">most meaningful
    audio-producing tab</a> is null, unset the media metadata presented to the
    platform, and terminate these steps. 
    <li> Update the media metadata presented to the platform to match the <a class="idl-code" data-link-type="attribute" href="#dom-mediasession-metadata"><code>metadata</code></a> for the <a data-link-type="dfn" href="#tab-level-active-media-session">tab-level active media session</a> of the <a data-link-type="dfn" href="#most-meaningful-audio-producing-tab">most meaningful
    audio-producing tab</a>. 
    <li> If the user agent wants to display <a data-link-type="dfn" href="#mediametadata-artwork-images">artwork image</a>, it is recommended
    to run the <a data-link-type="dfn" href="#fetch-image-algorithm">fetch image algorithm</a>. 
   </ol>
   <p>The recommended <dfn data-dfn-type="dfn" data-noexport="" id="fetch-image-algorithm">fetch image algorithm<a class="self-link" href="#fetch-image-algorithm"></a></dfn> is as follows:</p>
   <ol>
    <li> If there are other <a data-link-type="dfn" href="#fetch-image-algorithm">fetch image algorithm</a> running, cancel existing
    algorithm execution instances. 
    <li> If <var>metadata</var>’s <a class="idl-code" data-link-type="attribute" href="#dom-mediametadata-artwork"><code>artwork</code></a> of the <a data-link-type="dfn" href="#tab-level-active-media-session">tab-level active
    media session</a> of the <a data-link-type="dfn" href="#most-meaningful-audio-producing-tab">most meaningful audio-producing tab</a> is
    empty, then terminate these steps. 
    <li> If the platform supports displaying media artwork, select a <dfn data-dfn-type="dfn" data-lt="prefered artwork image" data-noexport="" id="prefered-artwork-image">prefered
    artwork image<a class="self-link" href="#prefered-artwork-image"></a></dfn> from <var>metadata</var>’s <a class="idl-code" data-link-type="attribute" href="#dom-mediametadata-artwork"><code>artwork</code></a> of the <a data-link-type="dfn" href="#tab-level-active-media-session">tab-level active
    media session</a> of the <a data-link-type="dfn" href="#most-meaningful-audio-producing-tab">most meaningful audio-producing tab</a>. 
    <li>
      <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" title="fetch">Fetch</a> the <a data-link-type="dfn" href="#prefered-artwork-image">prefered artwork image</a>’s <code class="idl"><a data-link-type="idl" href="#dom-mediaimage-src">src</a></code>. 
     <p>Then, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>:</p>
     <ol>
      <li> Wait for the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response">response</a>. 
      <li> If the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response">response</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-internal-response">internal response</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-type">type</a> is <i>default</i>, attempt to decode the
        resource as image. 
      <li> If the image format is supported, use the image as the artwork for
        display in platform UI. Otherwise the <a data-link-type="dfn" href="#fetch-image-algorithm">fetch image algorithm</a> fail
        and terminate. 
     </ol>
   </ol>
   <p>If no artwork images are fetched in the <a data-link-type="dfn" href="#fetch-image-algorithm">fetch image algorithm</a>, the user
agent MAY have fallback behavior such as displaying an default image as artwork.</p>
   <h2 class="heading settled" data-level="8" id="examples"><span class="secno">8. </span><span class="content">Examples</span><a class="self-link" href="#examples"></a></h2>
   <p><em>This section is non-normative.</em></p>
   <div class="example" id="example-setting-metadata">
    <a class="self-link" href="#example-setting-metadata"></a> 
<pre class="lang-javascript highlight">window<span class="p">.</span>navigator<span class="p">.</span>mediaSession<span class="p">.</span>metadata <span class="o">=</span> <span class="k">new</span> MediaMetadata<span class="p">(</span><span class="p">{</span>
  title<span class="o">:</span> <span class="s2">"Episode Title"</span><span class="p">,</span>
  artist<span class="o">:</span> <span class="s2">"Podcast Host"</span><span class="p">,</span>
  album<span class="o">:</span> <span class="s2">"Podcast Title"</span><span class="p">,</span>
  artwork<span class="o">:</span> <span class="p">[</span><span class="p">{</span>src<span class="o">:</span> <span class="s2">"podcast.jpg"</span><span class="p">}</span><span class="p">]</span>
<span class="p">}</span><span class="p">)</span><span class="p">;</span>
</pre>
    <p>Alternatively, providing multiple <a data-link-type="dfn" href="#mediametadata-artwork-images" title="artwork
  image">artwork images</a> in the metadata can let the user agent be able to
  select different artwork images for different display purposes and better fit
  for different screens:</p>
<pre class="lang-javascript highlight">window<span class="p">.</span>navigator<span class="p">.</span>mediaSession<span class="p">.</span>metadata <span class="o">=</span> <span class="k">new</span> MediaMetadata<span class="p">(</span><span class="p">{</span>
  title<span class="o">:</span> <span class="s2">"Episode Title"</span><span class="p">,</span>
  artist<span class="o">:</span> <span class="s2">"Podcast Host"</span><span class="p">,</span>
  album<span class="o">:</span> <span class="s2">"Podcast Title"</span><span class="p">,</span>
  artwork<span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>src<span class="o">:</span> <span class="s2">"podcast.jpg"</span><span class="p">,</span> sizes<span class="o">:</span> <span class="s2">"128x128"</span><span class="p">,</span> type<span class="o">:</span> <span class="s2">"image/jpeg"</span><span class="p">}</span><span class="p">,</span>
    <span class="p">{</span>src<span class="o">:</span> <span class="s2">"podcast_hd.jpg"</span><span class="p">,</span> sizes<span class="o">:</span> <span class="s2">"256x256"</span><span class="p">}</span><span class="p">,</span>
    <span class="p">{</span>src<span class="o">:</span> <span class="s2">"podcast_xhd.jpg"</span><span class="p">,</span> sizes<span class="o">:</span> <span class="s2">"1024x1024"</span><span class="p">,</span> type<span class="o">:</span> <span class="s2">"image/jpeg"</span><span class="p">}</span><span class="p">,</span>
    <span class="p">{</span>src<span class="o">:</span> <span class="s2">"podcast.png"</span><span class="p">,</span> sizes<span class="o">:</span> <span class="s2">"128x128"</span><span class="p">,</span> type<span class="o">:</span> <span class="s2">"image/png"</span><span class="p">}</span><span class="p">,</span>
    <span class="p">{</span>src<span class="o">:</span> <span class="s2">"podcast_hd.png"</span><span class="p">,</span> sizes<span class="o">:</span> <span class="s2">"256x256"</span><span class="p">,</span> type<span class="o">:</span> <span class="s2">"image/png"</span><span class="p">}</span><span class="p">,</span>
    <span class="p">{</span>src<span class="o">:</span> <span class="s2">"podcast.ico"</span><span class="p">,</span> sizes<span class="o">:</span> <span class="s2">"128x128 256x256"</span><span class="p">,</span> type<span class="o">:</span> <span class="s2">"image/x-icon"</span><span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span><span class="p">)</span><span class="p">;</span>
</pre>
    <p>For example, if the user agent wants to use an image as icon, it may choose <code>"podcast.jpg"</code> or <code>"podcast.png"</code> for a
  low-pixel-density screen, and <code>"podcast_hd.jpg"</code> or <code>"podcast_hd.png"</code> for a high-pixel-density screen. If the user
  agent want to use an image for lockscreen background, <code>"podcast_xhd.jpg"</code> will be prefered.</p>
   </div>
   <div class="example" id="example-changing-metadata">
    <a class="self-link" href="#example-changing-metadata"></a> For playlists or chapters of an audio book, multiple <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media elements</a> can
  share a single <a data-link-type="dfn" href="#media-session">media session</a>. 
<pre class="lang-javascript highlight"><span class="kd">var</span> audio1 <span class="o">=</span> document<span class="p">.</span>createElement<span class="p">(</span><span class="s2">"audio"</span><span class="p">)</span><span class="p">;</span>
audio1<span class="p">.</span>src <span class="o">=</span> <span class="s2">"chapter1.mp3"</span><span class="p">;</span>

<span class="kd">var</span> audio2 <span class="o">=</span> document<span class="p">.</span>createElement<span class="p">(</span><span class="s2">"audio"</span><span class="p">)</span><span class="p">;</span>
audio2<span class="p">.</span>src <span class="o">=</span> <span class="s2">"chapter2.mp3"</span><span class="p">;</span>

audio1<span class="p">.</span>play<span class="p">(</span><span class="p">)</span><span class="p">;</span>
audio1<span class="p">.</span>addEventListener<span class="p">(</span><span class="s2">"ended"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="p">)</span> <span class="p">{</span>
  audio2<span class="p">.</span>play<span class="p">(</span><span class="p">)</span><span class="p">;</span>
<span class="p">}</span><span class="p">)</span><span class="p">;</span>
</pre>
    <p>Because the session is shared, the metadata must be updated to reflect what is
  currently playing.</p>
<pre class="lang-javascript highlight"><span class="kd">function</span> updateMetadata<span class="p">(</span>event<span class="p">)</span> <span class="p">{</span>
  window<span class="p">.</span>navigator<span class="p">.</span>mediaSession<span class="p">.</span>metadata <span class="o">=</span> <span class="k">new</span> MediaMetadata<span class="p">(</span><span class="p">{</span>
    title<span class="o">:</span> event<span class="p">.</span>target <span class="o">==</span> audio1 <span class="o">?</span> <span class="s2">"Chapter 1"</span> <span class="o">:</span> <span class="s2">"Chapter 2"</span><span class="p">,</span>
    artist<span class="o">:</span> <span class="s2">"An Author"</span><span class="p">,</span>
    album<span class="o">:</span> <span class="s2">"A Book"</span><span class="p">,</span>
    artwork<span class="o">:</span> <span class="p">[</span><span class="p">{</span>src<span class="o">:</span> <span class="s2">"cover.jpg"</span><span class="p">}</span><span class="p">]</span>
  <span class="p">}</span><span class="p">)</span><span class="p">;</span>
<span class="p">}</span>

audio1<span class="p">.</span>addEventListener<span class="p">(</span><span class="s2">"play"</span><span class="p">,</span> updateMetadata<span class="p">)</span><span class="p">;</span>
audio2<span class="p">.</span>addEventListener<span class="p">(</span><span class="s2">"play"</span><span class="p">,</span> updateMetadata<span class="p">)</span><span class="p">;</span>
</pre>
   </div>
   <h2 class="no-num heading settled" id="acknowledgments"><span class="content">Acknowledgments</span><a class="self-link" href="#acknowledgments"></a></h2>
   <p>The editor would like to thank Paul Adenot, Jake Archibald, Tab Atkins, Jonathan
Bailey, Marcos Caceres, Domenic Denicola, Ralph Giles, Anne van Kesteren, Tobie
Langel, Michael Mahemoff, Jer Noble, Elliott Sprehn, Chris Wilson, and Jörn
Zaefferer for their participation in technical discussions that ultimately made
this specification possible.</p>
   <p>Special thanks go to Philip Jägenstedt and David Vest for their help in
designing every aspect of media sessions and for their seemingly infinite
patience in working through the initial design issues; Jer Noble for his help in
building a model that also works well within the iOS audio focus model; and
Mounir Lamouri and Anton Vayvod for their early involvement, feedback and
support in making this specification happen.</p>
   <p>This standard is written by Rich Tibbett (<a href="http://www.opera.com">Opera</a>, <a href="mailto:richt@opera.com">richt@opera.com</a>).</p>
   <p>Per <a href="https://creativecommons.org/publicdomain/zero/1.0/" rel="license">CC0</a>, to the extent
possible under law, the editors have waived all copyright and related or
neighboring rights to this work.</p>
<script id="head" src="https://resources.whatwg.org/dfn.js"></script>
  </main>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li>
    album
    <ul>
     <li><a href="#dom-mediametadatainit-album">dict-member for MediaMetadataInit</a><span>, in §5</span>
     <li><a href="#mediametadata-album">dfn for MediaMetadata</a><span>, in §5</span>
     <li><a href="#dom-mediametadata-album">attribute for MediaMetadata</a><span>, in §5</span>
    </ul>
   <li>
    artist
    <ul>
     <li><a href="#dom-mediametadatainit-artist">dict-member for MediaMetadataInit</a><span>, in §5</span>
     <li><a href="#mediametadata-artist">dfn for MediaMetadata</a><span>, in §5</span>
     <li><a href="#dom-mediametadata-artist">attribute for MediaMetadata</a><span>, in §5</span>
    </ul>
   <li>
    artwork
    <ul>
     <li><a href="#dom-mediametadatainit-artwork">dict-member for MediaMetadataInit</a><span>, in §5</span>
     <li><a href="#dom-mediametadata-artwork">attribute for MediaMetadata</a><span>, in §5</span>
    </ul>
   <li><a href="#mediametadata-artwork-images">artwork images</a><span>, in §5</span>
   <li><a href="#fetch-image-algorithm">fetch image algorithm</a><span>, in §7</span>
   <li><a href="#mediaimage">MediaImage</a><span>, in §6</span>
   <li><a href="#dom-mediaimage-mediaimage">MediaImage(init)</a><span>, in §6</span>
   <li><a href="#dictdef-mediaimageinit">MediaImageInit</a><span>, in §6</span>
   <li><a href="#mediametadata">MediaMetadata</a><span>, in §5</span>
   <li><a href="#dom-mediametadata-mediametadata">MediaMetadata(init)</a><span>, in §5</span>
   <li><a href="#dictdef-mediametadatainit">MediaMetadataInit</a><span>, in §5</span>
   <li><a href="#media-session">media session</a><span>, in §4</span>
   <li><a href="#mediasession">MediaSession</a><span>, in §4</span>
   <li><a href="#dom-navigator-mediasession">mediaSession</a><span>, in §4</span>
   <li><a href="#media-session-metadata">media session metadata</a><span>, in §4</span>
   <li><a href="#dom-mediasession-metadata">metadata</a><span>, in §4</span>
   <li><a href="#most-meaningful-audio-producing-tab">most meaningful audio-producing tab</a><span>, in §7</span>
   <li><a href="#prefered-artwork-image">prefered artwork image</a><span>, in §7</span>
   <li>
    sizes
    <ul>
     <li><a href="#dom-mediaimageinit-sizes">dict-member for MediaImageInit</a><span>, in §6</span>
     <li><a href="#mediaimage-sizes">dfn for MediaImage</a><span>, in §6</span>
     <li><a href="#dom-mediaimage-sizes">attribute for MediaImage</a><span>, in §6</span>
    </ul>
   <li><a href="#mediaimage-source">source</a><span>, in §6</span>
   <li>
    src
    <ul>
     <li><a href="#dom-mediaimageinit-src">dict-member for MediaImageInit</a><span>, in §6</span>
     <li><a href="#dom-mediaimage-src">attribute for MediaImage</a><span>, in §6</span>
    </ul>
   <li><a href="#tab-level-active-media-session">tab-level active media session</a><span>, in §7</span>
   <li>
    title
    <ul>
     <li><a href="#dom-mediametadatainit-title">dict-member for MediaMetadataInit</a><span>, in §5</span>
     <li><a href="#mediametadata-title">dfn for MediaMetadata</a><span>, in §5</span>
     <li><a href="#dom-mediametadata-title">attribute for MediaMetadata</a><span>, in §5</span>
    </ul>
   <li>
    type
    <ul>
     <li><a href="#dom-mediaimageinit-type">dict-member for MediaImageInit</a><span>, in §6</span>
     <li><a href="#mediaimage-type">dfn for MediaImage</a><span>, in §6</span>
     <li><a href="#dom-mediaimage-type">attribute for MediaImage</a><span>, in §6</span>
    </ul>
   <li><a href="#update-metadata-algorithm">update metadata algorithm</a><span>, in §7</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[appmanifest]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/TR/appmanifest/#dfn-image-object">image object</a>
    </ul>
   <li>
    <a data-link-type="biblio">[FETCH]</a> defines the following terms:
    <ul>
     <li><a href="https://fetch.spec.whatwg.org/#concept-fetch">fetch</a>
     <li><a href="https://fetch.spec.whatwg.org/#concept-internal-response">internal response</a>
     <li><a href="https://fetch.spec.whatwg.org/#concept-response">response</a>
     <li><a href="https://fetch.spec.whatwg.org/#concept-response-type">response type</a>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#navigator">Navigator</a>
     <li><a href="https://html.spec.whatwg.org/multipage/browsers.html#window">Window</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#ascii-case-insensitive">ascii case-insensitive</a>
     <li><a href="https://html.spec.whatwg.org/multipage/browsers.html#browsing-context">browsing context</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#case-sensitivity-and-string-comparison">case-sensitive</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#document-base-url">document base url</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>
     <li><a href="https://html.spec.whatwg.org/multipage/semantics.html#the-link-element">link</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#media-element">media element</a>
     <li><a href="https://html.spec.whatwg.org/multipage/browsers.html#nested-browsing-context">nested browsing context</a>
     <li><a href="https://html.spec.whatwg.org/multipage/semantics.html#attr-link-sizes">sizes</a>
     <li><a href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level browsing context</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#unordered-set-of-unique-space-separated-tokens">unordered set of unique space-separated tokens</a>
    </ul>
   <li>
    <a data-link-type="biblio">[WHATWG-URL]</a> defines the following terms:
    <ul>
     <li><a href="https://url.spec.whatwg.org/#syntax-url-absolute">absolute url</a>
     <li><a href="https://url.spec.whatwg.org/#syntax-url-relative">relative url</a>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><a href="https://heycam.github.io/webidl/#Exposed">Exposed</a>
     <li><a href="https://heycam.github.io/webidl/#SameObject">SameObject</a>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-appmanifest">[APPMANIFEST]
   <dd>Marcos Caceres; et al. <a href="https://w3c.github.io/manifest/">Web App Manifest</a>. 12 September 2016. WD. URL: <a href="https://w3c.github.io/manifest/">https://w3c.github.io/manifest/</a>
   <dt id="biblio-fetch">[FETCH]
   <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/">Fetch Standard</a>. Living Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
   <dt id="biblio-html">[HTML]
   <dd>Ian Hickson. <a href="https://html.spec.whatwg.org/multipage/">HTML Standard</a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Cameron McCormack; Boris Zbarsky. <a href="https://heycam.github.io/webidl/">WebIDL Level 1</a>. 8 March 2016. CR. URL: <a href="https://heycam.github.io/webidl/">https://heycam.github.io/webidl/</a>
   <dt id="biblio-whatwg-url">[WHATWG-URL]
   <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/">URL Standard</a>. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl def">[<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=(<span class="n">Window</span>)]
<span class="kt">partial</span> <span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/webappapis.html#navigator">Navigator</a> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#mediasession">MediaSession</a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="MediaSession" href="#dom-navigator-mediasession">mediaSession</a>;
};

<span class="kt">interface</span> <a class="nv" href="#mediasession">MediaSession</a> {
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#mediametadata">MediaMetadata</a>? <a class="nv idl-code" data-link-type="attribute" data-type="MediaMetadata?" href="#dom-mediasession-metadata">metadata</a>;
};

[<a class="nv idl-code" data-link-type="constructor" href="#dom-mediametadata-mediametadata">Constructor</a>(<span class="kt">optional</span> <a class="n" data-link-type="idl-name" href="#dictdef-mediametadatainit">MediaMetadataInit</a> <a class="nv" href="#dom-mediametadata-mediametadata-init-init">init</a>)]
<span class="kt">interface</span> <a class="nv" href="#mediametadata">MediaMetadata</a> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-mediametadata-title">title</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-mediametadata-artist">artist</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-mediametadata-album">album</a>;
  [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">FrozenArray</span>&lt;<a class="n" data-link-type="idl-name" href="#mediaimage">MediaImage</a>> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="FrozenArray<MediaImage>" href="#dom-mediametadata-artwork">artwork</a>;
};

<span class="kt">dictionary</span> <a class="nv" href="#dictdef-mediametadatainit">MediaMetadataInit</a> {
  <span class="kt">DOMString</span> <a class="nv" data-default="&quot;&quot;" data-type="DOMString " href="#dom-mediametadatainit-title">title</a> = "";
  <span class="kt">DOMString</span> <a class="nv" data-default="&quot;&quot;" data-type="DOMString " href="#dom-mediametadatainit-artist">artist</a> = "";
  <span class="kt">DOMString</span> <a class="nv" data-default="&quot;&quot;" data-type="DOMString " href="#dom-mediametadatainit-album">album</a> = "";
  <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#dictdef-mediaimageinit">MediaImageInit</a>> <a class="nv" data-default="None" data-type="sequence<MediaImageInit> " href="#dom-mediametadatainit-artwork">artwork</a> = [];
};

[<a class="nv idl-code" data-link-type="constructor" href="#dom-mediaimage-mediaimage">Constructor</a>(<span class="kt">optional</span> <a class="n" data-link-type="idl-name" href="#dictdef-mediaimageinit">MediaImageInit</a> <a class="nv" href="#dom-mediaimage-mediaimage-init-init">init</a>)]
<span class="kt">interface</span> <a class="nv" href="#mediaimage">MediaImage</a> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">USVString</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="USVString" href="#dom-mediaimage-src">src</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-mediaimage-sizes">sizes</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-mediaimage-type">type</a>;
};

<span class="kt">dictionary</span> <a class="nv" href="#dictdef-mediaimageinit">MediaImageInit</a> {
  <span class="kt">USVString</span> <a class="nv" data-default="&quot;&quot;" data-type="USVString " href="#dom-mediaimageinit-src">src</a> = "";
  <span class="kt">DOMString</span> <a class="nv" data-default="&quot;&quot;" data-type="DOMString " href="#dom-mediaimageinit-sizes">sizes</a> = "";
  <span class="kt">DOMString</span> <a class="nv" data-default="&quot;&quot;" data-type="DOMString " href="#dom-mediaimageinit-type">type</a> = "";
};

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> It is still an open question whether an <code class="idl"><a data-link-type="idl" href="#mediasession">MediaSession</a></code> object is allowed to
  become the <a data-link-type="dfn" href="#tab-level-active-media-session">tab-level active media session</a>. See the <a href="https://github.com/WICG/mediasession/issues/136">issue on GitHub</a>. <a href="#whether-allow-child-frame-media-session"> ↵ </a></div>
  </div>